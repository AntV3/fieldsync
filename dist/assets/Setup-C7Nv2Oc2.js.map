{"version":3,"file":"Setup-C7Nv2Oc2.js","sources":["../../src/components/Setup.jsx"],"sourcesContent":["import { useState, useRef } from 'react'\nimport { db } from '../lib/supabase'\nimport * as XLSX from 'xlsx'\n\n// Currency formatting helpers\nconst formatCurrencyDisplay = (value) => {\n  if (value === null || value === undefined || value === '') return ''\n  const num = parseFloat(value)\n  if (isNaN(num)) return ''\n  return new Intl.NumberFormat('en-US', {\n    style: 'currency',\n    currency: 'USD',\n    minimumFractionDigits: 0,\n    maximumFractionDigits: 0\n  }).format(num)\n}\n\nconst parseCurrencyInput = (value) => {\n  if (!value) return null\n  // Remove currency symbols, commas, and spaces\n  const cleaned = String(value).replace(/[$,\\s]/g, '')\n  const num = parseFloat(cleaned)\n  return isNaN(num) ? null : num\n}\n\nexport default function Setup({ company, user, onProjectCreated, onShowToast }) {\n  const [projectName, setProjectName] = useState('')\n  const [jobNumber, setJobNumber] = useState('')\n  const [address, setAddress] = useState('')\n  const [generalContractor, setGeneralContractor] = useState('')\n  const [contractValue, setContractValue] = useState('')\n  const [pin, setPin] = useState('')\n  const [workType, setWorkType] = useState('demolition')\n  const [jobType, setJobType] = useState('standard')\n  const [areas, setAreas] = useState([\n    { name: '', weight: '', group: '', scheduledValue: null },\n    { name: '', weight: '', group: '', scheduledValue: null },\n    { name: '', weight: '', group: '', scheduledValue: null }\n  ])\n  const [creating, setCreating] = useState(false)\n  const [importing, setImporting] = useState(false)\n  const [showImportReview, setShowImportReview] = useState(false)\n  const [importedTasks, setImportedTasks] = useState([])\n  const [showWeightDropdown, setShowWeightDropdown] = useState(false)\n  const [startDate, setStartDate] = useState('')\n  const [endDate, setEndDate] = useState('')\n  const [plannedManDays, setPlannedManDays] = useState('')\n  const fileInputRef = useRef(null)\n\n  const totalWeight = areas.reduce((sum, area) => {\n    return sum + (parseFloat(area.weight) || 0)\n  }, 0)\n\n  const handlePinChange = (value) => {\n    const cleaned = value.replace(/\\D/g, '').slice(0, 4)\n    setPin(cleaned)\n  }\n\n  const generateRandomPin = () => {\n    // Use crypto for secure random PIN generation\n    const array = new Uint32Array(1)\n    crypto.getRandomValues(array)\n    const randomPin = (1000 + (array[0] % 9000)).toString()\n    setPin(randomPin)\n  }\n\n  const handleAreaChange = (index, field, value) => {\n    setAreas(prev => prev.map((area, i) => \n      i === index ? { ...area, [field]: value } : area\n    ))\n  }\n\n  const addArea = () => {\n    setAreas(prev => [...prev, { name: '', weight: '', group: '', scheduledValue: null }])\n  }\n\n  const removeArea = (index) => {\n    if (areas.length > 1) {\n      setAreas(prev => prev.filter((_, i) => i !== index))\n    }\n  }\n\n  // Auto-generate weights based on scheduled values or equal distribution\n  const autoGenerateWeights = (method = 'value') => {\n    const validAreas = areas.filter(a => a.name.trim())\n    if (validAreas.length === 0) {\n      onShowToast('Add tasks first', 'error')\n      return\n    }\n\n    let newAreas = [...areas]\n    const validIndices = areas.map((a, i) => a.name.trim() ? i : -1).filter(i => i >= 0)\n\n    if (method === 'value') {\n      const totalValue = validAreas.reduce((sum, a) => sum + (parseFloat(a.scheduledValue) || 0), 0)\n\n      if (totalValue === 0) {\n        // Fallback to equal if no values\n        onShowToast('No scheduled values - using equal distribution', 'info')\n        method = 'equal'\n      } else {\n        let runningTotal = 0\n        validIndices.forEach((areaIndex, i) => {\n          const value = parseFloat(areas[areaIndex].scheduledValue) || 0\n          let weight\n\n          if (i === validIndices.length - 1) {\n            // Last item gets remainder to ensure exactly 100%\n            weight = 100 - runningTotal\n          } else {\n            weight = Math.round((value / totalValue) * 10000) / 100\n            runningTotal += weight\n          }\n\n          newAreas[areaIndex] = { ...newAreas[areaIndex], weight: weight.toFixed(2) }\n        })\n\n        setAreas(newAreas)\n        setShowWeightDropdown(false)\n        onShowToast('Weights calculated by value', 'success')\n        return\n      }\n    }\n\n    // Equal distribution\n    const weight = Math.round((100 / validIndices.length) * 100) / 100\n    let runningTotal = 0\n\n    validIndices.forEach((areaIndex, i) => {\n      let w\n      if (i === validIndices.length - 1) {\n        w = 100 - runningTotal\n      } else {\n        w = weight\n        runningTotal += w\n      }\n      newAreas[areaIndex] = { ...newAreas[areaIndex], weight: w.toFixed(2) }\n    })\n\n    setAreas(newAreas)\n    setShowWeightDropdown(false)\n    onShowToast('Weights distributed equally', 'success')\n  }\n\n  const resetForm = () => {\n    setProjectName('')\n    setJobNumber('')\n    setAddress('')\n    setGeneralContractor('')\n    setContractValue('')\n    setPin('')\n    setWorkType('demolition')\n    setJobType('standard')\n    setStartDate('')\n    setEndDate('')\n    setPlannedManDays('')\n    setAreas([\n      { name: '', weight: '', group: '', scheduledValue: null },\n      { name: '', weight: '', group: '', scheduledValue: null },\n      { name: '', weight: '', group: '', scheduledValue: null }\n    ])\n    setShowImportReview(false)\n    setImportedTasks([])\n  }\n\n  // Excel Import Functions\n  const handleImportClick = () => {\n    fileInputRef.current?.click()\n  }\n\n  const parseExcel = (file) => {\n    return new Promise((resolve, reject) => {\n      const reader = new FileReader()\n\n      reader.onload = (e) => {\n        try {\n          const data = new Uint8Array(e.target.result)\n          const workbook = XLSX.read(data, { type: 'array' })\n\n          // Get first sheet\n          const sheetName = workbook.SheetNames[0]\n          const sheet = workbook.Sheets[sheetName]\n\n          // Convert to array of arrays\n          const rows = XLSX.utils.sheet_to_json(sheet, { header: 1 })\n\n          const tasks = []\n          let currentGroup = 'General'\n\n          // Patterns for SOV and bid sheet parsing\n          const dollarPattern = /^\\$?\\d{1,3}(,\\d{3})*(\\.\\d{2})?$/\n          const itemNumberPattern = /^(\\d+\\.?\\d*|[A-Z]\\.?\\d*)$/i\n          const unitPattern = /^(SF|LF|EA|LS|Days?|MD|Load|CY|SY|GAL|TON)$/i\n          const quantityPattern = /^\\d{1,3}(,\\d{3})*$|^\\d+$/\n\n          // Header patterns to skip\n          const headerPattern = /^(Item|#|No\\.?|Description|Scheduled|Value|Amount|Quantity|Unit|Total|Application|Balance|Completed|Stored|Retainage)/i\n\n          for (const row of rows) {\n            if (!row || row.length === 0) continue\n\n            // Flatten row: remove nulls and join non-empty cells\n            const cells = row\n              .map(cell => cell === null || cell === undefined ? '' : String(cell).trim())\n              .filter(cell => cell.length > 0)\n\n            if (cells.length === 0) continue\n\n            const rowText = cells.join(' ')\n\n            // Skip header rows\n            if (headerPattern.test(cells[0]) || (cells.length > 1 && headerPattern.test(cells[1]))) {\n              continue\n            }\n\n            // Skip total/subtotal rows\n            if (/^(Total|Subtotal|Grand Total|Base Bid|Contract Sum)/i.test(rowText)) {\n              continue\n            }\n\n            // Check if this is a group header\n            // Group headers: single text, no dollar amounts, matches area patterns\n            const hasDollarAmount = cells.some(c => dollarPattern.test(c.replace(/[$,]/g, '') + (c.includes('.') ? '' : '.00')))\n            const isGroupHeader =\n              !hasDollarAmount &&\n              cells.length <= 3 &&\n              /^(L\\d|Level|Floor|\\d+(?:st|nd|rd|th)|Plaza|Street|Basement|Roof|Penthouse|Site|Exterior|Interior|Misc|MEP|ABATEMENT|DEMOLITION|UNIVERSAL|SOFT|TRASH|DEMO|Phase|Division|Section|Area|Building|Wing)/i.test(cells[0]) ||\n              // Also check for SOV parent items (just number + description, no dollar on same line that looks like a header)\n              (cells.length === 2 && itemNumberPattern.test(cells[0]) && !hasDollarAmount && !/^\\d+\\.\\d+$/.test(cells[0]))\n\n            if (isGroupHeader && !hasDollarAmount) {\n              // Extract group name, removing any item number prefix\n              let groupName = cells.find(c => !itemNumberPattern.test(c) && c.length > 1) || cells.join(' ')\n              currentGroup = groupName\n                .replace(/\\s*\\(\\d{1,3}(?:,\\d{3})*\\s*SF\\)\\s*$/i, '')\n                .replace(/\\s*[-:]\\s*$/, '')\n                .trim()\n              continue\n            }\n\n            // Try to extract task from row\n            let description = ''\n            let hasValue = false\n            let itemNumber = ''\n            let scheduledValue = null\n\n            const descParts = []\n\n            for (let i = 0; i < cells.length; i++) {\n              const cell = cells[i]\n\n              // Check for item number in first cell\n              if (i === 0 && itemNumberPattern.test(cell)) {\n                itemNumber = cell\n                continue\n              }\n\n              // Skip ID codes (like \"ID-111\")\n              if (/^ID-\\d+$/i.test(cell)) continue\n              if (/^KN\\s*\\d+$/i.test(cell)) continue\n\n              // Check for dollar amounts (SOV scheduled values) - CAPTURE the value\n              if (dollarPattern.test(cell.replace(/[$,]/g, '') + (cell.includes('.') ? '' : '.00')) || /^\\$/.test(cell)) {\n                const cleanValue = cell.replace(/[$,]/g, '')\n                const parsedValue = parseFloat(cleanValue)\n                // Only capture if it's a reasonable dollar amount (> $100, likely a line item value)\n                if (!isNaN(parsedValue) && parsedValue > 100) {\n                  // Keep the largest dollar value found (likely the scheduled value, not quantities)\n                  if (scheduledValue === null || parsedValue > scheduledValue) {\n                    scheduledValue = parsedValue\n                  }\n                }\n                hasValue = true\n                continue\n              }\n\n              // Skip quantities and units\n              if (quantityPattern.test(cell.replace(/,/g, ''))) {\n                hasValue = true\n                continue\n              }\n              if (unitPattern.test(cell)) continue\n\n              // Skip percentage values\n              if (/^\\d+\\.?\\d*%$/.test(cell)) continue\n\n              // This is description text\n              if (cell.length > 1 && !itemNumberPattern.test(cell)) {\n                descParts.push(cell)\n              }\n            }\n\n            description = descParts.join(' ').trim()\n\n            // Clean up description\n            description = description\n              .replace(/\\s+/g, ' ')\n              .replace(/^[-â€¢]\\s*/, '') // Remove bullet points\n              .trim()\n\n            // Skip if no valid description or too short\n            if (description.length < 3) continue\n            if (/^(Plan|Page|Total|Base Bid|Payment|Condition|Exclusion|Subtotal)/i.test(description)) continue\n\n            // Add task if we found a value/quantity (indicates it's a real line item)\n            if (hasValue && description.length >= 3) {\n              tasks.push({\n                name: description,\n                group: currentGroup,\n                itemNumber: itemNumber,\n                scheduledValue: scheduledValue,\n                selected: true\n              })\n            }\n          }\n\n          // Deduplicate\n          const seen = new Set()\n          const uniqueTasks = tasks.filter(task => {\n            const key = `${task.group}:${task.name}`\n            if (seen.has(key)) return false\n            seen.add(key)\n            return true\n          })\n\n          resolve(uniqueTasks)\n        } catch (error) {\n          reject(error)\n        }\n      }\n\n      reader.onerror = () => reject(new Error('Failed to read file'))\n      reader.readAsArrayBuffer(file)\n    })\n  }\n\n  const handleFileSelect = async (e) => {\n    const file = e.target.files?.[0]\n    if (!file) return\n    \n    const validTypes = [\n      'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet', // .xlsx\n      'application/vnd.ms-excel', // .xls\n      'text/csv'\n    ]\n    \n    const ext = file.name.split('.').pop().toLowerCase()\n    if (!['xlsx', 'xls', 'csv'].includes(ext)) {\n      onShowToast('Please upload an Excel file (.xlsx, .xls, or .csv)', 'error')\n      return\n    }\n    \n    setImporting(true)\n    \n    try {\n      const tasks = await parseExcel(file)\n      \n      if (tasks.length === 0) {\n        onShowToast('No tasks found. Check Excel format.', 'error')\n        setImporting(false)\n        return\n      }\n      \n      setImportedTasks(tasks)\n      setShowImportReview(true)\n      onShowToast(`Found ${tasks.length} tasks`, 'success')\n    } catch (error) {\n      console.error('Excel import error:', error)\n      onShowToast('Error reading Excel file', 'error')\n    } finally {\n      setImporting(false)\n      if (fileInputRef.current) {\n        fileInputRef.current.value = ''\n      }\n    }\n  }\n\n  const toggleTaskSelection = (index) => {\n    setImportedTasks(prev => prev.map((task, i) => \n      i === index ? { ...task, selected: !task.selected } : task\n    ))\n  }\n\n  const handleUseImportedTasks = () => {\n    const selectedTasks = importedTasks.filter(t => t.selected)\n    if (selectedTasks.length === 0) {\n      onShowToast('Please select at least one task', 'error')\n      return\n    }\n\n    // Calculate total SOV\n    const totalSOV = selectedTasks.reduce((sum, t) => sum + (t.scheduledValue || 0), 0)\n    const formatter = new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD', maximumFractionDigits: 0 })\n\n    let newAreas\n    if (totalSOV > 0) {\n      // Value-based weights (proportional to scheduled value)\n      let runningTotal = 0\n      newAreas = selectedTasks.map((task, index) => {\n        const value = task.scheduledValue || 0\n        let weight\n\n        if (index === selectedTasks.length - 1) {\n          // Last item gets remainder to ensure exactly 100%\n          weight = 100 - runningTotal\n        } else {\n          weight = Math.round((value / totalSOV) * 10000) / 100\n          runningTotal += weight\n        }\n\n        return {\n          name: task.name,\n          weight: weight.toFixed(2),\n          group: task.group,\n          scheduledValue: task.scheduledValue || null\n        }\n      })\n\n      onShowToast(`Tasks imported with value-based weights! Total SOV: ${formatter.format(totalSOV)}`, 'success')\n    } else {\n      // Equal distribution fallback (no scheduled values)\n      const weight = Math.round((100 / selectedTasks.length) * 100) / 100\n      newAreas = selectedTasks.map((task, index) => ({\n        name: task.name,\n        weight: index === selectedTasks.length - 1\n          ? (100 - (weight * (selectedTasks.length - 1))).toFixed(2)\n          : weight.toFixed(2),\n        group: task.group,\n        scheduledValue: task.scheduledValue || null\n      }))\n\n      onShowToast('Tasks imported with equal weights', 'success')\n    }\n\n    setAreas(newAreas)\n    setShowImportReview(false)\n  }\n\n  const handleSubmit = async () => {\n    if (!company?.id) {\n      onShowToast('No company selected. Please log in again.', 'error')\n      return\n    }\n\n    if (!projectName.trim()) {\n      onShowToast('Please enter a project name', 'error')\n      return\n    }\n\n    const contractVal = parseFloat(contractValue)\n    if (!contractVal || contractVal <= 0) {\n      onShowToast('Please enter a valid contract value', 'error')\n      return\n    }\n\n    if (pin.length !== 4) {\n      onShowToast('Please enter a 4-digit PIN', 'error')\n      return\n    }\n\n    const pinAvailable = await db.isPinAvailable(pin)\n    if (!pinAvailable) {\n      onShowToast('This PIN is already in use. Try another.', 'error')\n      return\n    }\n\n    const validAreas = areas.filter(a => a.name.trim() && parseFloat(a.weight) > 0)\n    if (validAreas.length === 0) {\n      onShowToast('Please add at least one area', 'error')\n      return\n    }\n\n    if (Math.abs(totalWeight - 100) > 0.1) {\n      onShowToast('Area weights must total 100%', 'error')\n      return\n    }\n\n    if (!startDate || !endDate) {\n      onShowToast('Start date and end date are required', 'error')\n      return\n    }\n\n    if (new Date(endDate) < new Date(startDate)) {\n      onShowToast('End date must be on or after start date', 'error')\n      return\n    }\n\n    setCreating(true)\n\n    try {\n      const project = await db.createProject({\n        name: projectName.trim(),\n        job_number: jobNumber.trim() || null,\n        address: address.trim() || null,\n        general_contractor: generalContractor.trim() || null,\n        contract_value: contractVal,\n        pin: pin,\n        work_type: workType,\n        job_type: jobType,\n        company_id: company?.id,\n        created_by: user?.id,\n        start_date: startDate,\n        end_date: endDate,\n        planned_man_days: plannedManDays ? parseInt(plannedManDays) : null\n      })\n\n      for (let i = 0; i < validAreas.length; i++) {\n        await db.createArea({\n          project_id: project.id,\n          name: validAreas[i].name.trim(),\n          weight: parseFloat(validAreas[i].weight),\n          scheduled_value: validAreas[i].scheduledValue || null,\n          group_name: validAreas[i].group || null,\n          status: 'not_started',\n          sort_order: i\n        })\n      }\n\n      onShowToast('Project created!', 'success')\n      resetForm()\n      onProjectCreated()\n    } catch (error) {\n      console.error('Error creating project:', error)\n      onShowToast('Error creating project', 'error')\n    } finally {\n      setCreating(false)\n    }\n  }\n\n  // Import Review Screen\n  if (showImportReview) {\n    const groups = [...new Set(importedTasks.map(t => t.group))]\n    const selectedCount = importedTasks.filter(t => t.selected).length\n    const totalSOV = importedTasks.reduce((sum, t) => sum + (t.scheduledValue || 0), 0)\n    const selectedSOV = importedTasks.filter(t => t.selected).reduce((sum, t) => sum + (t.scheduledValue || 0), 0)\n\n    return (\n      <div>\n        <h1>Review Imported Tasks</h1>\n        <p className=\"subtitle\">Select the tasks to include in your project</p>\n\n        <div className=\"import-summary\">\n          <span>{selectedCount} of {importedTasks.length} tasks selected</span>\n          {totalSOV > 0 && (\n            <span className=\"import-sov-total\">\n              Â· Total SOV: {new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD', minimumFractionDigits: 0, maximumFractionDigits: 0 }).format(selectedSOV)}\n            </span>\n          )}\n        </div>\n        \n        {groups.map(group => {\n          const groupTasks = importedTasks.filter(t => t.group === group)\n          const groupSelectedCount = groupTasks.filter(t => t.selected).length\n          \n          return (\n            <div key={group} className=\"card import-group\">\n              <div className=\"import-group-header\">\n                <h3>{group}</h3>\n                <span className=\"import-group-count\">{groupSelectedCount}/{groupTasks.length}</span>\n              </div>\n              <div className=\"import-task-list\">\n                {groupTasks.map(task => {\n                  const taskIndex = importedTasks.indexOf(task)\n                  return (\n                    <label key={taskIndex} className=\"import-task-item\">\n                      <input\n                        type=\"checkbox\"\n                        checked={task.selected}\n                        onChange={() => toggleTaskSelection(taskIndex)}\n                      />\n                      <span className=\"import-task-name\">{task.name}</span>\n                      {task.scheduledValue > 0 && (\n                        <span className=\"import-task-value\">\n                          {new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD', minimumFractionDigits: 0, maximumFractionDigits: 0 }).format(task.scheduledValue)}\n                        </span>\n                      )}\n                    </label>\n                  )\n                })}\n              </div>\n            </div>\n          )\n        })}\n        \n        <div className=\"import-actions\">\n          <button \n            className=\"btn btn-secondary\" \n            onClick={() => setShowImportReview(false)}\n          >\n            Cancel\n          </button>\n          <button \n            className=\"btn btn-primary\" \n            onClick={handleUseImportedTasks}\n          >\n            Use Selected Tasks ({selectedCount})\n          </button>\n        </div>\n      </div>\n    )\n  }\n\n  // Group areas by group_name for display\n  const groupedAreas = areas.reduce((acc, area, index) => {\n    const group = area.group || 'General'\n    if (!acc[group]) acc[group] = []\n    acc[group].push({ ...area, originalIndex: index })\n    return acc\n  }, {})\n\n  const hasGroups = Object.keys(groupedAreas).length > 1 || \n    (Object.keys(groupedAreas).length === 1 && !groupedAreas['General'])\n\n  return (\n    <div>\n      <h1>New Project</h1>\n      <p className=\"subtitle\">Set up a new project to track</p>\n\n      <div className=\"card\">\n        <div className=\"form-group\">\n          <label>Project Name</label>\n          <input\n            type=\"text\"\n            placeholder=\"e.g., Sunrise Apartments\"\n            value={projectName}\n            onChange={(e) => setProjectName(e.target.value)}\n          />\n        </div>\n\n        <div className=\"form-row-2\">\n          <div className=\"form-group\">\n            <label>Job Number</label>\n            <input\n              type=\"text\"\n              placeholder=\"e.g., 4032\"\n              value={jobNumber}\n              onChange={(e) => setJobNumber(e.target.value)}\n            />\n          </div>\n\n          <div className=\"form-group\">\n            <label>Contract Value ($)</label>\n            <input\n              type=\"text\"\n              inputMode=\"decimal\"\n              placeholder=\"e.g., 365000\"\n              value={contractValue}\n              onChange={(e) => {\n                const cleaned = e.target.value.replace(/[^0-9.]/g, '')\n                setContractValue(cleaned)\n              }}\n              className=\"currency-input\"\n            />\n          </div>\n        </div>\n\n        <div className=\"form-group\">\n          <label>Project Address</label>\n          <input\n            type=\"text\"\n            placeholder=\"e.g., 123 Main St, Los Angeles, CA 90001\"\n            value={address}\n            onChange={(e) => setAddress(e.target.value)}\n          />\n        </div>\n\n        <div className=\"form-group\">\n          <label>General Contractor</label>\n          <input\n            type=\"text\"\n            placeholder=\"e.g., ABC Construction Inc.\"\n            value={generalContractor}\n            onChange={(e) => setGeneralContractor(e.target.value)}\n          />\n        </div>\n\n        <div className=\"form-row-2\">\n          <div className=\"form-group\">\n            <label>Start Date <span className=\"required\">*</span></label>\n            <input\n              type=\"date\"\n              value={startDate}\n              onChange={(e) => setStartDate(e.target.value)}\n              required\n            />\n          </div>\n          <div className=\"form-group\">\n            <label>End Date <span className=\"required\">*</span></label>\n            <input\n              type=\"date\"\n              value={endDate}\n              onChange={(e) => setEndDate(e.target.value)}\n              min={startDate || undefined}\n              required\n            />\n            {startDate && endDate && new Date(endDate) < new Date(startDate) && (\n              <span className=\"error-text\">End date must be after start date</span>\n            )}\n          </div>\n        </div>\n\n        <div className=\"form-group\">\n          <label>Planned Man-Days <span className=\"optional\">(optional)</span></label>\n          <p style={{ color: 'var(--text-secondary)', fontSize: '0.85rem', marginBottom: '0.5rem' }}>\n            Total estimated man-days to complete the project\n          </p>\n          <input\n            type=\"number\"\n            inputMode=\"numeric\"\n            placeholder=\"e.g., 120\"\n            value={plannedManDays}\n            onChange={(e) => setPlannedManDays(e.target.value.replace(/\\D/g, ''))}\n            min=\"1\"\n          />\n        </div>\n\n        <div className=\"form-row-2\">\n          <div className=\"form-group\">\n            <label>Work Type</label>\n            <div className=\"project-type-toggle\">\n              <button\n                type=\"button\"\n                className={`toggle-btn ${workType === 'demolition' ? 'active' : ''}`}\n                onClick={() => setWorkType('demolition')}\n              >\n                Demolition\n              </button>\n              <button\n                type=\"button\"\n                className={`toggle-btn ${workType === 'abatement' ? 'active' : ''}`}\n                onClick={() => setWorkType('abatement')}\n              >\n                Abatement\n              </button>\n            </div>\n          </div>\n\n          <div className=\"form-group\">\n            <label>Job Type</label>\n            <div className=\"project-type-toggle\">\n              <button\n                type=\"button\"\n                className={`toggle-btn ${jobType === 'standard' ? 'active' : ''}`}\n                onClick={() => setJobType('standard')}\n              >\n                Standard\n              </button>\n              <button\n                type=\"button\"\n                className={`toggle-btn ${jobType === 'pla' ? 'active' : ''}`}\n                onClick={() => setJobType('pla')}\n              >\n                PLA\n              </button>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"form-group\">\n          <label>Foreman PIN (4 digits)</label>\n          <p style={{ color: 'var(--text-secondary)', fontSize: '0.85rem', marginBottom: '0.5rem' }}>\n            Foremen will enter this PIN to access this project\n          </p>\n          <div className=\"pin-input-row\">\n            <input\n              type=\"text\"\n              inputMode=\"numeric\"\n              pattern=\"[0-9]*\"\n              placeholder=\"e.g., 2847\"\n              value={pin}\n              onChange={(e) => handlePinChange(e.target.value)}\n              maxLength={4}\n              className=\"pin-input\"\n            />\n            <button \n              type=\"button\" \n              className=\"btn btn-secondary\"\n              onClick={generateRandomPin}\n            >\n              Generate\n            </button>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"card\">\n        <div className=\"areas-header\">\n          <div>\n            <h3>Areas / Tasks</h3>\n            <p style={{ color: 'var(--text-secondary)', fontSize: '0.9rem', marginTop: '0.25rem' }}>\n              Define the areas for this project. Weights must total 100%.\n            </p>\n          </div>\n          <div className=\"import-btn-container\">\n            <input\n              ref={fileInputRef}\n              type=\"file\"\n              accept=\".xlsx,.xls,.csv\"\n              onChange={handleFileSelect}\n              style={{ display: 'none' }}\n            />\n            <button \n              className=\"btn btn-secondary btn-small\"\n              onClick={handleImportClick}\n              disabled={importing}\n            >\n              {importing ? 'Reading...' : 'ðŸ“Š Import Excel'}\n            </button>\n          </div>\n        </div>\n\n        {hasGroups ? (\n          // Grouped display\n          Object.entries(groupedAreas).map(([group, groupAreas]) => (\n            <div key={group} className=\"area-group\">\n              <div className=\"area-group-header\">{group}</div>\n              {groupAreas.map(area => (\n                <div key={area.originalIndex} className=\"area-row area-row-with-value\">\n                  <input\n                    type=\"text\"\n                    placeholder=\"Task name\"\n                    value={area.name}\n                    onChange={(e) => handleAreaChange(area.originalIndex, 'name', e.target.value)}\n                    className=\"area-name-input\"\n                  />\n                  <input\n                    type=\"text\"\n                    inputMode=\"decimal\"\n                    placeholder=\"$0\"\n                    value={area.scheduledValue ? formatCurrencyDisplay(area.scheduledValue) : ''}\n                    onChange={(e) => handleAreaChange(area.originalIndex, 'scheduledValue', parseCurrencyInput(e.target.value))}\n                    className=\"currency-input\"\n                  />\n                  <input\n                    type=\"text\"\n                    inputMode=\"decimal\"\n                    placeholder=\"%\"\n                    value={area.weight}\n                    onChange={(e) => handleAreaChange(area.originalIndex, 'weight', e.target.value)}\n                    className=\"weight-input\"\n                  />\n                  <button className=\"remove-btn\" onClick={() => removeArea(area.originalIndex)}>\n                    Ã—\n                  </button>\n                </div>\n              ))}\n            </div>\n          ))\n        ) : (\n          // Flat display\n          areas.map((area, index) => (\n            <div key={index} className=\"area-row area-row-with-value\">\n              <input\n                type=\"text\"\n                placeholder=\"Area name (e.g., Level 1)\"\n                value={area.name}\n                onChange={(e) => handleAreaChange(index, 'name', e.target.value)}\n                className=\"area-name-input\"\n              />\n              <input\n                type=\"text\"\n                inputMode=\"decimal\"\n                placeholder=\"$0\"\n                value={area.scheduledValue ? formatCurrencyDisplay(area.scheduledValue) : ''}\n                onChange={(e) => handleAreaChange(index, 'scheduledValue', parseCurrencyInput(e.target.value))}\n                className=\"currency-input\"\n              />\n              <input\n                type=\"text\"\n                inputMode=\"decimal\"\n                placeholder=\"%\"\n                value={area.weight}\n                onChange={(e) => handleAreaChange(index, 'weight', e.target.value)}\n                className=\"weight-input\"\n              />\n              <button className=\"remove-btn\" onClick={() => removeArea(index)}>\n                Ã—\n              </button>\n            </div>\n          ))\n        )}\n\n        <div className=\"weight-total-row\">\n          <div className=\"weight-total\">\n            <span className=\"weight-total-label\">Total Weight:</span>\n            <span className={`weight-total-value ${Math.abs(totalWeight - 100) < 0.1 ? 'valid' : 'invalid'}`}>\n              {totalWeight.toFixed(1)}%\n            </span>\n            {areas.some(a => a.scheduledValue > 0) && (\n              <span className=\"sov-total\">\n                Â· SOV: {formatCurrencyDisplay(areas.reduce((sum, a) => sum + (parseFloat(a.scheduledValue) || 0), 0))}\n              </span>\n            )}\n          </div>\n          <div className=\"auto-weight-dropdown\">\n            <button\n              type=\"button\"\n              className=\"btn btn-secondary btn-small\"\n              onClick={() => setShowWeightDropdown(!showWeightDropdown)}\n            >\n              Auto-Calculate â–¼\n            </button>\n            {showWeightDropdown && (\n              <div className=\"weight-dropdown-menu\">\n                <button onClick={() => autoGenerateWeights('value')}>\n                  By Value <span className=\"dropdown-hint\">(Recommended)</span>\n                </button>\n                <button onClick={() => autoGenerateWeights('equal')}>\n                  Equal Distribution\n                </button>\n              </div>\n            )}\n          </div>\n        </div>\n\n        <button className=\"btn btn-secondary\" onClick={addArea}>\n          + Add Area\n        </button>\n      </div>\n\n      <button \n        className=\"btn btn-primary btn-full\" \n        onClick={handleSubmit}\n        disabled={creating}\n      >\n        {creating ? 'Creating...' : 'Create Project'}\n      </button>\n    </div>\n  )\n}\n\n"],"names":["formatCurrencyDisplay","value","num","parseCurrencyInput","cleaned","Setup","company","user","onProjectCreated","onShowToast","projectName","setProjectName","useState","jobNumber","setJobNumber","address","setAddress","generalContractor","setGeneralContractor","contractValue","setContractValue","pin","setPin","workType","setWorkType","jobType","setJobType","areas","setAreas","creating","setCreating","importing","setImporting","showImportReview","setShowImportReview","importedTasks","setImportedTasks","showWeightDropdown","setShowWeightDropdown","startDate","setStartDate","endDate","setEndDate","plannedManDays","setPlannedManDays","fileInputRef","useRef","totalWeight","sum","area","handlePinChange","generateRandomPin","array","randomPin","handleAreaChange","index","field","prev","i","addArea","removeArea","_","autoGenerateWeights","method","validAreas","a","newAreas","validIndices","totalValue","runningTotal","areaIndex","weight","w","resetForm","handleImportClick","parseExcel","file","resolve","reject","reader","e","data","workbook","XLSX.read","sheetName","sheet","rows","XLSX.utils","tasks","currentGroup","dollarPattern","itemNumberPattern","unitPattern","quantityPattern","headerPattern","row","cells","cell","rowText","hasDollarAmount","c","description","hasValue","itemNumber","scheduledValue","descParts","cleanValue","parsedValue","seen","uniqueTasks","task","key","error","handleFileSelect","ext","toggleTaskSelection","handleUseImportedTasks","selectedTasks","t","totalSOV","formatter","handleSubmit","contractVal","db","project","groups","selectedCount","selectedSOV","jsx","jsxs","group","groupTasks","groupSelectedCount","taskIndex","groupedAreas","acc","hasGroups","groupAreas"],"mappings":"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"}