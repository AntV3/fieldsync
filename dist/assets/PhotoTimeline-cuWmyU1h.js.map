{"version":3,"file":"PhotoTimeline-cuWmyU1h.js","sources":["../../src/components/PhotoTimeline.jsx"],"sourcesContent":["import { useState, useEffect, useMemo, useCallback } from 'react'\nimport { Camera, ChevronDown, ChevronUp, Calendar, MapPin, Filter, X, ZoomIn, ChevronLeft, ChevronRight } from 'lucide-react'\nimport { supabase, isSupabaseConfigured, db } from '../lib/supabase'\n\n/**\n * PhotoTimeline - Visual progress photo timeline organized by area and date.\n * Shows construction progress documentation for disputes, owner reports, and team review.\n */\nexport default function PhotoTimeline({ projectId, areas = [], onShowToast }) {\n  const [photos, setPhotos] = useState([])\n  const [loading, setLoading] = useState(true)\n  const [selectedArea, setSelectedArea] = useState('all')\n  const [lightboxPhoto, setLightboxPhoto] = useState(null)\n  const [lightboxIndex, setLightboxIndex] = useState(0)\n  const [expandedDates, setExpandedDates] = useState(new Set())\n\n  // Load photos for the project\n  const loadPhotos = useCallback(async () => {\n    if (!projectId || !isSupabaseConfigured) {\n      setLoading(false)\n      return\n    }\n\n    try {\n      // Get photos from T&M tickets and daily reports\n      // t_and_m_tickets.notes is the description field; daily_reports.photos requires migration 20260227\n      const [tmResult, reportResult] = await Promise.all([\n        supabase\n          .from('t_and_m_tickets')\n          .select('id, work_date, notes, photos, area_id')\n          .eq('project_id', projectId)\n          .order('work_date', { ascending: false }),\n        supabase\n          .from('daily_reports')\n          .select('id, report_date, field_notes, photos')\n          .eq('project_id', projectId)\n          .order('report_date', { ascending: false })\n      ])\n\n      const allPhotos = []\n\n      // Process T&M ticket photos\n      if (tmResult.data) {\n        for (const ticket of tmResult.data) {\n          const photoUrls = Array.isArray(ticket.photos) ? ticket.photos : []\n          for (const url of photoUrls) {\n            if (url) {\n              allPhotos.push({\n                id: `tm-${ticket.id}-${allPhotos.length}`,\n                url,\n                date: ticket.work_date,\n                source: 'T&M Ticket',\n                description: ticket.notes,\n                areaId: ticket.area_id\n              })\n            }\n          }\n        }\n      }\n\n      // Process daily report photos (requires migration 20260227_daily_reports_photos.sql)\n      if (reportResult.data) {\n        for (const report of reportResult.data) {\n          const photoUrls = Array.isArray(report.photos) ? report.photos : []\n          for (const url of photoUrls) {\n            if (url) {\n              allPhotos.push({\n                id: `dr-${report.id}-${allPhotos.length}`,\n                url,\n                date: report.report_date,\n                source: 'Daily Report',\n                description: report.field_notes,\n                areaId: null\n              })\n            }\n          }\n        }\n      }\n\n      // Resolve stored paths/public URLs to signed URLs (bucket is now private)\n      const rawUrls = allPhotos.map(p => p.url)\n      const signedUrls = await db.resolvePhotoUrls(rawUrls)\n      signedUrls.forEach((signed, i) => { allPhotos[i].url = signed })\n\n      setPhotos(allPhotos.filter(p => p.url))\n\n      // Auto-expand the most recent date\n      if (allPhotos.length > 0) {\n        setExpandedDates(new Set([allPhotos[0].date]))\n      }\n    } catch (err) {\n      console.error('Error loading photos:', err)\n    } finally {\n      setLoading(false)\n    }\n  }, [projectId])\n\n  useEffect(() => {\n    loadPhotos()\n  }, [loadPhotos])\n\n  // Filter photos by selected area\n  const filteredPhotos = useMemo(() => {\n    if (selectedArea === 'all') return photos\n    return photos.filter(p => p.areaId === selectedArea)\n  }, [photos, selectedArea])\n\n  // Group photos by date\n  const photosByDate = useMemo(() => {\n    const groups = {}\n    for (const photo of filteredPhotos) {\n      if (!groups[photo.date]) {\n        groups[photo.date] = []\n      }\n      groups[photo.date].push(photo)\n    }\n    // Return sorted by date descending\n    return Object.entries(groups).sort(([a], [b]) => b.localeCompare(a))\n  }, [filteredPhotos])\n\n  // All photos in flat list for lightbox navigation\n  const flatPhotos = useMemo(() => filteredPhotos, [filteredPhotos])\n\n  const toggleDate = (date) => {\n    setExpandedDates(prev => {\n      const next = new Set(prev)\n      if (next.has(date)) next.delete(date)\n      else next.add(date)\n      return next\n    })\n  }\n\n  const openLightbox = (photo) => {\n    const idx = flatPhotos.findIndex(p => p.id === photo.id)\n    setLightboxIndex(idx >= 0 ? idx : 0)\n    setLightboxPhoto(photo)\n  }\n\n  const closeLightbox = () => setLightboxPhoto(null)\n\n  const navigateLightbox = (direction) => {\n    const newIndex = lightboxIndex + direction\n    if (newIndex >= 0 && newIndex < flatPhotos.length) {\n      setLightboxIndex(newIndex)\n      setLightboxPhoto(flatPhotos[newIndex])\n    }\n  }\n\n  const formatDate = (dateStr) => {\n    const date = new Date(dateStr + 'T00:00:00')\n    return date.toLocaleDateString('en-US', { weekday: 'short', month: 'short', day: 'numeric', year: 'numeric' })\n  }\n\n  const getAreaName = (areaId) => {\n    if (!areaId) return null\n    const area = areas.find(a => a.id === areaId)\n    return area?.name || null\n  }\n\n  if (loading) {\n    return (\n      <div className=\"photo-timeline-card\">\n        <div className=\"photo-timeline-header\">\n          <Camera size={18} />\n          <h3>Progress Photos</h3>\n        </div>\n        <div className=\"photo-timeline-loading\">Loading photos...</div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"photo-timeline-card\">\n      <div className=\"photo-timeline-header\">\n        <div className=\"photo-timeline-title\">\n          <Camera size={18} />\n          <h3>Progress Photos</h3>\n          <span className=\"photo-count-badge\">{filteredPhotos.length}</span>\n        </div>\n\n        {/* Area filter */}\n        {areas.length > 0 && (\n          <div className=\"photo-area-filter\">\n            <Filter size={14} />\n            <select\n              value={selectedArea}\n              onChange={(e) => setSelectedArea(e.target.value)}\n              className=\"photo-area-select\"\n            >\n              <option value=\"all\">All Areas</option>\n              {areas.map(area => (\n                <option key={area.id} value={area.id}>{area.name}</option>\n              ))}\n            </select>\n          </div>\n        )}\n      </div>\n\n      {filteredPhotos.length === 0 ? (\n        <div className=\"photo-timeline-empty\">\n          <Camera size={32} style={{ opacity: 0.3 }} />\n          <p>No photos yet</p>\n          <span>Photos from T&M tickets and daily reports will appear here</span>\n        </div>\n      ) : (\n        <div className=\"photo-timeline-dates\">\n          {photosByDate.map(([date, datePhotos]) => (\n            <div key={date} className=\"photo-date-group\">\n              <button\n                className=\"photo-date-header\"\n                onClick={() => toggleDate(date)}\n              >\n                <div className=\"photo-date-info\">\n                  <Calendar size={14} />\n                  <span className=\"photo-date-label\">{formatDate(date)}</span>\n                  <span className=\"photo-date-count\">{datePhotos.length} photo{datePhotos.length !== 1 ? 's' : ''}</span>\n                </div>\n                {expandedDates.has(date) ? <ChevronUp size={16} /> : <ChevronDown size={16} />}\n              </button>\n\n              {expandedDates.has(date) && (\n                <div className=\"photo-grid\">\n                  {datePhotos.map(photo => (\n                    <div\n                      key={photo.id}\n                      className=\"photo-grid-item\"\n                      onClick={() => openLightbox(photo)}\n                    >\n                      <img\n                        src={photo.url}\n                        alt={photo.description || 'Project photo'}\n                        loading=\"lazy\"\n                      />\n                      <div className=\"photo-grid-overlay\">\n                        <ZoomIn size={16} />\n                      </div>\n                      <div className=\"photo-grid-meta\">\n                        <span className=\"photo-source-badge\">{photo.source}</span>\n                        {getAreaName(photo.areaId) && (\n                          <span className=\"photo-area-badge\">\n                            <MapPin size={10} />\n                            {getAreaName(photo.areaId)}\n                          </span>\n                        )}\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              )}\n            </div>\n          ))}\n        </div>\n      )}\n\n      {/* Lightbox */}\n      {lightboxPhoto && (\n        <div className=\"photo-lightbox\" onClick={closeLightbox}>\n          <div className=\"photo-lightbox-content\" onClick={e => e.stopPropagation()}>\n            <button className=\"photo-lightbox-close\" onClick={closeLightbox}>\n              <X size={24} />\n            </button>\n\n            {lightboxIndex > 0 && (\n              <button className=\"photo-lightbox-nav prev\" onClick={() => navigateLightbox(-1)}>\n                <ChevronLeft size={24} />\n              </button>\n            )}\n\n            <img src={lightboxPhoto.url} alt={lightboxPhoto.description || 'Project photo'} />\n\n            {lightboxIndex < flatPhotos.length - 1 && (\n              <button className=\"photo-lightbox-nav next\" onClick={() => navigateLightbox(1)}>\n                <ChevronRight size={24} />\n              </button>\n            )}\n\n            <div className=\"photo-lightbox-info\">\n              <div className=\"photo-lightbox-date\">{formatDate(lightboxPhoto.date)}</div>\n              <div className=\"photo-lightbox-source\">{lightboxPhoto.source}</div>\n              {getAreaName(lightboxPhoto.areaId) && (\n                <div className=\"photo-lightbox-area\">\n                  <MapPin size={12} />\n                  {getAreaName(lightboxPhoto.areaId)}\n                </div>\n              )}\n              {lightboxPhoto.description && (\n                <div className=\"photo-lightbox-desc\">{lightboxPhoto.description}</div>\n              )}\n              <div className=\"photo-lightbox-counter\">{lightboxIndex + 1} / {flatPhotos.length}</div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  )\n}\n"],"names":["PhotoTimeline","projectId","areas","onShowToast","photos","setPhotos","useState","loading","setLoading","selectedArea","setSelectedArea","lightboxPhoto","setLightboxPhoto","lightboxIndex","setLightboxIndex","expandedDates","setExpandedDates","loadPhotos","useCallback","isSupabaseConfigured","tmResult","reportResult","supabase","allPhotos","ticket","photoUrls","url","report","rawUrls","p","db","signed","i","err","useEffect","filteredPhotos","useMemo","photosByDate","groups","photo","a","b","flatPhotos","toggleDate","date","prev","next","openLightbox","idx","closeLightbox","navigateLightbox","direction","newIndex","formatDate","dateStr","getAreaName","areaId","jsxs","jsx","Camera","Filter","e","area","datePhotos","Calendar","ChevronUp","ChevronDown","ZoomIn","MapPin","X","ChevronLeft","ChevronRight"],"mappings":"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"}