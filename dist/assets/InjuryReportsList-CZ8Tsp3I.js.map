{"version":3,"file":"InjuryReportsList-CZ8Tsp3I.js","sources":["../../src/components/InjuryReportsList.jsx"],"sourcesContent":["import { useState, useEffect, useMemo, useCallback } from 'react'\nimport { ChevronDown, ChevronRight, Calendar, AlertTriangle } from 'lucide-react'\nimport { db } from '../lib/supabase'\nimport { useBranding } from '../lib/BrandingContext'\nimport { hexToRgb, loadImageAsBase64 } from '../lib/imageUtils'\nimport { ErrorState, EmptyState } from './ui'\nimport InjuryReportForm from './InjuryReportForm'\nimport Toast from './Toast'\nimport jsPDF from 'jspdf'\n\nexport default function InjuryReportsList({ project, companyId, company, user, onShowToast }) {\n  const { branding } = useBranding()\n  const [reports, setReports] = useState([])\n  const [selectedReport, setSelectedReport] = useState(null)\n  const [showForm, setShowForm] = useState(false)\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState(null)\n  const [toast, setToast] = useState(null)\n\n  // View mode state\n  const [viewMode, setViewMode] = useState('recent') // 'recent' | 'all'\n  const [expandedMonths, setExpandedMonths] = useState(new Set())\n  const [dateFilter, setDateFilter] = useState({ start: '', end: '' })\n\n  useEffect(() => {\n    loadReports()\n\n    // Subscribe to real-time updates for injury reports\n    const effectiveCompanyId = companyId || project?.company_id\n    const subscription = effectiveCompanyId\n      ? db.subscribeToInjuryReports?.(effectiveCompanyId, () => {\n          loadReports()\n        })\n      : null\n\n    return () => {\n      if (subscription) db.unsubscribe?.(subscription)\n    }\n  }, [project?.id, companyId])\n\n  const loadReports = useCallback(async () => {\n    setLoading(true)\n    setError(null)\n    try {\n      const data = project\n        ? await db.getInjuryReports(project.id)\n        : await db.getCompanyInjuryReports(companyId)\n      setReports(data)\n    } catch (err) {\n      console.error('Error loading injury reports:', err)\n      setError(err)\n      setToast({ type: 'error', message: 'Failed to load injury reports' })\n    } finally {\n      setLoading(false)\n    }\n  }, [project?.id, companyId])\n\n  const handleReportCreated = () => {\n    loadReports()\n    setShowForm(false)\n    setToast({ type: 'success', message: 'Injury report created successfully' })\n  }\n\n  const handleViewDetails = (report) => {\n    setSelectedReport(report)\n  }\n\n  const handleCloseDetails = () => {\n    setSelectedReport(null)\n  }\n\n  const formatDate = (dateString) => {\n    if (!dateString) return ''\n    const date = new Date(dateString)\n    return date.toLocaleDateString('en-US', {\n      year: 'numeric',\n      month: 'short',\n      day: 'numeric'\n    })\n  }\n\n  const formatTime = (timeString) => {\n    if (!timeString) return ''\n    return new Date(`2000-01-01T${timeString}`).toLocaleTimeString('en-US', {\n      hour: 'numeric',\n      minute: '2-digit',\n      hour12: true\n    })\n  }\n\n  const getInjuryTypeLabel = (type) => {\n    const labels = {\n      minor: 'Minor Injury',\n      serious: 'Serious Injury',\n      critical: 'Critical Injury',\n      near_miss: 'Near Miss'\n    }\n    return labels[type] || type\n  }\n\n  const getStatusColor = (status) => {\n    const colors = {\n      reported: '#fbbf24',\n      under_investigation: '#3b82f6',\n      closed: '#10b981'\n    }\n    return colors[status] || '#9ca3af'\n  }\n\n  const getInjuryTypeColor = (type) => {\n    const colors = {\n      minor: '#10b981',\n      serious: '#f59e0b',\n      critical: '#ef4444',\n      near_miss: '#6b7280'\n    }\n    return colors[type] || '#9ca3af'\n  }\n\n  // Filter reports by view mode and date range\n  const filteredReports = useMemo(() => {\n    let filtered = [...reports]\n\n    // Apply date filter if set\n    if (dateFilter.start) {\n      const startDate = new Date(dateFilter.start)\n      startDate.setHours(0, 0, 0, 0)\n      filtered = filtered.filter(r => {\n        const reportDate = new Date(r.incident_date)\n        return reportDate >= startDate\n      })\n    }\n    if (dateFilter.end) {\n      const endDate = new Date(dateFilter.end)\n      endDate.setHours(23, 59, 59, 999)\n      filtered = filtered.filter(r => {\n        const reportDate = new Date(r.incident_date)\n        return reportDate <= endDate\n      })\n    }\n\n    // In recent mode, show only last 7 days\n    if (viewMode === 'recent') {\n      const sevenDaysAgo = new Date()\n      sevenDaysAgo.setDate(sevenDaysAgo.getDate() - 7)\n      sevenDaysAgo.setHours(0, 0, 0, 0)\n      filtered = filtered.filter(r => {\n        const reportDate = new Date(r.incident_date)\n        return reportDate >= sevenDaysAgo\n      })\n    }\n\n    return filtered\n  }, [reports, viewMode, dateFilter])\n\n  // Group reports by month for 'all' view\n  const reportsByMonth = useMemo(() => {\n    if (viewMode !== 'all') return null\n\n    const groups = {}\n    filteredReports.forEach(report => {\n      const date = new Date(report.incident_date)\n      const monthKey = `${date.getFullYear()}-${String(date.getMonth() + 1).padStart(2, '0')}`\n      const monthLabel = date.toLocaleDateString('en-US', { month: 'long', year: 'numeric' })\n\n      if (!groups[monthKey]) {\n        groups[monthKey] = { label: monthLabel, reports: [] }\n      }\n      groups[monthKey].reports.push(report)\n    })\n\n    return Object.entries(groups).sort((a, b) => b[0].localeCompare(a[0]))\n  }, [filteredReports, viewMode])\n\n  // Auto-expand current month\n  useEffect(() => {\n    if (reportsByMonth && reportsByMonth.length > 0) {\n      const currentMonthKey = reportsByMonth[0][0]\n      setExpandedMonths(new Set([currentMonthKey]))\n    }\n  }, [reportsByMonth])\n\n  const toggleMonthExpand = (monthKey) => {\n    const newExpanded = new Set(expandedMonths)\n    if (newExpanded.has(monthKey)) {\n      newExpanded.delete(monthKey)\n    } else {\n      newExpanded.add(monthKey)\n    }\n    setExpandedMonths(newExpanded)\n  }\n\n  // Export to PDF with company branding\n  const exportToPDF = async () => {\n    if (reports.length === 0) {\n      setToast({ type: 'error', message: 'No reports to export' })\n      return\n    }\n\n    setToast({ type: 'info', message: 'Generating PDF...' })\n\n    const doc = new jsPDF()\n    const pageWidth = doc.internal.pageSize.getWidth()\n    const margin = 20\n    let yPos = margin\n\n    const primaryColor = hexToRgb(branding?.primary_color || '#3B82F6')\n    const secondaryColor = hexToRgb(branding?.secondary_color || '#1E40AF')\n\n    // Header with branding\n    doc.setFillColor(...primaryColor)\n    doc.rect(0, 0, pageWidth, 45, 'F')\n    doc.setFillColor(...secondaryColor)\n    doc.rect(0, 42, pageWidth, 3, 'F')\n\n    // Add logo if available\n    let logoOffset = margin\n    if (branding?.logo_url) {\n      try {\n        const logoBase64 = await loadImageAsBase64(branding.logo_url)\n        if (logoBase64) {\n          doc.addImage(logoBase64, 'PNG', margin, 7, 30, 30)\n          logoOffset = margin + 40\n        }\n      } catch (e) {\n        console.error('Error adding logo:', e)\n      }\n    }\n\n    doc.setTextColor(255, 255, 255)\n    doc.setFontSize(22)\n    doc.setFont('helvetica', 'bold')\n    doc.text(company?.name || 'Company', logoOffset, 20)\n    doc.setFontSize(10)\n    doc.setFont('helvetica', 'normal')\n    doc.text('INJURY & INCIDENT REPORTS', logoOffset, 30)\n\n    doc.setFontSize(9)\n    doc.text(`Generated: ${new Date().toLocaleDateString()}`, pageWidth - margin, 20, { align: 'right' })\n    doc.text(`Total Reports: ${reports.length}`, pageWidth - margin, 28, { align: 'right' })\n\n    yPos = 55\n\n    // Project info if available\n    if (project) {\n      doc.setFillColor(248, 250, 252)\n      doc.rect(margin, yPos - 5, pageWidth - margin * 2, 15, 'F')\n      doc.setTextColor(...primaryColor)\n      doc.setFontSize(12)\n      doc.setFont('helvetica', 'bold')\n      doc.text(`Project: ${project.name}`, margin + 5, yPos + 5)\n      yPos += 20\n    }\n\n    // Reports\n    reports.forEach((report) => {\n      // Check if we need a new page (injury reports need more space)\n      if (yPos > 200) {\n        doc.addPage()\n        yPos = margin\n      }\n\n      // Report header with injury type color\n      const typeColor = hexToRgb(getInjuryTypeColor(report.injury_type))\n      doc.setFillColor(...typeColor)\n      doc.rect(margin, yPos, pageWidth - margin * 2, 12, 'F')\n      doc.setTextColor(255, 255, 255)\n      doc.setFontSize(11)\n      doc.setFont('helvetica', 'bold')\n      doc.text(`${report.employee_name} - ${getInjuryTypeLabel(report.injury_type)}`, margin + 5, yPos + 8)\n      doc.text(formatDate(report.incident_date), pageWidth - margin - 5, yPos + 8, { align: 'right' })\n      yPos += 17\n\n      doc.setTextColor(50, 50, 50)\n      doc.setFontSize(9)\n      doc.setFont('helvetica', 'normal')\n\n      // Location and time\n      doc.text(`Location: ${report.incident_location}`, margin + 5, yPos)\n      if (report.incident_time) {\n        doc.text(`Time: ${formatTime(report.incident_time)}`, margin + 100, yPos)\n      }\n      yPos += 6\n\n      // Description\n      doc.setFont('helvetica', 'bold')\n      doc.text('Description:', margin + 5, yPos)\n      doc.setFont('helvetica', 'normal')\n      yPos += 5\n      const descLines = doc.splitTextToSize(report.incident_description, pageWidth - margin * 2 - 10)\n      doc.text(descLines, margin + 5, yPos)\n      yPos += descLines.length * 4 + 3\n\n      // Key details\n      const details = []\n      if (report.body_part_affected) details.push(`Body Part: ${report.body_part_affected}`)\n      if (report.osha_recordable) details.push('OSHA Recordable')\n      if (report.workers_comp_claim) details.push('Workers\\' Comp Filed')\n      if (report.medical_treatment_required) details.push('Medical Treatment Required')\n\n      if (details.length > 0) {\n        doc.setFontSize(8)\n        doc.setTextColor(100, 100, 100)\n        doc.text(details.join('  |  '), margin + 5, yPos)\n        yPos += 5\n      }\n\n      // Reported by\n      doc.setFontSize(8)\n      doc.text(`Reported by: ${report.reported_by_name} (${report.reported_by_title})`, margin + 5, yPos)\n      yPos += 12\n    })\n\n    // Footer\n    const pageCount = doc.internal.getNumberOfPages()\n    for (let i = 1; i <= pageCount; i++) {\n      doc.setPage(i)\n      doc.setFontSize(8)\n      doc.setTextColor(150, 150, 150)\n      doc.text(`Page ${i} of ${pageCount}`, pageWidth / 2, doc.internal.pageSize.getHeight() - 10, { align: 'center' })\n      doc.text('CONFIDENTIAL - Injury Report', margin, doc.internal.pageSize.getHeight() - 10)\n    }\n\n    const fileName = `Injury_Reports_${new Date().toISOString().split('T')[0]}.pdf`\n    doc.save(fileName)\n    setToast({ type: 'success', message: 'PDF exported!' })\n  }\n\n  if (loading) {\n    return (\n      <div className=\"loading-container\">\n        <div className=\"spinner\"></div>\n        <p>Loading injury reports...</p>\n      </div>\n    )\n  }\n\n  if (error) {\n    return (\n      <div className=\"injury-reports-section card\">\n        <ErrorState\n          title=\"Unable to load reports\"\n          message=\"There was a problem loading injury reports. Please try again.\"\n          error={error}\n          onRetry={loadReports}\n        />\n      </div>\n    )\n  }\n\n  return (\n    <>\n      <div className=\"injury-reports-section\">\n        <div className=\"section-header\">\n          <h3>Injury & Incident Reports</h3>\n          <div className=\"section-header-actions\">\n            {reports.length > 0 && (\n              <button className=\"btn-secondary\" onClick={exportToPDF}>\n                PDF\n              </button>\n            )}\n            <button className=\"btn-primary\" onClick={() => setShowForm(true)}>\n              + File Injury Report\n            </button>\n          </div>\n        </div>\n\n        {/* View Mode Bar */}\n        <div className=\"view-mode-bar\">\n          <div className=\"view-mode-tabs\">\n            <button\n              className={`view-mode-tab ${viewMode === 'recent' ? 'active' : ''}`}\n              onClick={() => { setViewMode('recent'); setDateFilter({ start: '', end: '' }); }}\n            >\n              Recent (7 days)\n            </button>\n            <button\n              className={`view-mode-tab ${viewMode === 'all' ? 'active' : ''}`}\n              onClick={() => setViewMode('all')}\n            >\n              All ({reports.length})\n            </button>\n          </div>\n\n          {viewMode === 'all' && (\n            <div className=\"date-filter\">\n              <Calendar size={16} />\n              <input\n                type=\"date\"\n                value={dateFilter.start}\n                onChange={(e) => setDateFilter(prev => ({ ...prev, start: e.target.value }))}\n                placeholder=\"Start date\"\n              />\n              <span>to</span>\n              <input\n                type=\"date\"\n                value={dateFilter.end}\n                onChange={(e) => setDateFilter(prev => ({ ...prev, end: e.target.value }))}\n                placeholder=\"End date\"\n              />\n              {(dateFilter.start || dateFilter.end) && (\n                <button\n                  className=\"btn-ghost\"\n                  onClick={() => setDateFilter({ start: '', end: '' })}\n                >\n                  Clear\n                </button>\n              )}\n            </div>\n          )}\n        </div>\n\n        {filteredReports.length === 0 ? (\n          <div className=\"empty-state\">\n            <div className=\"empty-state-icon\">üè•</div>\n            <h4>No Injury Reports{viewMode === 'recent' ? ' in the last 7 days' : ''}</h4>\n            <p>Click \"File Injury Report\" to document a workplace incident</p>\n            {viewMode === 'recent' && reports.length > 0 && (\n              <button className=\"btn-secondary\" onClick={() => setViewMode('all')}>\n                View All Reports\n              </button>\n            )}\n          </div>\n        ) : (\n          <div className=\"reports-list\">\n            {/* Render reports - with month grouping in 'all' mode */}\n            {viewMode === 'all' && reportsByMonth ? (\n              reportsByMonth.map(([monthKey, monthData]) => (\n                <div key={monthKey} className=\"month-group\">\n                  <div\n                    className=\"month-header\"\n                    onClick={() => toggleMonthExpand(monthKey)}\n                  >\n                    <div className=\"month-header-left\">\n                      {expandedMonths.has(monthKey) ? (\n                        <ChevronDown size={18} />\n                      ) : (\n                        <ChevronRight size={18} />\n                      )}\n                      <span className=\"month-label\">{monthData.label}</span>\n                      <span className=\"month-count\">{monthData.reports.length} reports</span>\n                    </div>\n                  </div>\n                  {expandedMonths.has(monthKey) && (\n                    <div className=\"month-reports\">\n                      {monthData.reports.map(report => (\n                        <div\n                          key={report.id}\n                          className=\"report-card\"\n                          onClick={() => handleViewDetails(report)}\n                        >\n                          <div className=\"report-header\">\n                            <div>\n                              <div className=\"report-date\">\n                                {formatDate(report.incident_date)} at {formatTime(report.incident_time)}\n                              </div>\n                              <div className=\"employee-name\">{report.employee_name}</div>\n                            </div>\n                            <div className=\"report-badges\">\n                              <span\n                                className=\"badge\"\n                                style={{ backgroundColor: getInjuryTypeColor(report.injury_type) }}\n                              >\n                                {getInjuryTypeLabel(report.injury_type)}\n                              </span>\n                              <span\n                                className=\"badge\"\n                                style={{ backgroundColor: getStatusColor(report.status) }}\n                              >\n                                {report.status.replace('_', ' ')}\n                              </span>\n                            </div>\n                          </div>\n\n                          <div className=\"report-summary\">\n                            <div className=\"summary-item\">\n                              <strong>Location:</strong> {report.incident_location}\n                            </div>\n                            <div className=\"summary-item\">\n                              <strong>Reported by:</strong> {report.reported_by_name} ({report.reported_by_title})\n                            </div>\n                            {report.body_part_affected && (\n                              <div className=\"summary-item\">\n                                <strong>Body Part:</strong> {report.body_part_affected}\n                              </div>\n                            )}\n                            {report.osha_recordable && (\n                              <div className=\"summary-item\">\n                                <span className=\"osha-badge\">OSHA Recordable</span>\n                              </div>\n                            )}\n                          </div>\n\n                          <div className=\"report-description\">\n                            {report.incident_description.substring(0, 150)}\n                            {report.incident_description.length > 150 && '...'}\n                          </div>\n\n                          <div className=\"report-footer\">\n                            <span>Click to view full details</span>\n                          </div>\n                        </div>\n                      ))}\n                    </div>\n                  )}\n                </div>\n              ))\n            ) : (\n              // Recent view - simple list\n              filteredReports.map(report => (\n                <div\n                  key={report.id}\n                  className=\"report-card\"\n                  onClick={() => handleViewDetails(report)}\n                >\n                  <div className=\"report-header\">\n                    <div>\n                      <div className=\"report-date\">\n                        {formatDate(report.incident_date)} at {formatTime(report.incident_time)}\n                      </div>\n                      <div className=\"employee-name\">{report.employee_name}</div>\n                    </div>\n                    <div className=\"report-badges\">\n                      <span\n                        className=\"badge\"\n                        style={{ backgroundColor: getInjuryTypeColor(report.injury_type) }}\n                      >\n                        {getInjuryTypeLabel(report.injury_type)}\n                      </span>\n                      <span\n                        className=\"badge\"\n                        style={{ backgroundColor: getStatusColor(report.status) }}\n                      >\n                        {report.status.replace('_', ' ')}\n                      </span>\n                    </div>\n                  </div>\n\n                  <div className=\"report-summary\">\n                    <div className=\"summary-item\">\n                      <strong>Location:</strong> {report.incident_location}\n                    </div>\n                    <div className=\"summary-item\">\n                      <strong>Reported by:</strong> {report.reported_by_name} ({report.reported_by_title})\n                    </div>\n                    {report.body_part_affected && (\n                      <div className=\"summary-item\">\n                        <strong>Body Part:</strong> {report.body_part_affected}\n                      </div>\n                    )}\n                    {report.osha_recordable && (\n                      <div className=\"summary-item\">\n                        <span className=\"osha-badge\">OSHA Recordable</span>\n                      </div>\n                    )}\n                  </div>\n\n                  <div className=\"report-description\">\n                    {report.incident_description.substring(0, 150)}\n                    {report.incident_description.length > 150 && '...'}\n                  </div>\n\n                  <div className=\"report-footer\">\n                    <span>Click to view full details</span>\n                  </div>\n                </div>\n              ))\n            )}\n          </div>\n        )}\n\n        {/* Report Details Modal */}\n        {selectedReport && (\n          <div className=\"modal-overlay\" onClick={handleCloseDetails}>\n            <div className=\"modal-content report-details-modal\" onClick={e => e.stopPropagation()}>\n              <div className=\"modal-header\">\n                <h2>Injury Report Details</h2>\n                <button className=\"close-btn\" onClick={handleCloseDetails}>&times;</button>\n              </div>\n\n              <div className=\"modal-body\">\n                {/* Incident Information */}\n                <section className=\"details-section\">\n                  <h3>Incident Information</h3>\n                  <div className=\"detail-grid\">\n                    <div className=\"detail-item\">\n                      <label>Date & Time</label>\n                      <div>{formatDate(selectedReport.incident_date)} at {formatTime(selectedReport.incident_time)}</div>\n                    </div>\n                    <div className=\"detail-item\">\n                      <label>Location</label>\n                      <div>{selectedReport.incident_location}</div>\n                    </div>\n                    <div className=\"detail-item\">\n                      <label>Injury Type</label>\n                      <div>\n                        <span\n                          className=\"badge\"\n                          style={{ backgroundColor: getInjuryTypeColor(selectedReport.injury_type) }}\n                        >\n                          {getInjuryTypeLabel(selectedReport.injury_type)}\n                        </span>\n                      </div>\n                    </div>\n                    {selectedReport.body_part_affected && (\n                      <div className=\"detail-item\">\n                        <label>Body Part Affected</label>\n                        <div>{selectedReport.body_part_affected}</div>\n                      </div>\n                    )}\n                  </div>\n                  <div className=\"detail-item full-width\">\n                    <label>Description</label>\n                    <div className=\"description-box\">{selectedReport.incident_description}</div>\n                  </div>\n                </section>\n\n                {/* Employee Information */}\n                <section className=\"details-section\">\n                  <h3>Injured Employee</h3>\n                  <div className=\"detail-grid\">\n                    <div className=\"detail-item\">\n                      <label>Name</label>\n                      <div>{selectedReport.employee_name}</div>\n                    </div>\n                    <div className=\"detail-item\">\n                      <label>Job Title</label>\n                      <div>{selectedReport.employee_job_title}</div>\n                    </div>\n                    {selectedReport.employee_phone && (\n                      <div className=\"detail-item\">\n                        <label>Phone</label>\n                        <div>{selectedReport.employee_phone}</div>\n                      </div>\n                    )}\n                    {selectedReport.employee_email && (\n                      <div className=\"detail-item\">\n                        <label>Email</label>\n                        <div>{selectedReport.employee_email}</div>\n                      </div>\n                    )}\n                    {selectedReport.employee_address && (\n                      <div className=\"detail-item full-width\">\n                        <label>Address</label>\n                        <div>{selectedReport.employee_address}</div>\n                      </div>\n                    )}\n                  </div>\n                </section>\n\n                {/* Supervisor Information */}\n                <section className=\"details-section\">\n                  <h3>Reported By</h3>\n                  <div className=\"detail-grid\">\n                    <div className=\"detail-item\">\n                      <label>Name</label>\n                      <div>{selectedReport.reported_by_name}</div>\n                    </div>\n                    <div className=\"detail-item\">\n                      <label>Title</label>\n                      <div>{selectedReport.reported_by_title}</div>\n                    </div>\n                    {selectedReport.reported_by_phone && (\n                      <div className=\"detail-item\">\n                        <label>Phone</label>\n                        <div>{selectedReport.reported_by_phone}</div>\n                      </div>\n                    )}\n                    {selectedReport.reported_by_email && (\n                      <div className=\"detail-item\">\n                        <label>Email</label>\n                        <div>{selectedReport.reported_by_email}</div>\n                      </div>\n                    )}\n                  </div>\n                </section>\n\n                {/* Witnesses */}\n                {selectedReport.witnesses && selectedReport.witnesses.length > 0 && (\n                  <section className=\"details-section\">\n                    <h3>Witnesses</h3>\n                    {selectedReport.witnesses.map((witness, index) => (\n                      <div key={index} className=\"witness-card\">\n                        <div className=\"witness-header\">\n                          <strong>{witness.name}</strong>\n                          {witness.phone && <span> ‚Ä¢ {witness.phone}</span>}\n                          {witness.email && <span> ‚Ä¢ {witness.email}</span>}\n                        </div>\n                        {witness.testimony && (\n                          <div className=\"witness-testimony\">\n                            <em>\"{witness.testimony}\"</em>\n                          </div>\n                        )}\n                      </div>\n                    ))}\n                  </section>\n                )}\n\n                {/* Medical Information */}\n                {selectedReport.medical_treatment_required && (\n                  <section className=\"details-section\">\n                    <h3>Medical Treatment</h3>\n                    <div className=\"detail-grid\">\n                      {selectedReport.medical_facility_name && (\n                        <div className=\"detail-item\">\n                          <label>Facility</label>\n                          <div>{selectedReport.medical_facility_name}</div>\n                        </div>\n                      )}\n                      {selectedReport.medical_facility_address && (\n                        <div className=\"detail-item\">\n                          <label>Address</label>\n                          <div>{selectedReport.medical_facility_address}</div>\n                        </div>\n                      )}\n                      <div className=\"detail-item\">\n                        <label>Hospitalized</label>\n                        <div>{selectedReport.hospitalized ? 'Yes' : 'No'}</div>\n                      </div>\n                    </div>\n                  </section>\n                )}\n\n                {/* Actions & Safety */}\n                <section className=\"details-section\">\n                  <h3>Actions & Safety</h3>\n                  {selectedReport.immediate_actions_taken && (\n                    <div className=\"detail-item full-width\">\n                      <label>Immediate Actions Taken</label>\n                      <div className=\"description-box\">{selectedReport.immediate_actions_taken}</div>\n                    </div>\n                  )}\n                  {selectedReport.corrective_actions_planned && (\n                    <div className=\"detail-item full-width\">\n                      <label>Corrective Actions Planned</label>\n                      <div className=\"description-box\">{selectedReport.corrective_actions_planned}</div>\n                    </div>\n                  )}\n                  <div className=\"detail-grid\">\n                    {selectedReport.safety_equipment_used && (\n                      <div className=\"detail-item\">\n                        <label>Safety Equipment Used</label>\n                        <div>{selectedReport.safety_equipment_used}</div>\n                      </div>\n                    )}\n                    {selectedReport.safety_equipment_failed && (\n                      <div className=\"detail-item\">\n                        <label>Safety Equipment Failed</label>\n                        <div>{selectedReport.safety_equipment_failed}</div>\n                      </div>\n                    )}\n                  </div>\n                </section>\n\n                {/* Regulatory Information */}\n                <section className=\"details-section\">\n                  <h3>Regulatory & Work Impact</h3>\n                  <div className=\"detail-grid\">\n                    <div className=\"detail-item\">\n                      <label>OSHA Recordable</label>\n                      <div>{selectedReport.osha_recordable ? 'Yes' : 'No'}</div>\n                    </div>\n                    <div className=\"detail-item\">\n                      <label>Workers' Comp Claim</label>\n                      <div>{selectedReport.workers_comp_claim ? 'Yes' : 'No'}</div>\n                    </div>\n                    <div className=\"detail-item\">\n                      <label>Days Away From Work</label>\n                      <div>{selectedReport.days_away_from_work || 0}</div>\n                    </div>\n                    <div className=\"detail-item\">\n                      <label>Restricted Work Days</label>\n                      <div>{selectedReport.restricted_work_days || 0}</div>\n                    </div>\n                  </div>\n                </section>\n\n                <div className=\"report-meta\">\n                  Filed on {formatDate(selectedReport.created_at)}\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* New Report Form */}\n        {showForm && (\n          <InjuryReportForm\n            project={project}\n            companyId={companyId}\n            user={user}\n            onClose={() => setShowForm(false)}\n            onReportCreated={handleReportCreated}\n          />\n        )}\n\n        {toast && <Toast message={toast.message} type={toast.type} onClose={() => setToast(null)} />}\n      </div>\n\n      <style>{`\n        .injury-reports-section {\n          margin-top: 2rem;\n        }\n\n        .section-header {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          margin-bottom: 1.5rem;\n        }\n\n        .section-header h3 {\n          margin: 0;\n          font-size: 1.25rem;\n          color: var(--text-primary);\n        }\n\n        .view-mode-bar {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          gap: 1rem;\n          margin-bottom: 1rem;\n          padding: 0.75rem;\n          background: var(--bg-elevated);\n          border-radius: 8px;\n          flex-wrap: wrap;\n        }\n\n        .view-mode-tabs {\n          display: flex;\n          gap: 0.5rem;\n        }\n\n        .view-mode-tab {\n          padding: 0.5rem 1rem;\n          border: none;\n          border-radius: 6px;\n          font-size: 0.875rem;\n          cursor: pointer;\n          background: transparent;\n          color: var(--text-secondary);\n          transition: all 0.2s;\n        }\n\n        .view-mode-tab:hover {\n          background: var(--bg-tertiary);\n        }\n\n        .view-mode-tab.active {\n          background: var(--primary-color, #3b82f6);\n          color: white;\n        }\n\n        .date-filter {\n          display: flex;\n          align-items: center;\n          gap: 0.5rem;\n          color: var(--text-secondary);\n        }\n\n        .date-filter input[type=\"date\"] {\n          padding: 0.4rem 0.5rem;\n          border: 1px solid var(--border-color);\n          border-radius: 4px;\n          font-size: 0.875rem;\n          background: var(--bg-card);\n          color: var(--text-primary);\n        }\n\n        .btn-ghost {\n          background: transparent;\n          border: none;\n          padding: 0.4rem 0.75rem;\n          color: var(--text-secondary);\n          cursor: pointer;\n          border-radius: 4px;\n          font-size: 0.875rem;\n        }\n\n        .btn-ghost:hover {\n          background: var(--bg-tertiary);\n        }\n\n        .month-group {\n          margin-bottom: 0.5rem;\n        }\n\n        .month-header {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          padding: 0.75rem 1rem;\n          background: var(--bg-elevated);\n          border-radius: 8px;\n          cursor: pointer;\n          transition: background 0.2s;\n        }\n\n        .month-header:hover {\n          background: var(--bg-tertiary);\n        }\n\n        .month-header-left {\n          display: flex;\n          align-items: center;\n          gap: 0.5rem;\n        }\n\n        .month-label {\n          font-weight: 600;\n          color: var(--text-primary);\n        }\n\n        .month-count {\n          font-size: 0.875rem;\n          color: var(--text-secondary);\n        }\n\n        .month-reports {\n          margin-top: 0.5rem;\n          padding-left: 0.5rem;\n        }\n\n        .reports-list {\n          display: flex;\n          flex-direction: column;\n          gap: 1rem;\n        }\n\n        .report-card {\n          background: var(--bg-card);\n          border: 1px solid var(--border-color);\n          border-radius: 8px;\n          padding: 1.5rem;\n          cursor: pointer;\n          transition: all 0.2s;\n        }\n\n        .report-card:hover {\n          box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);\n          border-color: var(--accent-primary);\n        }\n\n        .report-header {\n          display: flex;\n          justify-content: space-between;\n          align-items: flex-start;\n          margin-bottom: 1rem;\n        }\n\n        .report-date {\n          font-size: 0.875rem;\n          color: var(--text-secondary);\n          margin-bottom: 0.25rem;\n        }\n\n        .employee-name {\n          font-size: 1.125rem;\n          font-weight: 600;\n          color: var(--text-primary);\n        }\n\n        .report-badges {\n          display: flex;\n          gap: 0.5rem;\n          flex-wrap: wrap;\n        }\n\n        .badge {\n          padding: 0.25rem 0.75rem;\n          border-radius: 12px;\n          font-size: 0.75rem;\n          font-weight: 500;\n          color: white;\n          text-transform: capitalize;\n        }\n\n        .osha-badge {\n          background-color: #dc2626;\n          color: white;\n          padding: 0.25rem 0.5rem;\n          border-radius: 4px;\n          font-size: 0.75rem;\n          font-weight: 600;\n        }\n\n        .report-summary {\n          display: grid;\n          grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n          gap: 0.75rem;\n          margin-bottom: 1rem;\n          padding: 1rem;\n          background-color: var(--bg-elevated);\n          border-radius: 6px;\n        }\n\n        .summary-item {\n          font-size: 0.875rem;\n          color: var(--text-secondary);\n        }\n\n        .summary-item strong {\n          color: var(--text-primary);\n        }\n\n        .report-description {\n          color: var(--text-secondary);\n          line-height: 1.6;\n          margin-bottom: 1rem;\n        }\n\n        .report-footer {\n          text-align: right;\n          font-size: 0.875rem;\n          color: var(--primary-color, #3b82f6);\n        }\n\n        .report-details-modal {\n          max-width: 900px;\n          max-height: 90vh;\n          overflow-y: auto;\n        }\n\n        .details-section {\n          margin-bottom: 2rem;\n          padding-bottom: 2rem;\n          border-bottom: 1px solid var(--border-color);\n        }\n\n        .details-section:last-child {\n          border-bottom: none;\n        }\n\n        .details-section h3 {\n          margin-top: 0;\n          margin-bottom: 1rem;\n          font-size: 1.125rem;\n          color: var(--text-primary);\n        }\n\n        .detail-grid {\n          display: grid;\n          grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n          gap: 1rem;\n        }\n\n        .detail-item label {\n          display: block;\n          font-size: 0.875rem;\n          font-weight: 600;\n          color: var(--text-secondary);\n          margin-bottom: 0.25rem;\n        }\n\n        .detail-item div {\n          color: var(--text-primary);\n        }\n\n        .detail-item.full-width {\n          grid-column: 1 / -1;\n        }\n\n        .description-box {\n          background-color: var(--bg-elevated);\n          border: 1px solid var(--border-color);\n          border-radius: 6px;\n          padding: 1rem;\n          white-space: pre-wrap;\n          line-height: 1.6;\n          color: var(--text-primary);\n        }\n\n        .witness-card {\n          background-color: var(--bg-elevated);\n          border-radius: 6px;\n          padding: 1rem;\n          margin-bottom: 0.5rem;\n        }\n\n        .witness-header {\n          margin-bottom: 0.5rem;\n          color: var(--text-primary);\n        }\n\n        .witness-testimony {\n          color: var(--text-secondary);\n          font-size: 0.875rem;\n          padding-left: 1rem;\n          border-left: 3px solid var(--border-color);\n        }\n\n        .report-meta {\n          text-align: center;\n          font-size: 0.875rem;\n          color: var(--text-secondary);\n          padding-top: 1rem;\n          border-top: 1px solid var(--border-color);\n        }\n\n        .empty-state {\n          text-align: center;\n          padding: 3rem 1rem;\n        }\n\n        .empty-state-icon {\n          font-size: 3rem;\n          margin-bottom: 1rem;\n        }\n\n        .empty-state h4 {\n          margin: 0 0 0.5rem 0;\n          color: var(--text-primary);\n        }\n\n        .empty-state p {\n          margin: 0;\n          color: var(--text-secondary);\n        }\n\n        .section-header-actions {\n          display: flex;\n          gap: 0.5rem;\n          align-items: center;\n        }\n\n        .btn-primary, .btn-secondary {\n          padding: 0.5rem 1rem;\n          border-radius: 6px;\n          font-weight: 500;\n          cursor: pointer;\n          border: none;\n        }\n\n        .btn-primary {\n          background-color: var(--primary-color, #3b82f6);\n          color: white;\n        }\n\n        .btn-secondary {\n          background-color: var(--bg-elevated);\n          color: var(--text-primary);\n          border: 1px solid var(--border-color);\n        }\n\n        .btn-primary:hover, .btn-secondary:hover {\n          opacity: 0.9;\n        }\n\n        .loading-container {\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          padding: 3rem;\n        }\n\n        .spinner {\n          width: 40px;\n          height: 40px;\n          border: 4px solid var(--border-color);\n          border-top-color: var(--accent-primary);\n          border-radius: 50%;\n          animation: spin 1s linear infinite;\n        }\n\n        @keyframes spin {\n          to { transform: rotate(360deg); }\n        }\n\n        @media (max-width: 768px) {\n          .report-header {\n            flex-direction: column;\n            gap: 0.5rem;\n          }\n\n          .report-summary {\n            grid-template-columns: 1fr;\n          }\n\n          .detail-grid {\n            grid-template-columns: 1fr;\n          }\n\n          .report-details-modal {\n            max-width: 100%;\n            height: 100vh;\n            max-height: 100vh;\n            border-radius: 0;\n          }\n        }\n      `}</style>\n    </>\n  )\n}\n"],"names":["InjuryReportsList","project","companyId","company","user","onShowToast","branding","useBranding","reports","setReports","useState","selectedReport","setSelectedReport","showForm","setShowForm","loading","setLoading","error","setError","toast","setToast","viewMode","setViewMode","expandedMonths","setExpandedMonths","dateFilter","setDateFilter","useEffect","loadReports","effectiveCompanyId","subscription","db","useCallback","data","err","handleReportCreated","handleViewDetails","report","handleCloseDetails","formatDate","dateString","formatTime","timeString","getInjuryTypeLabel","type","getStatusColor","status","getInjuryTypeColor","filteredReports","useMemo","filtered","startDate","endDate","sevenDaysAgo","reportsByMonth","groups","date","monthKey","monthLabel","a","b","currentMonthKey","toggleMonthExpand","newExpanded","exportToPDF","doc","jsPDF","pageWidth","margin","yPos","primaryColor","hexToRgb","secondaryColor","logoOffset","logoBase64","loadImageAsBase64","e","typeColor","descLines","details","pageCount","i","fileName","jsxs","jsx","ErrorState","Fragment","Calendar","prev","monthData","ChevronDown","ChevronRight","witness","index","InjuryReportForm","Toast"],"mappings":"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AA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAA,CAuYN,CAAA,EACJ,CAEJ"}