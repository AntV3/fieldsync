import{c as b}from"./index-Bp5xB5WV.js";const M=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],C=b("building-2",M);const v=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],T=b("calendar",v);const I=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],D=b("download",I),F=t=>((t||0)/100).toFixed(2),q=t=>{const e=(t||0)/100;return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(e)},L=t=>Math.round((parseFloat(t)||0)*100),S=t=>((t||0)/100).toFixed(2),P=t=>`${S(t)}%`,w=t=>Math.round((parseFloat(t)||0)*100),E=(t,e,a,o)=>{const c=parseFloat(t)||0,u=parseFloat(e)||0,i=parseInt(a)||0,p=parseInt(o)||0,l=Math.round(c*i),r=Math.round(u*p),d=l+r;return{regularTotal:l,overtimeTotal:r,total:d}},x=(t,e)=>{const a=parseFloat(t)||0,o=parseInt(e)||0;return Math.round(a*o)},m=(t,e)=>{const a=parseInt(t)||0,o=parseInt(e)||0;return Math.round(a*o/1e4)},_=(t,e)=>{const a=parseInt(t)||0,o=parseInt(e)||0;return Math.round(a*o/1e4)},R=t=>{const e=(t.change_order_labor||[]).reduce((n,s)=>n+(parseInt(s.total)||0),0),a=(t.change_order_materials||[]).reduce((n,s)=>n+(parseInt(s.total)||0),0),o=(t.change_order_equipment||[]).reduce((n,s)=>n+(parseInt(s.total)||0),0),c=(t.change_order_subcontractors||[]).reduce((n,s)=>n+(parseInt(s.total)||0),0),u=m(e,t.labor_markup_percent??1500),i=m(a,t.materials_markup_percent??1500),p=m(o,t.equipment_markup_percent??1500),l=m(c,t.subcontractors_markup_percent??500),r=e+a+o+c+u+i+p+l,d=_(r,t.liability_insurance_percent??144),h=_(r,t.bond_percent??100),k=_(r,t.license_fee_percent??10),g=d+h+k,y=r+g;return{labor_subtotal:e,materials_subtotal:a,equipment_subtotal:o,subcontractors_subtotal:c,labor_markup_amount:u,materials_markup_amount:i,equipment_markup_amount:p,subcontractors_markup_amount:l,liability_insurance_amount:d,bond_amount:h,license_fee_amount:k,additional_fees_total:g,cor_subtotal:r,cor_total:y}},N=t=>{const e=[];if(t.title?.trim()||e.push("Title is required"),t.scope_of_work?.trim()||e.push("Description is required"),t.period_start&&t.period_end){const o=new Date(t.period_start);new Date(t.period_end)<o&&e.push("End date must be after start date")}const a=5e3;return t.labor_markup_percent>a&&e.push("Labor markup percentage seems too high (>50%)"),t.materials_markup_percent>a&&e.push("Materials markup percentage seems too high (>50%)"),t.equipment_markup_percent>a&&e.push("Equipment markup percentage seems too high (>50%)"),t.subcontractors_markup_percent>a&&e.push("Subcontractors markup percentage seems too high (>50%)"),{valid:e.length===0,errors:e}},O=t=>{const e={draft:{label:"Draft",color:"#6b7280",bgColor:"#f3f4f6"},pending_approval:{label:"Pending Approval",color:"#d97706",bgColor:"#fef3c7"},approved:{label:"Approved",color:"#059669",bgColor:"#d1fae5"},rejected:{label:"Rejected",color:"#dc2626",bgColor:"#fee2e2"},billed:{label:"Billed",color:"#2563eb",bgColor:"#dbeafe"},closed:{label:"Closed",color:"#4b5563",bgColor:"#e5e7eb"}};return e[t]||e.draft},f=t=>t?new Date(t).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"",B=(t,e)=>{const a=f(t),o=f(e);return a&&o?`${a} - ${o}`:a||o||""},U={labor_markup:1500,materials_markup:1500,equipment_markup:1500,subcontractors_markup:500,liability_insurance:144,bond:100,license_fee:10},$=["Foreman","Superintendent","Operator","Laborer"],j=[{value:"standard",label:"Standard"},{value:"pla",label:"PLA (Project Labor Agreement)"},{value:"prevailing",label:"Prevailing Wage"}],H=["each","day","week","month","hour","sqft","lf","gallon","pound","ton","cy","lump sum"];export{C as B,T as C,D,$ as L,j as W,B as a,f as b,U as c,L as d,R as e,q as f,O as g,H as h,S as i,E as j,x as k,F as l,P as m,w as p,N as v};
