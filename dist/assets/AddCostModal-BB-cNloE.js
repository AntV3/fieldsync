import{r as d,j as e}from"./react-BSqwb0tX.js";import{V as x,X as j,H as b,an as v,W as g,O as N,o as f,am as y}from"./icons-B4eeUMwP.js";const C=[{value:"labor",label:"Labor",Icon:b,description:"Additional labor costs"},{value:"materials",label:"Materials",Icon:v,description:"Materials and supplies"},{value:"equipment",label:"Equipment",Icon:g,description:"Equipment rental or purchase"},{value:"subcontractor",label:"Subcontractor",Icon:N,description:"Subcontractor work"},{value:"disposal",label:"Disposal",Icon:f,description:"Additional disposal costs"},{value:"other",label:"Other",Icon:y,description:"Miscellaneous costs"}];function D({onClose:n,onSave:m,saving:i=!1}){const[t,u]=d.useState({category:"materials",description:"",amount:"",cost_date:new Date().toISOString().split("T")[0],notes:""}),[a,c]=d.useState({}),r=(s,o)=>{u(l=>({...l,[s]:o})),a[s]&&c(l=>({...l,[s]:null}))},p=()=>{const s={};t.description.trim()||(s.description="Description is required");const o=parseFloat(t.amount);return(isNaN(o)||o<=0)&&(s.amount="Enter a valid amount"),t.cost_date||(s.cost_date="Date is required"),c(s),Object.keys(s).length===0},h=s=>{s.preventDefault(),p()&&m(t)};return e.jsx("div",{className:"modal-overlay",onClick:n,role:"dialog","aria-modal":"true",children:e.jsxs("div",{className:"modal-content add-cost-modal",onClick:s=>s.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsxs("h2",{children:[e.jsx(x,{size:20}),"Add Cost"]}),e.jsx("button",{className:"close-btn",onClick:n,"aria-label":"Close",children:e.jsx(j,{size:20})})]}),e.jsxs("form",{onSubmit:h,children:[e.jsxs("div",{className:"modal-body",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Category *"}),e.jsx("div",{className:"category-grid",children:C.map(s=>{const o=s.Icon,l=t.category===s.value;return e.jsxs("button",{type:"button",className:`category-option ${l?"selected":""}`,onClick:()=>r("category",s.value),children:[e.jsx(o,{size:18}),e.jsx("span",{className:"category-label",children:s.label})]},s.value)})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"cost-description",children:"Description *"}),e.jsx("input",{id:"cost-description",type:"text",value:t.description,onChange:s=>r("description",s.target.value),placeholder:"e.g., Excavator rental - Week 1",className:a.description?"error":""}),a.description&&e.jsx("span",{className:"form-error",children:a.description})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"cost-amount",children:"Amount *"}),e.jsxs("div",{className:"input-with-prefix",children:[e.jsx("span",{className:"input-prefix",children:"$"}),e.jsx("input",{id:"cost-amount",type:"text",inputMode:"decimal",value:t.amount,onChange:s=>{const o=s.target.value.replace(/[^0-9.]/g,"");r("amount",o)},placeholder:"0.00",className:a.amount?"error":""})]}),a.amount&&e.jsx("span",{className:"form-error",children:a.amount})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"cost-date",children:"Date *"}),e.jsx("input",{id:"cost-date",type:"date",value:t.cost_date,onChange:s=>r("cost_date",s.target.value),className:a.cost_date?"error":""}),a.cost_date&&e.jsx("span",{className:"form-error",children:a.cost_date})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"cost-notes",children:"Notes (optional)"}),e.jsx("textarea",{id:"cost-notes",value:t.notes,onChange:s=>r("notes",s.target.value),placeholder:"Additional details...",rows:2})]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn-secondary",onClick:n,disabled:i,children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn btn-primary",disabled:i,children:i?"Saving...":"Add Cost"})]})]})]})})}export{D as default};
//# sourceMappingURL=AddCostModal-BB-cNloE.js.map
