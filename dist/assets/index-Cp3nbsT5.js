const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/SignatureLinkGenerator-DiMT4zoo.js","assets/icons-DsFyWu_8.js","assets/react-DXGY7bZi.js","assets/pdf-aQqpMATS.js","assets/supabase-VuevzHjS.js","assets/TMClientSignature-CN3vjZiT.js","assets/Dashboard-fAq6P0AS.js","assets/corCalculations-vdJc_BOT.js","assets/Setup-lByECN45.js","assets/BrandingSettings-93ksqCPU.js","assets/PricingManager-HUorvIn8.js","assets/PublicView-BULuh9xf.js","assets/SignaturePage-Abg5XSQ2.js","assets/SignatureCanvas-KsEIO3UJ.js","assets/MembershipManager-Bh88enr2.js"])))=>i.map(i=>d[i]);
import{r as y,H as Po,B as GR,A as sr,C as bc,U as FA,a as VR,b as Hi,E as WR,c as XR,S as KA,M as YA,T as sm,D as GA,X as jb,d as VA,L as $s,F as Fo,e as Mo,f as Sb,g as ZR,h as QR,i as dy,j as fy,k as JR,l as Zn,R as _S,P as _c,m as eq,W as tq,Z as rq,G as nq,n as aq,o as iq,p as df,q as xS,s as Zd,t as oq,u as WA,v as ff,w as XA,x as sq,y as lq,z as cq,I as uq,J as pc,K as dq,N as fq,O as mq,Q as hq,V as ZA,Y as QA,_ as pq,$ as gq,a0 as vq,a1 as yq,a2 as bq,a3 as JA,a4 as _q,a5 as xq,a6 as wq,a7 as jq,a8 as Sq,a9 as Eq,aa as Oq,ab as Cq,ac as Aq,ad as Nq}from"./icons-DsFyWu_8.js";import{r as lm,b as eN,a as Ja}from"./react-DXGY7bZi.js";import{_ as ei}from"./pdf-aQqpMATS.js";import{c as tN}from"./supabase-VuevzHjS.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var mg={exports:{}},tc={};var wS;function kq(){if(wS)return tc;wS=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(n,i,s){var c=null;if(s!==void 0&&(c=""+s),i.key!==void 0&&(c=""+i.key),"key"in i){s={};for(var u in i)u!=="key"&&(s[u]=i[u])}else s=i;return i=s.ref,{$$typeof:e,type:n,key:c,ref:i!==void 0?i:null,props:s}}return tc.Fragment=t,tc.jsx=r,tc.jsxs=r,tc}var jS;function Dq(){return jS||(jS=1,mg.exports=kq()),mg.exports}var f=Dq(),hg={exports:{}},rc={},pg={exports:{}},gg={};var SS;function Tq(){return SS||(SS=1,(function(e){function t(R,I){var ee=R.length;R.push(I);e:for(;0<ee;){var U=ee-1>>>1,me=R[U];if(0<i(me,I))R[U]=I,R[ee]=me,ee=U;else break e}}function r(R){return R.length===0?null:R[0]}function n(R){if(R.length===0)return null;var I=R[0],ee=R.pop();if(ee!==I){R[0]=ee;e:for(var U=0,me=R.length,we=me>>>1;U<we;){var J=2*(U+1)-1,H=R[J],je=J+1,Te=R[je];if(0>i(H,ee))je<me&&0>i(Te,H)?(R[U]=Te,R[je]=ee,U=je):(R[U]=H,R[J]=ee,U=J);else if(je<me&&0>i(Te,ee))R[U]=Te,R[je]=ee,U=je;else break e}}return I}function i(R,I){var ee=R.sortIndex-I.sortIndex;return ee!==0?ee:R.id-I.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var c=Date,u=c.now();e.unstable_now=function(){return c.now()-u}}var m=[],h=[],g=1,p=null,_=3,x=!1,w=!1,j=!1,S=!1,O=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function k(R){for(var I=r(h);I!==null;){if(I.callback===null)n(h);else if(I.startTime<=R)n(h),I.sortIndex=I.expirationTime,t(m,I);else break;I=r(h)}}function D(R){if(j=!1,k(R),!w)if(r(m)!==null)w=!0,M||(M=!0,B());else{var I=r(h);I!==null&&q(D,I.startTime-R)}}var M=!1,L=-1,X=5,re=-1;function ae(){return S?!0:!(e.unstable_now()-re<X)}function G(){if(S=!1,M){var R=e.unstable_now();re=R;var I=!0;try{e:{w=!1,j&&(j=!1,C(L),L=-1),x=!0;var ee=_;try{t:{for(k(R),p=r(m);p!==null&&!(p.expirationTime>R&&ae());){var U=p.callback;if(typeof U=="function"){p.callback=null,_=p.priorityLevel;var me=U(p.expirationTime<=R);if(R=e.unstable_now(),typeof me=="function"){p.callback=me,k(R),I=!0;break t}p===r(m)&&n(m),k(R)}else n(m);p=r(m)}if(p!==null)I=!0;else{var we=r(h);we!==null&&q(D,we.startTime-R),I=!1}}break e}finally{p=null,_=ee,x=!1}I=void 0}}finally{I?B():M=!1}}}var B;if(typeof A=="function")B=function(){A(G)};else if(typeof MessageChannel<"u"){var ce=new MessageChannel,ge=ce.port2;ce.port1.onmessage=G,B=function(){ge.postMessage(null)}}else B=function(){O(G,0)};function q(R,I){L=O(function(){R(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return _},e.unstable_next=function(R){switch(_){case 1:case 2:case 3:var I=3;break;default:I=_}var ee=_;_=I;try{return R()}finally{_=ee}},e.unstable_requestPaint=function(){S=!0},e.unstable_runWithPriority=function(R,I){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var ee=_;_=R;try{return I()}finally{_=ee}},e.unstable_scheduleCallback=function(R,I,ee){var U=e.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?U+ee:U):ee=U,R){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=ee+me,R={id:g++,callback:I,priorityLevel:R,startTime:ee,expirationTime:me,sortIndex:-1},ee>U?(R.sortIndex=ee,t(h,R),r(m)===null&&R===r(h)&&(j?(C(L),L=-1):j=!0,q(D,ee-U))):(R.sortIndex=me,t(m,R),w||x||(w=!0,M||(M=!0,B()))),R},e.unstable_shouldYield=ae,e.unstable_wrapCallback=function(R){var I=_;return function(){var ee=_;_=I;try{return R.apply(this,arguments)}finally{_=ee}}}})(gg)),gg}var ES;function Pq(){return ES||(ES=1,pg.exports=Tq()),pg.exports}var OS;function Mq(){if(OS)return rc;OS=1;var e=Pq(),t=lm(),r=eN();function n(a){var o="https://react.dev/errors/"+a;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var o=a,l=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,(o.flags&4098)!==0&&(l=o.return),a=o.return;while(a)}return o.tag===3?l:null}function c(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function u(a){if(a.tag===31){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function m(a){if(s(a)!==a)throw Error(n(188))}function h(a){var o=a.alternate;if(!o){if(o=s(a),o===null)throw Error(n(188));return o!==a?null:a}for(var l=a,d=o;;){var v=l.return;if(v===null)break;var b=v.alternate;if(b===null){if(d=v.return,d!==null){l=d;continue}break}if(v.child===b.child){for(b=v.child;b;){if(b===l)return m(v),a;if(b===d)return m(v),o;b=b.sibling}throw Error(n(188))}if(l.return!==d.return)l=v,d=b;else{for(var E=!1,N=v.child;N;){if(N===l){E=!0,l=v,d=b;break}if(N===d){E=!0,d=v,l=b;break}N=N.sibling}if(!E){for(N=b.child;N;){if(N===l){E=!0,l=b,d=v;break}if(N===d){E=!0,d=b,l=v;break}N=N.sibling}if(!E)throw Error(n(189))}}if(l.alternate!==d)throw Error(n(190))}if(l.tag!==3)throw Error(n(188));return l.stateNode.current===l?a:o}function g(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a;for(a=a.child;a!==null;){if(o=g(a),o!==null)return o;a=a.sibling}return null}var p=Object.assign,_=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),C=Symbol.for("react.consumer"),A=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),re=Symbol.for("react.activity"),ae=Symbol.for("react.memo_cache_sentinel"),G=Symbol.iterator;function B(a){return a===null||typeof a!="object"?null:(a=G&&a[G]||a["@@iterator"],typeof a=="function"?a:null)}var ce=Symbol.for("react.client.reference");function ge(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===ce?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case j:return"Fragment";case O:return"Profiler";case S:return"StrictMode";case D:return"Suspense";case M:return"SuspenseList";case re:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case w:return"Portal";case A:return a.displayName||"Context";case C:return(a._context.displayName||"Context")+".Consumer";case k:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case L:return o=a.displayName||null,o!==null?o:ge(a.type)||"Memo";case X:o=a._payload,a=a._init;try{return ge(a(o))}catch{}}return null}var q=Array.isArray,R=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},U=[],me=-1;function we(a){return{current:a}}function J(a){0>me||(a.current=U[me],U[me]=null,me--)}function H(a,o){me++,U[me]=a.current,a.current=o}var je=we(null),Te=we(null),Ue=we(null),pe=we(null);function Le(a,o){switch(H(Ue,o),H(Te,a),H(je,null),o.nodeType){case 9:case 11:a=(a=o.documentElement)&&(a=a.namespaceURI)?Hj(a):0;break;default:if(a=o.tagName,o=o.namespaceURI)o=Hj(o),a=Fj(o,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}J(je),H(je,a)}function Q(){J(je),J(Te),J(Ue)}function Ee(a){a.memoizedState!==null&&H(pe,a);var o=je.current,l=Fj(o,a.type);o!==l&&(H(Te,a),H(je,l))}function xe(a){Te.current===a&&(J(je),J(Te)),pe.current===a&&(J(pe),Zl._currentValue=ee)}var ie,Be;function ve(a){if(ie===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);ie=o&&o[1]||"",Be=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ie+a+Be}var Ne=!1;function Me(a,o){if(!a||Ne)return"";Ne=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(o){var de=function(){throw Error()};if(Object.defineProperty(de.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(de,[])}catch(te){var Z=te}Reflect.construct(a,[],de)}else{try{de.call()}catch(te){Z=te}a.call(de.prototype)}}else{try{throw Error()}catch(te){Z=te}(de=a())&&typeof de.catch=="function"&&de.catch(function(){})}}catch(te){if(te&&Z&&typeof te.stack=="string")return[te.stack,Z.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=d.DetermineComponentFrameRoot(),E=b[0],N=b[1];if(E&&N){var z=E.split(`
`),V=N.split(`
`);for(v=d=0;d<z.length&&!z[d].includes("DetermineComponentFrameRoot");)d++;for(;v<V.length&&!V[v].includes("DetermineComponentFrameRoot");)v++;if(d===z.length||v===V.length)for(d=z.length-1,v=V.length-1;1<=d&&0<=v&&z[d]!==V[v];)v--;for(;1<=d&&0<=v;d--,v--)if(z[d]!==V[v]){if(d!==1||v!==1)do if(d--,v--,0>v||z[d]!==V[v]){var oe=`
`+z[d].replace(" at new "," at ");return a.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",a.displayName)),oe}while(1<=d&&0<=v);break}}}finally{Ne=!1,Error.prepareStackTrace=l}return(l=a?a.displayName||a.name:"")?ve(l):""}function Ct(a,o){switch(a.tag){case 26:case 27:case 5:return ve(a.type);case 16:return ve("Lazy");case 13:return a.child!==o&&o!==null?ve("Suspense Fallback"):ve("Suspense");case 19:return ve("SuspenseList");case 0:case 15:return Me(a.type,!1);case 11:return Me(a.type.render,!1);case 1:return Me(a.type,!0);case 31:return ve("Activity");default:return""}}function Re(a){try{var o="",l=null;do o+=Ct(a,l),l=a,a=a.return;while(a);return o}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}var It=Object.prototype.hasOwnProperty,_t=e.unstable_scheduleCallback,At=e.unstable_cancelCallback,Cr=e.unstable_shouldYield,jt=e.unstable_requestPaint,Ye=e.unstable_now,Hr=e.unstable_getCurrentPriorityLevel,_n=e.unstable_ImmediatePriority,Pr=e.unstable_UserBlockingPriority,Ar=e.unstable_NormalPriority,fe=e.unstable_LowPriority,rt=e.unstable_IdlePriority,en=e.log,Mr=e.unstable_setDisableYieldValue,Rr=null,vt=null;function Ut(a){if(typeof en=="function"&&Mr(a),vt&&typeof vt.setStrictMode=="function")try{vt.setStrictMode(Rr,a)}catch{}}var xt=Math.clz32?Math.clz32:Qi,xn=Math.log,ci=Math.LN2;function Qi(a){return a>>>=0,a===0?32:31-(xn(a)/ci|0)|0}var ui=256,di=262144,ya=4194304;function wn(a){var o=a&42;if(o!==0)return o;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function fi(a,o,l){var d=a.pendingLanes;if(d===0)return 0;var v=0,b=a.suspendedLanes,E=a.pingedLanes;a=a.warmLanes;var N=d&134217727;return N!==0?(d=N&~b,d!==0?v=wn(d):(E&=N,E!==0?v=wn(E):l||(l=N&~a,l!==0&&(v=wn(l))))):(N=d&~b,N!==0?v=wn(N):E!==0?v=wn(E):l||(l=d&~a,l!==0&&(v=wn(l)))),v===0?0:o!==0&&o!==v&&(o&b)===0&&(b=v&-v,l=o&-o,b>=l||b===32&&(l&4194048)!==0)?o:v}function ba(a,o){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&o)===0}function ll(a,o){switch(a){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ye(){var a=ya;return ya<<=1,(ya&62914560)===0&&(ya=4194304),a}function Bn(a){for(var o=[],l=0;31>l;l++)o.push(a);return o}function _a(a,o){a.pendingLanes|=o,o!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function cl(a,o,l,d,v,b){var E=a.pendingLanes;a.pendingLanes=l,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=l,a.entangledLanes&=l,a.errorRecoveryDisabledLanes&=l,a.shellSuspendCounter=0;var N=a.entanglements,z=a.expirationTimes,V=a.hiddenUpdates;for(l=E&~l;0<l;){var oe=31-xt(l),de=1<<oe;N[oe]=0,z[oe]=-1;var Z=V[oe];if(Z!==null)for(V[oe]=null,oe=0;oe<Z.length;oe++){var te=Z[oe];te!==null&&(te.lane&=-536870913)}l&=~de}d!==0&&fu(a,d,0),b!==0&&v===0&&a.tag!==0&&(a.suspendedLanes|=b&~(E&~o))}function fu(a,o,l){a.pendingLanes|=o,a.suspendedLanes&=~o;var d=31-xt(o);a.entangledLanes|=o,a.entanglements[d]=a.entanglements[d]|1073741824|l&261930}function mu(a,o){var l=a.entangledLanes|=o;for(a=a.entanglements;l;){var d=31-xt(l),v=1<<d;v&o|a[d]&o&&(a[d]|=o),l&=~v}}function $n(a,o){var l=o&-o;return l=(l&42)!==0?1:ul(l),(l&(a.suspendedLanes|o))!==0?0:l}function ul(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function dl(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function Ji(){var a=I.p;return a!==0?a:(a=window.event,a===void 0?32:mS(a.type))}function eo(a,o){var l=I.p;try{return I.p=a,o()}finally{I.p=l}}var tn=Math.random().toString(36).slice(2),Bt="__reactFiber$"+tn,ir="__reactProps$"+tn,aa="__reactContainer$"+tn,to="__reactEvents$"+tn,hu="__reactListeners$"+tn,fl="__reactHandles$"+tn,ml="__reactResources$"+tn,Zo="__reactMarker$"+tn;function Qo(a){delete a[Bt],delete a[ir],delete a[to],delete a[hu],delete a[fl]}function Hn(a){var o=a[Bt];if(o)return o;for(var l=a.parentNode;l;){if(o=l[aa]||l[Bt]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(a=Zj(a);a!==null;){if(l=a[Bt])return l;a=Zj(a)}return o}a=l,l=a.parentNode}return null}function mi(a){if(a=a[Bt]||a[aa]){var o=a.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return a}return null}function ro(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a.stateNode;throw Error(n(33))}function K(a){var o=a[ml];return o||(o=a[ml]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function le(a){a[Zo]=!0}var he=new Set,se={};function ne(a,o){Se(a,o),Se(a+"Capture",o)}function Se(a,o){for(se[a]=o,a=0;a<o.length;a++)he.add(o[a])}var Ie=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Fe={},lt={};function qr(a){return It.call(lt,a)?!0:It.call(Fe,a)?!1:Ie.test(a)?lt[a]=!0:(Fe[a]=!0,!1)}function Je(a,o,l){if(qr(o))if(l===null)a.removeAttribute(o);else{switch(typeof l){case"undefined":case"function":case"symbol":a.removeAttribute(o);return;case"boolean":var d=o.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){a.removeAttribute(o);return}}a.setAttribute(o,""+l)}}function Yt(a,o,l){if(l===null)a.removeAttribute(o);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(o);return}a.setAttribute(o,""+l)}}function Fn(a,o,l,d){if(d===null)a.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(l);return}a.setAttributeNS(o,l,""+d)}}function jn(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function R_(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function UM(a,o,l){var d=Object.getOwnPropertyDescriptor(a.constructor.prototype,o);if(!a.hasOwnProperty(o)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var v=d.get,b=d.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return v.call(this)},set:function(E){l=""+E,b.call(this,E)}}),Object.defineProperty(a,o,{enumerable:d.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function oh(a){if(!a._valueTracker){var o=R_(a)?"checked":"value";a._valueTracker=UM(a,o,""+a[o])}}function q_(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var l=o.getValue(),d="";return a&&(d=R_(a)?a.checked?"true":"false":a.value),a=d,a!==l?(o.setValue(a),!0):!1}function pu(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var BM=/[\n"\\]/g;function Sn(a){return a.replace(BM,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function sh(a,o,l,d,v,b,E,N){a.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?a.type=E:a.removeAttribute("type"),o!=null?E==="number"?(o===0&&a.value===""||a.value!=o)&&(a.value=""+jn(o)):a.value!==""+jn(o)&&(a.value=""+jn(o)):E!=="submit"&&E!=="reset"||a.removeAttribute("value"),o!=null?lh(a,E,jn(o)):l!=null?lh(a,E,jn(l)):d!=null&&a.removeAttribute("value"),v==null&&b!=null&&(a.defaultChecked=!!b),v!=null&&(a.checked=v&&typeof v!="function"&&typeof v!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?a.name=""+jn(N):a.removeAttribute("name")}function z_(a,o,l,d,v,b,E,N){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(a.type=b),o!=null||l!=null){if(!(b!=="submit"&&b!=="reset"||o!=null)){oh(a);return}l=l!=null?""+jn(l):"",o=o!=null?""+jn(o):l,N||o===a.value||(a.value=o),a.defaultValue=o}d=d??v,d=typeof d!="function"&&typeof d!="symbol"&&!!d,a.checked=N?a.checked:!!d,a.defaultChecked=!!d,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(a.name=E),oh(a)}function lh(a,o,l){o==="number"&&pu(a.ownerDocument)===a||a.defaultValue===""+l||(a.defaultValue=""+l)}function Jo(a,o,l,d){if(a=a.options,o){o={};for(var v=0;v<l.length;v++)o["$"+l[v]]=!0;for(l=0;l<a.length;l++)v=o.hasOwnProperty("$"+a[l].value),a[l].selected!==v&&(a[l].selected=v),v&&d&&(a[l].defaultSelected=!0)}else{for(l=""+jn(l),o=null,v=0;v<a.length;v++){if(a[v].value===l){a[v].selected=!0,d&&(a[v].defaultSelected=!0);return}o!==null||a[v].disabled||(o=a[v])}o!==null&&(o.selected=!0)}}function L_(a,o,l){if(o!=null&&(o=""+jn(o),o!==a.value&&(a.value=o),l==null)){a.defaultValue!==o&&(a.defaultValue=o);return}a.defaultValue=l!=null?""+jn(l):""}function I_(a,o,l,d){if(o==null){if(d!=null){if(l!=null)throw Error(n(92));if(q(d)){if(1<d.length)throw Error(n(93));d=d[0]}l=d}l==null&&(l=""),o=l}l=jn(o),a.defaultValue=l,d=a.textContent,d===l&&d!==""&&d!==null&&(a.value=d),oh(a)}function es(a,o){if(o){var l=a.firstChild;if(l&&l===a.lastChild&&l.nodeType===3){l.nodeValue=o;return}}a.textContent=o}var $M=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function U_(a,o,l){var d=o.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?d?a.setProperty(o,""):o==="float"?a.cssFloat="":a[o]="":d?a.setProperty(o,l):typeof l!="number"||l===0||$M.has(o)?o==="float"?a.cssFloat=l:a[o]=(""+l).trim():a[o]=l+"px"}function B_(a,o,l){if(o!=null&&typeof o!="object")throw Error(n(62));if(a=a.style,l!=null){for(var d in l)!l.hasOwnProperty(d)||o!=null&&o.hasOwnProperty(d)||(d.indexOf("--")===0?a.setProperty(d,""):d==="float"?a.cssFloat="":a[d]="");for(var v in o)d=o[v],o.hasOwnProperty(v)&&l[v]!==d&&U_(a,v,d)}else for(var b in o)o.hasOwnProperty(b)&&U_(a,b,o[b])}function ch(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var HM=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),FM=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function gu(a){return FM.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function xa(){}var uh=null;function dh(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var ts=null,rs=null;function $_(a){var o=mi(a);if(o&&(a=o.stateNode)){var l=a[ir]||null;e:switch(a=o.stateNode,o.type){case"input":if(sh(a,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),o=l.name,l.type==="radio"&&o!=null){for(l=a;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Sn(""+o)+'"][type="radio"]'),o=0;o<l.length;o++){var d=l[o];if(d!==a&&d.form===a.form){var v=d[ir]||null;if(!v)throw Error(n(90));sh(d,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(o=0;o<l.length;o++)d=l[o],d.form===a.form&&q_(d)}break e;case"textarea":L_(a,l.value,l.defaultValue);break e;case"select":o=l.value,o!=null&&Jo(a,!!l.multiple,o,!1)}}}var fh=!1;function H_(a,o,l){if(fh)return a(o,l);fh=!0;try{var d=a(o);return d}finally{if(fh=!1,(ts!==null||rs!==null)&&(nd(),ts&&(o=ts,a=rs,rs=ts=null,$_(o),a)))for(o=0;o<a.length;o++)$_(a[o])}}function hl(a,o){var l=a.stateNode;if(l===null)return null;var d=l[ir]||null;if(d===null)return null;l=d[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(a=a.type,d=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!d;break e;default:a=!1}if(a)return null;if(l&&typeof l!="function")throw Error(n(231,o,typeof l));return l}var wa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mh=!1;if(wa)try{var pl={};Object.defineProperty(pl,"passive",{get:function(){mh=!0}}),window.addEventListener("test",pl,pl),window.removeEventListener("test",pl,pl)}catch{mh=!1}var hi=null,hh=null,vu=null;function F_(){if(vu)return vu;var a,o=hh,l=o.length,d,v="value"in hi?hi.value:hi.textContent,b=v.length;for(a=0;a<l&&o[a]===v[a];a++);var E=l-a;for(d=1;d<=E&&o[l-d]===v[b-d];d++);return vu=v.slice(a,1<d?1-d:void 0)}function yu(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function bu(){return!0}function K_(){return!1}function Fr(a){function o(l,d,v,b,E){this._reactName=l,this._targetInst=v,this.type=d,this.nativeEvent=b,this.target=E,this.currentTarget=null;for(var N in a)a.hasOwnProperty(N)&&(l=a[N],this[N]=l?l(b):b[N]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?bu:K_,this.isPropagationStopped=K_,this}return p(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=bu)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=bu)},persist:function(){},isPersistent:bu}),o}var no={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_u=Fr(no),gl=p({},no,{view:0,detail:0}),KM=Fr(gl),ph,gh,vl,xu=p({},gl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yh,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==vl&&(vl&&a.type==="mousemove"?(ph=a.screenX-vl.screenX,gh=a.screenY-vl.screenY):gh=ph=0,vl=a),ph)},movementY:function(a){return"movementY"in a?a.movementY:gh}}),Y_=Fr(xu),YM=p({},xu,{dataTransfer:0}),GM=Fr(YM),VM=p({},gl,{relatedTarget:0}),vh=Fr(VM),WM=p({},no,{animationName:0,elapsedTime:0,pseudoElement:0}),XM=Fr(WM),ZM=p({},no,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),QM=Fr(ZM),JM=p({},no,{data:0}),G_=Fr(JM),e2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},t2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},r2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function n2(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=r2[a])?!!o[a]:!1}function yh(){return n2}var a2=p({},gl,{key:function(a){if(a.key){var o=e2[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=yu(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?t2[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yh,charCode:function(a){return a.type==="keypress"?yu(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?yu(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),i2=Fr(a2),o2=p({},xu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),V_=Fr(o2),s2=p({},gl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yh}),l2=Fr(s2),c2=p({},no,{propertyName:0,elapsedTime:0,pseudoElement:0}),u2=Fr(c2),d2=p({},xu,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),f2=Fr(d2),m2=p({},no,{newState:0,oldState:0}),h2=Fr(m2),p2=[9,13,27,32],bh=wa&&"CompositionEvent"in window,yl=null;wa&&"documentMode"in document&&(yl=document.documentMode);var g2=wa&&"TextEvent"in window&&!yl,W_=wa&&(!bh||yl&&8<yl&&11>=yl),X_=" ",Z_=!1;function Q_(a,o){switch(a){case"keyup":return p2.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function J_(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var ns=!1;function v2(a,o){switch(a){case"compositionend":return J_(o);case"keypress":return o.which!==32?null:(Z_=!0,X_);case"textInput":return a=o.data,a===X_&&Z_?null:a;default:return null}}function y2(a,o){if(ns)return a==="compositionend"||!bh&&Q_(a,o)?(a=F_(),vu=hh=hi=null,ns=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return W_&&o.locale!=="ko"?null:o.data;default:return null}}var b2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ex(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!b2[a.type]:o==="textarea"}function tx(a,o,l,d){ts?rs?rs.push(d):rs=[d]:ts=d,o=ud(o,"onChange"),0<o.length&&(l=new _u("onChange","change",null,l,d),a.push({event:l,listeners:o}))}var bl=null,_l=null;function _2(a){zj(a,0)}function wu(a){var o=ro(a);if(q_(o))return a}function rx(a,o){if(a==="change")return o}var nx=!1;if(wa){var _h;if(wa){var xh="oninput"in document;if(!xh){var ax=document.createElement("div");ax.setAttribute("oninput","return;"),xh=typeof ax.oninput=="function"}_h=xh}else _h=!1;nx=_h&&(!document.documentMode||9<document.documentMode)}function ix(){bl&&(bl.detachEvent("onpropertychange",ox),_l=bl=null)}function ox(a){if(a.propertyName==="value"&&wu(_l)){var o=[];tx(o,_l,a,dh(a)),H_(_2,o)}}function x2(a,o,l){a==="focusin"?(ix(),bl=o,_l=l,bl.attachEvent("onpropertychange",ox)):a==="focusout"&&ix()}function w2(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return wu(_l)}function j2(a,o){if(a==="click")return wu(o)}function S2(a,o){if(a==="input"||a==="change")return wu(o)}function E2(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var rn=typeof Object.is=="function"?Object.is:E2;function xl(a,o){if(rn(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var l=Object.keys(a),d=Object.keys(o);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var v=l[d];if(!It.call(o,v)||!rn(a[v],o[v]))return!1}return!0}function sx(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function lx(a,o){var l=sx(a);a=0;for(var d;l;){if(l.nodeType===3){if(d=a+l.textContent.length,a<=o&&d>=o)return{node:l,offset:o-a};a=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=sx(l)}}function cx(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?cx(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function ux(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var o=pu(a.document);o instanceof a.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)a=o.contentWindow;else break;o=pu(a.document)}return o}function wh(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}var O2=wa&&"documentMode"in document&&11>=document.documentMode,as=null,jh=null,wl=null,Sh=!1;function dx(a,o,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Sh||as==null||as!==pu(d)||(d=as,"selectionStart"in d&&wh(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),wl&&xl(wl,d)||(wl=d,d=ud(jh,"onSelect"),0<d.length&&(o=new _u("onSelect","select",null,o,l),a.push({event:o,listeners:d}),o.target=as)))}function ao(a,o){var l={};return l[a.toLowerCase()]=o.toLowerCase(),l["Webkit"+a]="webkit"+o,l["Moz"+a]="moz"+o,l}var is={animationend:ao("Animation","AnimationEnd"),animationiteration:ao("Animation","AnimationIteration"),animationstart:ao("Animation","AnimationStart"),transitionrun:ao("Transition","TransitionRun"),transitionstart:ao("Transition","TransitionStart"),transitioncancel:ao("Transition","TransitionCancel"),transitionend:ao("Transition","TransitionEnd")},Eh={},fx={};wa&&(fx=document.createElement("div").style,"AnimationEvent"in window||(delete is.animationend.animation,delete is.animationiteration.animation,delete is.animationstart.animation),"TransitionEvent"in window||delete is.transitionend.transition);function io(a){if(Eh[a])return Eh[a];if(!is[a])return a;var o=is[a],l;for(l in o)if(o.hasOwnProperty(l)&&l in fx)return Eh[a]=o[l];return a}var mx=io("animationend"),hx=io("animationiteration"),px=io("animationstart"),C2=io("transitionrun"),A2=io("transitionstart"),N2=io("transitioncancel"),gx=io("transitionend"),vx=new Map,Oh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Oh.push("scrollEnd");function Kn(a,o){vx.set(a,o),ne(o,[a])}var ju=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},En=[],os=0,Ch=0;function Su(){for(var a=os,o=Ch=os=0;o<a;){var l=En[o];En[o++]=null;var d=En[o];En[o++]=null;var v=En[o];En[o++]=null;var b=En[o];if(En[o++]=null,d!==null&&v!==null){var E=d.pending;E===null?v.next=v:(v.next=E.next,E.next=v),d.pending=v}b!==0&&yx(l,v,b)}}function Eu(a,o,l,d){En[os++]=a,En[os++]=o,En[os++]=l,En[os++]=d,Ch|=d,a.lanes|=d,a=a.alternate,a!==null&&(a.lanes|=d)}function Ah(a,o,l,d){return Eu(a,o,l,d),Ou(a)}function oo(a,o){return Eu(a,null,null,o),Ou(a)}function yx(a,o,l){a.lanes|=l;var d=a.alternate;d!==null&&(d.lanes|=l);for(var v=!1,b=a.return;b!==null;)b.childLanes|=l,d=b.alternate,d!==null&&(d.childLanes|=l),b.tag===22&&(a=b.stateNode,a===null||a._visibility&1||(v=!0)),a=b,b=b.return;return a.tag===3?(b=a.stateNode,v&&o!==null&&(v=31-xt(l),a=b.hiddenUpdates,d=a[v],d===null?a[v]=[o]:d.push(o),o.lane=l|536870912),b):null}function Ou(a){if(50<Fl)throw Fl=0,zp=null,Error(n(185));for(var o=a.return;o!==null;)a=o,o=a.return;return a.tag===3?a.stateNode:null}var ss={};function k2(a,o,l,d){this.tag=a,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nn(a,o,l,d){return new k2(a,o,l,d)}function Nh(a){return a=a.prototype,!(!a||!a.isReactComponent)}function ja(a,o){var l=a.alternate;return l===null?(l=nn(a.tag,o,a.key,a.mode),l.elementType=a.elementType,l.type=a.type,l.stateNode=a.stateNode,l.alternate=a,a.alternate=l):(l.pendingProps=o,l.type=a.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=a.flags&65011712,l.childLanes=a.childLanes,l.lanes=a.lanes,l.child=a.child,l.memoizedProps=a.memoizedProps,l.memoizedState=a.memoizedState,l.updateQueue=a.updateQueue,o=a.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=a.sibling,l.index=a.index,l.ref=a.ref,l.refCleanup=a.refCleanup,l}function bx(a,o){a.flags&=65011714;var l=a.alternate;return l===null?(a.childLanes=0,a.lanes=o,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,o=l.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),a}function Cu(a,o,l,d,v,b){var E=0;if(d=a,typeof a=="function")Nh(a)&&(E=1);else if(typeof a=="string")E=RR(a,l,je.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case re:return a=nn(31,l,o,v),a.elementType=re,a.lanes=b,a;case j:return so(l.children,v,b,o);case S:E=8,v|=24;break;case O:return a=nn(12,l,o,v|2),a.elementType=O,a.lanes=b,a;case D:return a=nn(13,l,o,v),a.elementType=D,a.lanes=b,a;case M:return a=nn(19,l,o,v),a.elementType=M,a.lanes=b,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case A:E=10;break e;case C:E=9;break e;case k:E=11;break e;case L:E=14;break e;case X:E=16,d=null;break e}E=29,l=Error(n(130,a===null?"null":typeof a,"")),d=null}return o=nn(E,l,o,v),o.elementType=a,o.type=d,o.lanes=b,o}function so(a,o,l,d){return a=nn(7,a,d,o),a.lanes=l,a}function kh(a,o,l){return a=nn(6,a,null,o),a.lanes=l,a}function _x(a){var o=nn(18,null,null,0);return o.stateNode=a,o}function Dh(a,o,l){return o=nn(4,a.children!==null?a.children:[],a.key,o),o.lanes=l,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}var xx=new WeakMap;function On(a,o){if(typeof a=="object"&&a!==null){var l=xx.get(a);return l!==void 0?l:(o={value:a,source:o,stack:Re(o)},xx.set(a,o),o)}return{value:a,source:o,stack:Re(o)}}var ls=[],cs=0,Au=null,jl=0,Cn=[],An=0,pi=null,ia=1,oa="";function Sa(a,o){ls[cs++]=jl,ls[cs++]=Au,Au=a,jl=o}function wx(a,o,l){Cn[An++]=ia,Cn[An++]=oa,Cn[An++]=pi,pi=a;var d=ia;a=oa;var v=32-xt(d)-1;d&=~(1<<v),l+=1;var b=32-xt(o)+v;if(30<b){var E=v-v%5;b=(d&(1<<E)-1).toString(32),d>>=E,v-=E,ia=1<<32-xt(o)+v|l<<v|d,oa=b+a}else ia=1<<b|l<<v|d,oa=a}function Th(a){a.return!==null&&(Sa(a,1),wx(a,1,0))}function Ph(a){for(;a===Au;)Au=ls[--cs],ls[cs]=null,jl=ls[--cs],ls[cs]=null;for(;a===pi;)pi=Cn[--An],Cn[An]=null,oa=Cn[--An],Cn[An]=null,ia=Cn[--An],Cn[An]=null}function jx(a,o){Cn[An++]=ia,Cn[An++]=oa,Cn[An++]=pi,ia=o.id,oa=o.overflow,pi=a}var xr=null,St=null,Qe=!1,gi=null,Nn=!1,Mh=Error(n(519));function vi(a){var o=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Sl(On(o,a)),Mh}function Sx(a){var o=a.stateNode,l=a.type,d=a.memoizedProps;switch(o[Bt]=a,o[ir]=d,l){case"dialog":We("cancel",o),We("close",o);break;case"iframe":case"object":case"embed":We("load",o);break;case"video":case"audio":for(l=0;l<Yl.length;l++)We(Yl[l],o);break;case"source":We("error",o);break;case"img":case"image":case"link":We("error",o),We("load",o);break;case"details":We("toggle",o);break;case"input":We("invalid",o),z_(o,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0);break;case"select":We("invalid",o);break;case"textarea":We("invalid",o),I_(o,d.value,d.defaultValue,d.children)}l=d.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||o.textContent===""+l||d.suppressHydrationWarning===!0||Bj(o.textContent,l)?(d.popover!=null&&(We("beforetoggle",o),We("toggle",o)),d.onScroll!=null&&We("scroll",o),d.onScrollEnd!=null&&We("scrollend",o),d.onClick!=null&&(o.onclick=xa),o=!0):o=!1,o||vi(a,!0)}function Ex(a){for(xr=a.return;xr;)switch(xr.tag){case 5:case 31:case 13:Nn=!1;return;case 27:case 3:Nn=!0;return;default:xr=xr.return}}function us(a){if(a!==xr)return!1;if(!Qe)return Ex(a),Qe=!0,!1;var o=a.tag,l;if((l=o!==3&&o!==27)&&((l=o===5)&&(l=a.type,l=!(l!=="form"&&l!=="button")||Qp(a.type,a.memoizedProps)),l=!l),l&&St&&vi(a),Ex(a),o===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));St=Xj(a)}else if(o===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));St=Xj(a)}else o===27?(o=St,Di(a.type)?(a=ng,ng=null,St=a):St=o):St=xr?Dn(a.stateNode.nextSibling):null;return!0}function lo(){St=xr=null,Qe=!1}function Rh(){var a=gi;return a!==null&&(Vr===null?Vr=a:Vr.push.apply(Vr,a),gi=null),a}function Sl(a){gi===null?gi=[a]:gi.push(a)}var qh=we(null),co=null,Ea=null;function yi(a,o,l){H(qh,o._currentValue),o._currentValue=l}function Oa(a){a._currentValue=qh.current,J(qh)}function zh(a,o,l){for(;a!==null;){var d=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),a===l)break;a=a.return}}function Lh(a,o,l,d){var v=a.child;for(v!==null&&(v.return=a);v!==null;){var b=v.dependencies;if(b!==null){var E=v.child;b=b.firstContext;e:for(;b!==null;){var N=b;b=v;for(var z=0;z<o.length;z++)if(N.context===o[z]){b.lanes|=l,N=b.alternate,N!==null&&(N.lanes|=l),zh(b.return,l,a),d||(E=null);break e}b=N.next}}else if(v.tag===18){if(E=v.return,E===null)throw Error(n(341));E.lanes|=l,b=E.alternate,b!==null&&(b.lanes|=l),zh(E,l,a),E=null}else E=v.child;if(E!==null)E.return=v;else for(E=v;E!==null;){if(E===a){E=null;break}if(v=E.sibling,v!==null){v.return=E.return,E=v;break}E=E.return}v=E}}function ds(a,o,l,d){a=null;for(var v=o,b=!1;v!==null;){if(!b){if((v.flags&524288)!==0)b=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var E=v.alternate;if(E===null)throw Error(n(387));if(E=E.memoizedProps,E!==null){var N=v.type;rn(v.pendingProps.value,E.value)||(a!==null?a.push(N):a=[N])}}else if(v===pe.current){if(E=v.alternate,E===null)throw Error(n(387));E.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(a!==null?a.push(Zl):a=[Zl])}v=v.return}a!==null&&Lh(o,a,l,d),o.flags|=262144}function Nu(a){for(a=a.firstContext;a!==null;){if(!rn(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function uo(a){co=a,Ea=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function wr(a){return Ox(co,a)}function ku(a,o){return co===null&&uo(a),Ox(a,o)}function Ox(a,o){var l=o._currentValue;if(o={context:o,memoizedValue:l,next:null},Ea===null){if(a===null)throw Error(n(308));Ea=o,a.dependencies={lanes:0,firstContext:o},a.flags|=524288}else Ea=Ea.next=o;return l}var D2=typeof AbortController<"u"?AbortController:function(){var a=[],o=this.signal={aborted:!1,addEventListener:function(l,d){a.push(d)}};this.abort=function(){o.aborted=!0,a.forEach(function(l){return l()})}},T2=e.unstable_scheduleCallback,P2=e.unstable_NormalPriority,Zt={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ih(){return{controller:new D2,data:new Map,refCount:0}}function El(a){a.refCount--,a.refCount===0&&T2(P2,function(){a.controller.abort()})}var Ol=null,Uh=0,fs=0,ms=null;function M2(a,o){if(Ol===null){var l=Ol=[];Uh=0,fs=Hp(),ms={status:"pending",value:void 0,then:function(d){l.push(d)}}}return Uh++,o.then(Cx,Cx),o}function Cx(){if(--Uh===0&&Ol!==null){ms!==null&&(ms.status="fulfilled");var a=Ol;Ol=null,fs=0,ms=null;for(var o=0;o<a.length;o++)(0,a[o])()}}function R2(a,o){var l=[],d={status:"pending",value:null,reason:null,then:function(v){l.push(v)}};return a.then(function(){d.status="fulfilled",d.value=o;for(var v=0;v<l.length;v++)(0,l[v])(o)},function(v){for(d.status="rejected",d.reason=v,v=0;v<l.length;v++)(0,l[v])(void 0)}),d}var Ax=R.S;R.S=function(a,o){dj=Ye(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&M2(a,o),Ax!==null&&Ax(a,o)};var fo=we(null);function Bh(){var a=fo.current;return a!==null?a:yt.pooledCache}function Du(a,o){o===null?H(fo,fo.current):H(fo,o.pool)}function Nx(){var a=Bh();return a===null?null:{parent:Zt._currentValue,pool:a}}var hs=Error(n(460)),$h=Error(n(474)),Tu=Error(n(542)),Pu={then:function(){}};function kx(a){return a=a.status,a==="fulfilled"||a==="rejected"}function Dx(a,o,l){switch(l=a[l],l===void 0?a.push(o):l!==o&&(o.then(xa,xa),o=l),o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,Px(a),a;default:if(typeof o.status=="string")o.then(xa,xa);else{if(a=yt,a!==null&&100<a.shellSuspendCounter)throw Error(n(482));a=o,a.status="pending",a.then(function(d){if(o.status==="pending"){var v=o;v.status="fulfilled",v.value=d}},function(d){if(o.status==="pending"){var v=o;v.status="rejected",v.reason=d}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,Px(a),a}throw ho=o,hs}}function mo(a){try{var o=a._init;return o(a._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(ho=l,hs):l}}var ho=null;function Tx(){if(ho===null)throw Error(n(459));var a=ho;return ho=null,a}function Px(a){if(a===hs||a===Tu)throw Error(n(483))}var ps=null,Cl=0;function Mu(a){var o=Cl;return Cl+=1,ps===null&&(ps=[]),Dx(ps,a,o)}function Al(a,o){o=o.props.ref,a.ref=o!==void 0?o:null}function Ru(a,o){throw o.$$typeof===_?Error(n(525)):(a=Object.prototype.toString.call(o),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a)))}function Mx(a){function o(F,$){if(a){var Y=F.deletions;Y===null?(F.deletions=[$],F.flags|=16):Y.push($)}}function l(F,$){if(!a)return null;for(;$!==null;)o(F,$),$=$.sibling;return null}function d(F){for(var $=new Map;F!==null;)F.key!==null?$.set(F.key,F):$.set(F.index,F),F=F.sibling;return $}function v(F,$){return F=ja(F,$),F.index=0,F.sibling=null,F}function b(F,$,Y){return F.index=Y,a?(Y=F.alternate,Y!==null?(Y=Y.index,Y<$?(F.flags|=67108866,$):Y):(F.flags|=67108866,$)):(F.flags|=1048576,$)}function E(F){return a&&F.alternate===null&&(F.flags|=67108866),F}function N(F,$,Y,ue){return $===null||$.tag!==6?($=kh(Y,F.mode,ue),$.return=F,$):($=v($,Y),$.return=F,$)}function z(F,$,Y,ue){var qe=Y.type;return qe===j?oe(F,$,Y.props.children,ue,Y.key):$!==null&&($.elementType===qe||typeof qe=="object"&&qe!==null&&qe.$$typeof===X&&mo(qe)===$.type)?($=v($,Y.props),Al($,Y),$.return=F,$):($=Cu(Y.type,Y.key,Y.props,null,F.mode,ue),Al($,Y),$.return=F,$)}function V(F,$,Y,ue){return $===null||$.tag!==4||$.stateNode.containerInfo!==Y.containerInfo||$.stateNode.implementation!==Y.implementation?($=Dh(Y,F.mode,ue),$.return=F,$):($=v($,Y.children||[]),$.return=F,$)}function oe(F,$,Y,ue,qe){return $===null||$.tag!==7?($=so(Y,F.mode,ue,qe),$.return=F,$):($=v($,Y),$.return=F,$)}function de(F,$,Y){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return $=kh(""+$,F.mode,Y),$.return=F,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case x:return Y=Cu($.type,$.key,$.props,null,F.mode,Y),Al(Y,$),Y.return=F,Y;case w:return $=Dh($,F.mode,Y),$.return=F,$;case X:return $=mo($),de(F,$,Y)}if(q($)||B($))return $=so($,F.mode,Y,null),$.return=F,$;if(typeof $.then=="function")return de(F,Mu($),Y);if($.$$typeof===A)return de(F,ku(F,$),Y);Ru(F,$)}return null}function Z(F,$,Y,ue){var qe=$!==null?$.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return qe!==null?null:N(F,$,""+Y,ue);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case x:return Y.key===qe?z(F,$,Y,ue):null;case w:return Y.key===qe?V(F,$,Y,ue):null;case X:return Y=mo(Y),Z(F,$,Y,ue)}if(q(Y)||B(Y))return qe!==null?null:oe(F,$,Y,ue,null);if(typeof Y.then=="function")return Z(F,$,Mu(Y),ue);if(Y.$$typeof===A)return Z(F,$,ku(F,Y),ue);Ru(F,Y)}return null}function te(F,$,Y,ue,qe){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return F=F.get(Y)||null,N($,F,""+ue,qe);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case x:return F=F.get(ue.key===null?Y:ue.key)||null,z($,F,ue,qe);case w:return F=F.get(ue.key===null?Y:ue.key)||null,V($,F,ue,qe);case X:return ue=mo(ue),te(F,$,Y,ue,qe)}if(q(ue)||B(ue))return F=F.get(Y)||null,oe($,F,ue,qe,null);if(typeof ue.then=="function")return te(F,$,Y,Mu(ue),qe);if(ue.$$typeof===A)return te(F,$,Y,ku($,ue),qe);Ru($,ue)}return null}function Ae(F,$,Y,ue){for(var qe=null,nt=null,Pe=$,He=$=0,Ze=null;Pe!==null&&He<Y.length;He++){Pe.index>He?(Ze=Pe,Pe=null):Ze=Pe.sibling;var at=Z(F,Pe,Y[He],ue);if(at===null){Pe===null&&(Pe=Ze);break}a&&Pe&&at.alternate===null&&o(F,Pe),$=b(at,$,He),nt===null?qe=at:nt.sibling=at,nt=at,Pe=Ze}if(He===Y.length)return l(F,Pe),Qe&&Sa(F,He),qe;if(Pe===null){for(;He<Y.length;He++)Pe=de(F,Y[He],ue),Pe!==null&&($=b(Pe,$,He),nt===null?qe=Pe:nt.sibling=Pe,nt=Pe);return Qe&&Sa(F,He),qe}for(Pe=d(Pe);He<Y.length;He++)Ze=te(Pe,F,He,Y[He],ue),Ze!==null&&(a&&Ze.alternate!==null&&Pe.delete(Ze.key===null?He:Ze.key),$=b(Ze,$,He),nt===null?qe=Ze:nt.sibling=Ze,nt=Ze);return a&&Pe.forEach(function(qi){return o(F,qi)}),Qe&&Sa(F,He),qe}function ze(F,$,Y,ue){if(Y==null)throw Error(n(151));for(var qe=null,nt=null,Pe=$,He=$=0,Ze=null,at=Y.next();Pe!==null&&!at.done;He++,at=Y.next()){Pe.index>He?(Ze=Pe,Pe=null):Ze=Pe.sibling;var qi=Z(F,Pe,at.value,ue);if(qi===null){Pe===null&&(Pe=Ze);break}a&&Pe&&qi.alternate===null&&o(F,Pe),$=b(qi,$,He),nt===null?qe=qi:nt.sibling=qi,nt=qi,Pe=Ze}if(at.done)return l(F,Pe),Qe&&Sa(F,He),qe;if(Pe===null){for(;!at.done;He++,at=Y.next())at=de(F,at.value,ue),at!==null&&($=b(at,$,He),nt===null?qe=at:nt.sibling=at,nt=at);return Qe&&Sa(F,He),qe}for(Pe=d(Pe);!at.done;He++,at=Y.next())at=te(Pe,F,He,at.value,ue),at!==null&&(a&&at.alternate!==null&&Pe.delete(at.key===null?He:at.key),$=b(at,$,He),nt===null?qe=at:nt.sibling=at,nt=at);return a&&Pe.forEach(function(YR){return o(F,YR)}),Qe&&Sa(F,He),qe}function ht(F,$,Y,ue){if(typeof Y=="object"&&Y!==null&&Y.type===j&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case x:e:{for(var qe=Y.key;$!==null;){if($.key===qe){if(qe=Y.type,qe===j){if($.tag===7){l(F,$.sibling),ue=v($,Y.props.children),ue.return=F,F=ue;break e}}else if($.elementType===qe||typeof qe=="object"&&qe!==null&&qe.$$typeof===X&&mo(qe)===$.type){l(F,$.sibling),ue=v($,Y.props),Al(ue,Y),ue.return=F,F=ue;break e}l(F,$);break}else o(F,$);$=$.sibling}Y.type===j?(ue=so(Y.props.children,F.mode,ue,Y.key),ue.return=F,F=ue):(ue=Cu(Y.type,Y.key,Y.props,null,F.mode,ue),Al(ue,Y),ue.return=F,F=ue)}return E(F);case w:e:{for(qe=Y.key;$!==null;){if($.key===qe)if($.tag===4&&$.stateNode.containerInfo===Y.containerInfo&&$.stateNode.implementation===Y.implementation){l(F,$.sibling),ue=v($,Y.children||[]),ue.return=F,F=ue;break e}else{l(F,$);break}else o(F,$);$=$.sibling}ue=Dh(Y,F.mode,ue),ue.return=F,F=ue}return E(F);case X:return Y=mo(Y),ht(F,$,Y,ue)}if(q(Y))return Ae(F,$,Y,ue);if(B(Y)){if(qe=B(Y),typeof qe!="function")throw Error(n(150));return Y=qe.call(Y),ze(F,$,Y,ue)}if(typeof Y.then=="function")return ht(F,$,Mu(Y),ue);if(Y.$$typeof===A)return ht(F,$,ku(F,Y),ue);Ru(F,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,$!==null&&$.tag===6?(l(F,$.sibling),ue=v($,Y),ue.return=F,F=ue):(l(F,$),ue=kh(Y,F.mode,ue),ue.return=F,F=ue),E(F)):l(F,$)}return function(F,$,Y,ue){try{Cl=0;var qe=ht(F,$,Y,ue);return ps=null,qe}catch(Pe){if(Pe===hs||Pe===Tu)throw Pe;var nt=nn(29,Pe,null,F.mode);return nt.lanes=ue,nt.return=F,nt}finally{}}}var po=Mx(!0),Rx=Mx(!1),bi=!1;function Hh(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Fh(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function _i(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function xi(a,o,l){var d=a.updateQueue;if(d===null)return null;if(d=d.shared,(ot&2)!==0){var v=d.pending;return v===null?o.next=o:(o.next=v.next,v.next=o),d.pending=o,o=Ou(a),yx(a,null,l),o}return Eu(a,d,o,l),Ou(a)}function Nl(a,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194048)!==0)){var d=o.lanes;d&=a.pendingLanes,l|=d,o.lanes=l,mu(a,l)}}function Kh(a,o){var l=a.updateQueue,d=a.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var v=null,b=null;if(l=l.firstBaseUpdate,l!==null){do{var E={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};b===null?v=b=E:b=b.next=E,l=l.next}while(l!==null);b===null?v=b=o:b=b.next=o}else v=b=o;l={baseState:d.baseState,firstBaseUpdate:v,lastBaseUpdate:b,shared:d.shared,callbacks:d.callbacks},a.updateQueue=l;return}a=l.lastBaseUpdate,a===null?l.firstBaseUpdate=o:a.next=o,l.lastBaseUpdate=o}var Yh=!1;function kl(){if(Yh){var a=ms;if(a!==null)throw a}}function Dl(a,o,l,d){Yh=!1;var v=a.updateQueue;bi=!1;var b=v.firstBaseUpdate,E=v.lastBaseUpdate,N=v.shared.pending;if(N!==null){v.shared.pending=null;var z=N,V=z.next;z.next=null,E===null?b=V:E.next=V,E=z;var oe=a.alternate;oe!==null&&(oe=oe.updateQueue,N=oe.lastBaseUpdate,N!==E&&(N===null?oe.firstBaseUpdate=V:N.next=V,oe.lastBaseUpdate=z))}if(b!==null){var de=v.baseState;E=0,oe=V=z=null,N=b;do{var Z=N.lane&-536870913,te=Z!==N.lane;if(te?(Xe&Z)===Z:(d&Z)===Z){Z!==0&&Z===fs&&(Yh=!0),oe!==null&&(oe=oe.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});e:{var Ae=a,ze=N;Z=o;var ht=l;switch(ze.tag){case 1:if(Ae=ze.payload,typeof Ae=="function"){de=Ae.call(ht,de,Z);break e}de=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=ze.payload,Z=typeof Ae=="function"?Ae.call(ht,de,Z):Ae,Z==null)break e;de=p({},de,Z);break e;case 2:bi=!0}}Z=N.callback,Z!==null&&(a.flags|=64,te&&(a.flags|=8192),te=v.callbacks,te===null?v.callbacks=[Z]:te.push(Z))}else te={lane:Z,tag:N.tag,payload:N.payload,callback:N.callback,next:null},oe===null?(V=oe=te,z=de):oe=oe.next=te,E|=Z;if(N=N.next,N===null){if(N=v.shared.pending,N===null)break;te=N,N=te.next,te.next=null,v.lastBaseUpdate=te,v.shared.pending=null}}while(!0);oe===null&&(z=de),v.baseState=z,v.firstBaseUpdate=V,v.lastBaseUpdate=oe,b===null&&(v.shared.lanes=0),Oi|=E,a.lanes=E,a.memoizedState=de}}function qx(a,o){if(typeof a!="function")throw Error(n(191,a));a.call(o)}function zx(a,o){var l=a.callbacks;if(l!==null)for(a.callbacks=null,a=0;a<l.length;a++)qx(l[a],o)}var gs=we(null),qu=we(0);function Lx(a,o){a=Ra,H(qu,a),H(gs,o),Ra=a|o.baseLanes}function Gh(){H(qu,Ra),H(gs,gs.current)}function Vh(){Ra=qu.current,J(gs),J(qu)}var an=we(null),kn=null;function wi(a){var o=a.alternate;H(Gt,Gt.current&1),H(an,a),kn===null&&(o===null||gs.current!==null||o.memoizedState!==null)&&(kn=a)}function Wh(a){H(Gt,Gt.current),H(an,a),kn===null&&(kn=a)}function Ix(a){a.tag===22?(H(Gt,Gt.current),H(an,a),kn===null&&(kn=a)):ji()}function ji(){H(Gt,Gt.current),H(an,an.current)}function on(a){J(an),kn===a&&(kn=null),J(Gt)}var Gt=we(0);function zu(a){for(var o=a;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||tg(l)||rg(l)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Ca=0,$e=null,ft=null,Qt=null,Lu=!1,vs=!1,go=!1,Iu=0,Tl=0,ys=null,q2=0;function $t(){throw Error(n(321))}function Xh(a,o){if(o===null)return!1;for(var l=0;l<o.length&&l<a.length;l++)if(!rn(a[l],o[l]))return!1;return!0}function Zh(a,o,l,d,v,b){return Ca=b,$e=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,R.H=a===null||a.memoizedState===null?ww:fp,go=!1,b=l(d,v),go=!1,vs&&(b=Bx(o,l,d,v)),Ux(a),b}function Ux(a){R.H=Rl;var o=ft!==null&&ft.next!==null;if(Ca=0,Qt=ft=$e=null,Lu=!1,Tl=0,ys=null,o)throw Error(n(300));a===null||Jt||(a=a.dependencies,a!==null&&Nu(a)&&(Jt=!0))}function Bx(a,o,l,d){$e=a;var v=0;do{if(vs&&(ys=null),Tl=0,vs=!1,25<=v)throw Error(n(301));if(v+=1,Qt=ft=null,a.updateQueue!=null){var b=a.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}R.H=jw,b=o(l,d)}while(vs);return b}function z2(){var a=R.H,o=a.useState()[0];return o=typeof o.then=="function"?Pl(o):o,a=a.useState()[0],(ft!==null?ft.memoizedState:null)!==a&&($e.flags|=1024),o}function Qh(){var a=Iu!==0;return Iu=0,a}function Jh(a,o,l){o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~l}function ep(a){if(Lu){for(a=a.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}Lu=!1}Ca=0,Qt=ft=$e=null,vs=!1,Tl=Iu=0,ys=null}function zr(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qt===null?$e.memoizedState=Qt=a:Qt=Qt.next=a,Qt}function Vt(){if(ft===null){var a=$e.alternate;a=a!==null?a.memoizedState:null}else a=ft.next;var o=Qt===null?$e.memoizedState:Qt.next;if(o!==null)Qt=o,ft=a;else{if(a===null)throw $e.alternate===null?Error(n(467)):Error(n(310));ft=a,a={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},Qt===null?$e.memoizedState=Qt=a:Qt=Qt.next=a}return Qt}function Uu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Pl(a){var o=Tl;return Tl+=1,ys===null&&(ys=[]),a=Dx(ys,a,o),o=$e,(Qt===null?o.memoizedState:Qt.next)===null&&(o=o.alternate,R.H=o===null||o.memoizedState===null?ww:fp),a}function Bu(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Pl(a);if(a.$$typeof===A)return wr(a)}throw Error(n(438,String(a)))}function tp(a){var o=null,l=$e.updateQueue;if(l!==null&&(o=l.memoCache),o==null){var d=$e.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(o={data:d.data.map(function(v){return v.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),l===null&&(l=Uu(),$e.updateQueue=l),l.memoCache=o,l=o.data[o.index],l===void 0)for(l=o.data[o.index]=Array(a),d=0;d<a;d++)l[d]=ae;return o.index++,l}function Aa(a,o){return typeof o=="function"?o(a):o}function $u(a){var o=Vt();return rp(o,ft,a)}function rp(a,o,l){var d=a.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=l;var v=a.baseQueue,b=d.pending;if(b!==null){if(v!==null){var E=v.next;v.next=b.next,b.next=E}o.baseQueue=v=b,d.pending=null}if(b=a.baseState,v===null)a.memoizedState=b;else{o=v.next;var N=E=null,z=null,V=o,oe=!1;do{var de=V.lane&-536870913;if(de!==V.lane?(Xe&de)===de:(Ca&de)===de){var Z=V.revertLane;if(Z===0)z!==null&&(z=z.next={lane:0,revertLane:0,gesture:null,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null}),de===fs&&(oe=!0);else if((Ca&Z)===Z){V=V.next,Z===fs&&(oe=!0);continue}else de={lane:0,revertLane:V.revertLane,gesture:null,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},z===null?(N=z=de,E=b):z=z.next=de,$e.lanes|=Z,Oi|=Z;de=V.action,go&&l(b,de),b=V.hasEagerState?V.eagerState:l(b,de)}else Z={lane:de,revertLane:V.revertLane,gesture:V.gesture,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},z===null?(N=z=Z,E=b):z=z.next=Z,$e.lanes|=de,Oi|=de;V=V.next}while(V!==null&&V!==o);if(z===null?E=b:z.next=N,!rn(b,a.memoizedState)&&(Jt=!0,oe&&(l=ms,l!==null)))throw l;a.memoizedState=b,a.baseState=E,a.baseQueue=z,d.lastRenderedState=b}return v===null&&(d.lanes=0),[a.memoizedState,d.dispatch]}function np(a){var o=Vt(),l=o.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=a;var d=l.dispatch,v=l.pending,b=o.memoizedState;if(v!==null){l.pending=null;var E=v=v.next;do b=a(b,E.action),E=E.next;while(E!==v);rn(b,o.memoizedState)||(Jt=!0),o.memoizedState=b,o.baseQueue===null&&(o.baseState=b),l.lastRenderedState=b}return[b,d]}function $x(a,o,l){var d=$e,v=Vt(),b=Qe;if(b){if(l===void 0)throw Error(n(407));l=l()}else l=o();var E=!rn((ft||v).memoizedState,l);if(E&&(v.memoizedState=l,Jt=!0),v=v.queue,op(Kx.bind(null,d,v,a),[a]),v.getSnapshot!==o||E||Qt!==null&&Qt.memoizedState.tag&1){if(d.flags|=2048,bs(9,{destroy:void 0},Fx.bind(null,d,v,l,o),null),yt===null)throw Error(n(349));b||(Ca&127)!==0||Hx(d,o,l)}return l}function Hx(a,o,l){a.flags|=16384,a={getSnapshot:o,value:l},o=$e.updateQueue,o===null?(o=Uu(),$e.updateQueue=o,o.stores=[a]):(l=o.stores,l===null?o.stores=[a]:l.push(a))}function Fx(a,o,l,d){o.value=l,o.getSnapshot=d,Yx(o)&&Gx(a)}function Kx(a,o,l){return l(function(){Yx(o)&&Gx(a)})}function Yx(a){var o=a.getSnapshot;a=a.value;try{var l=o();return!rn(a,l)}catch{return!0}}function Gx(a){var o=oo(a,2);o!==null&&Wr(o,a,2)}function ap(a){var o=zr();if(typeof a=="function"){var l=a;if(a=l(),go){Ut(!0);try{l()}finally{Ut(!1)}}}return o.memoizedState=o.baseState=a,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Aa,lastRenderedState:a},o}function Vx(a,o,l,d){return a.baseState=l,rp(a,ft,typeof d=="function"?d:Aa)}function L2(a,o,l,d,v){if(Ku(a))throw Error(n(485));if(a=o.action,a!==null){var b={payload:v,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){b.listeners.push(E)}};R.T!==null?l(!0):b.isTransition=!1,d(b),l=o.pending,l===null?(b.next=o.pending=b,Wx(o,b)):(b.next=l.next,o.pending=l.next=b)}}function Wx(a,o){var l=o.action,d=o.payload,v=a.state;if(o.isTransition){var b=R.T,E={};R.T=E;try{var N=l(v,d),z=R.S;z!==null&&z(E,N),Xx(a,o,N)}catch(V){ip(a,o,V)}finally{b!==null&&E.types!==null&&(b.types=E.types),R.T=b}}else try{b=l(v,d),Xx(a,o,b)}catch(V){ip(a,o,V)}}function Xx(a,o,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(d){Zx(a,o,d)},function(d){return ip(a,o,d)}):Zx(a,o,l)}function Zx(a,o,l){o.status="fulfilled",o.value=l,Qx(o),a.state=l,o=a.pending,o!==null&&(l=o.next,l===o?a.pending=null:(l=l.next,o.next=l,Wx(a,l)))}function ip(a,o,l){var d=a.pending;if(a.pending=null,d!==null){d=d.next;do o.status="rejected",o.reason=l,Qx(o),o=o.next;while(o!==d)}a.action=null}function Qx(a){a=a.listeners;for(var o=0;o<a.length;o++)(0,a[o])()}function Jx(a,o){return o}function ew(a,o){if(Qe){var l=yt.formState;if(l!==null){e:{var d=$e;if(Qe){if(St){t:{for(var v=St,b=Nn;v.nodeType!==8;){if(!b){v=null;break t}if(v=Dn(v.nextSibling),v===null){v=null;break t}}b=v.data,v=b==="F!"||b==="F"?v:null}if(v){St=Dn(v.nextSibling),d=v.data==="F!";break e}}vi(d)}d=!1}d&&(o=l[0])}}return l=zr(),l.memoizedState=l.baseState=o,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jx,lastRenderedState:o},l.queue=d,l=bw.bind(null,$e,d),d.dispatch=l,d=ap(!1),b=dp.bind(null,$e,!1,d.queue),d=zr(),v={state:o,dispatch:null,action:a,pending:null},d.queue=v,l=L2.bind(null,$e,v,b,l),v.dispatch=l,d.memoizedState=a,[o,l,!1]}function tw(a){var o=Vt();return rw(o,ft,a)}function rw(a,o,l){if(o=rp(a,o,Jx)[0],a=$u(Aa)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var d=Pl(o)}catch(E){throw E===hs?Tu:E}else d=o;o=Vt();var v=o.queue,b=v.dispatch;return l!==o.memoizedState&&($e.flags|=2048,bs(9,{destroy:void 0},I2.bind(null,v,l),null)),[d,b,a]}function I2(a,o){a.action=o}function nw(a){var o=Vt(),l=ft;if(l!==null)return rw(o,l,a);Vt(),o=o.memoizedState,l=Vt();var d=l.queue.dispatch;return l.memoizedState=a,[o,d,!1]}function bs(a,o,l,d){return a={tag:a,create:l,deps:d,inst:o,next:null},o=$e.updateQueue,o===null&&(o=Uu(),$e.updateQueue=o),l=o.lastEffect,l===null?o.lastEffect=a.next=a:(d=l.next,l.next=a,a.next=d,o.lastEffect=a),a}function aw(){return Vt().memoizedState}function Hu(a,o,l,d){var v=zr();$e.flags|=a,v.memoizedState=bs(1|o,{destroy:void 0},l,d===void 0?null:d)}function Fu(a,o,l,d){var v=Vt();d=d===void 0?null:d;var b=v.memoizedState.inst;ft!==null&&d!==null&&Xh(d,ft.memoizedState.deps)?v.memoizedState=bs(o,b,l,d):($e.flags|=a,v.memoizedState=bs(1|o,b,l,d))}function iw(a,o){Hu(8390656,8,a,o)}function op(a,o){Fu(2048,8,a,o)}function U2(a){$e.flags|=4;var o=$e.updateQueue;if(o===null)o=Uu(),$e.updateQueue=o,o.events=[a];else{var l=o.events;l===null?o.events=[a]:l.push(a)}}function ow(a){var o=Vt().memoizedState;return U2({ref:o,nextImpl:a}),function(){if((ot&2)!==0)throw Error(n(440));return o.impl.apply(void 0,arguments)}}function sw(a,o){return Fu(4,2,a,o)}function lw(a,o){return Fu(4,4,a,o)}function cw(a,o){if(typeof o=="function"){a=a();var l=o(a);return function(){typeof l=="function"?l():o(null)}}if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function uw(a,o,l){l=l!=null?l.concat([a]):null,Fu(4,4,cw.bind(null,o,a),l)}function sp(){}function dw(a,o){var l=Vt();o=o===void 0?null:o;var d=l.memoizedState;return o!==null&&Xh(o,d[1])?d[0]:(l.memoizedState=[a,o],a)}function fw(a,o){var l=Vt();o=o===void 0?null:o;var d=l.memoizedState;if(o!==null&&Xh(o,d[1]))return d[0];if(d=a(),go){Ut(!0);try{a()}finally{Ut(!1)}}return l.memoizedState=[d,o],d}function lp(a,o,l){return l===void 0||(Ca&1073741824)!==0&&(Xe&261930)===0?a.memoizedState=o:(a.memoizedState=l,a=mj(),$e.lanes|=a,Oi|=a,l)}function mw(a,o,l,d){return rn(l,o)?l:gs.current!==null?(a=lp(a,l,d),rn(a,o)||(Jt=!0),a):(Ca&42)===0||(Ca&1073741824)!==0&&(Xe&261930)===0?(Jt=!0,a.memoizedState=l):(a=mj(),$e.lanes|=a,Oi|=a,o)}function hw(a,o,l,d,v){var b=I.p;I.p=b!==0&&8>b?b:8;var E=R.T,N={};R.T=N,dp(a,!1,o,l);try{var z=v(),V=R.S;if(V!==null&&V(N,z),z!==null&&typeof z=="object"&&typeof z.then=="function"){var oe=R2(z,d);Ml(a,o,oe,cn(a))}else Ml(a,o,d,cn(a))}catch(de){Ml(a,o,{then:function(){},status:"rejected",reason:de},cn())}finally{I.p=b,E!==null&&N.types!==null&&(E.types=N.types),R.T=E}}function B2(){}function cp(a,o,l,d){if(a.tag!==5)throw Error(n(476));var v=pw(a).queue;hw(a,v,o,ee,l===null?B2:function(){return gw(a),l(d)})}function pw(a){var o=a.memoizedState;if(o!==null)return o;o={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Aa,lastRenderedState:ee},next:null};var l={};return o.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Aa,lastRenderedState:l},next:null},a.memoizedState=o,a=a.alternate,a!==null&&(a.memoizedState=o),o}function gw(a){var o=pw(a);o.next===null&&(o=a.alternate.memoizedState),Ml(a,o.next.queue,{},cn())}function up(){return wr(Zl)}function vw(){return Vt().memoizedState}function yw(){return Vt().memoizedState}function $2(a){for(var o=a.return;o!==null;){switch(o.tag){case 24:case 3:var l=cn();a=_i(l);var d=xi(o,a,l);d!==null&&(Wr(d,o,l),Nl(d,o,l)),o={cache:Ih()},a.payload=o;return}o=o.return}}function H2(a,o,l){var d=cn();l={lane:d,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ku(a)?_w(o,l):(l=Ah(a,o,l,d),l!==null&&(Wr(l,a,d),xw(l,o,d)))}function bw(a,o,l){var d=cn();Ml(a,o,l,d)}function Ml(a,o,l,d){var v={lane:d,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Ku(a))_w(o,v);else{var b=a.alternate;if(a.lanes===0&&(b===null||b.lanes===0)&&(b=o.lastRenderedReducer,b!==null))try{var E=o.lastRenderedState,N=b(E,l);if(v.hasEagerState=!0,v.eagerState=N,rn(N,E))return Eu(a,o,v,0),yt===null&&Su(),!1}catch{}finally{}if(l=Ah(a,o,v,d),l!==null)return Wr(l,a,d),xw(l,o,d),!0}return!1}function dp(a,o,l,d){if(d={lane:2,revertLane:Hp(),gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},Ku(a)){if(o)throw Error(n(479))}else o=Ah(a,l,d,2),o!==null&&Wr(o,a,2)}function Ku(a){var o=a.alternate;return a===$e||o!==null&&o===$e}function _w(a,o){vs=Lu=!0;var l=a.pending;l===null?o.next=o:(o.next=l.next,l.next=o),a.pending=o}function xw(a,o,l){if((l&4194048)!==0){var d=o.lanes;d&=a.pendingLanes,l|=d,o.lanes=l,mu(a,l)}}var Rl={readContext:wr,use:Bu,useCallback:$t,useContext:$t,useEffect:$t,useImperativeHandle:$t,useLayoutEffect:$t,useInsertionEffect:$t,useMemo:$t,useReducer:$t,useRef:$t,useState:$t,useDebugValue:$t,useDeferredValue:$t,useTransition:$t,useSyncExternalStore:$t,useId:$t,useHostTransitionStatus:$t,useFormState:$t,useActionState:$t,useOptimistic:$t,useMemoCache:$t,useCacheRefresh:$t};Rl.useEffectEvent=$t;var ww={readContext:wr,use:Bu,useCallback:function(a,o){return zr().memoizedState=[a,o===void 0?null:o],a},useContext:wr,useEffect:iw,useImperativeHandle:function(a,o,l){l=l!=null?l.concat([a]):null,Hu(4194308,4,cw.bind(null,o,a),l)},useLayoutEffect:function(a,o){return Hu(4194308,4,a,o)},useInsertionEffect:function(a,o){Hu(4,2,a,o)},useMemo:function(a,o){var l=zr();o=o===void 0?null:o;var d=a();if(go){Ut(!0);try{a()}finally{Ut(!1)}}return l.memoizedState=[d,o],d},useReducer:function(a,o,l){var d=zr();if(l!==void 0){var v=l(o);if(go){Ut(!0);try{l(o)}finally{Ut(!1)}}}else v=o;return d.memoizedState=d.baseState=v,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:v},d.queue=a,a=a.dispatch=H2.bind(null,$e,a),[d.memoizedState,a]},useRef:function(a){var o=zr();return a={current:a},o.memoizedState=a},useState:function(a){a=ap(a);var o=a.queue,l=bw.bind(null,$e,o);return o.dispatch=l,[a.memoizedState,l]},useDebugValue:sp,useDeferredValue:function(a,o){var l=zr();return lp(l,a,o)},useTransition:function(){var a=ap(!1);return a=hw.bind(null,$e,a.queue,!0,!1),zr().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,o,l){var d=$e,v=zr();if(Qe){if(l===void 0)throw Error(n(407));l=l()}else{if(l=o(),yt===null)throw Error(n(349));(Xe&127)!==0||Hx(d,o,l)}v.memoizedState=l;var b={value:l,getSnapshot:o};return v.queue=b,iw(Kx.bind(null,d,b,a),[a]),d.flags|=2048,bs(9,{destroy:void 0},Fx.bind(null,d,b,l,o),null),l},useId:function(){var a=zr(),o=yt.identifierPrefix;if(Qe){var l=oa,d=ia;l=(d&~(1<<32-xt(d)-1)).toString(32)+l,o="_"+o+"R_"+l,l=Iu++,0<l&&(o+="H"+l.toString(32)),o+="_"}else l=q2++,o="_"+o+"r_"+l.toString(32)+"_";return a.memoizedState=o},useHostTransitionStatus:up,useFormState:ew,useActionState:ew,useOptimistic:function(a){var o=zr();o.memoizedState=o.baseState=a;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=l,o=dp.bind(null,$e,!0,l),l.dispatch=o,[a,o]},useMemoCache:tp,useCacheRefresh:function(){return zr().memoizedState=$2.bind(null,$e)},useEffectEvent:function(a){var o=zr(),l={impl:a};return o.memoizedState=l,function(){if((ot&2)!==0)throw Error(n(440));return l.impl.apply(void 0,arguments)}}},fp={readContext:wr,use:Bu,useCallback:dw,useContext:wr,useEffect:op,useImperativeHandle:uw,useInsertionEffect:sw,useLayoutEffect:lw,useMemo:fw,useReducer:$u,useRef:aw,useState:function(){return $u(Aa)},useDebugValue:sp,useDeferredValue:function(a,o){var l=Vt();return mw(l,ft.memoizedState,a,o)},useTransition:function(){var a=$u(Aa)[0],o=Vt().memoizedState;return[typeof a=="boolean"?a:Pl(a),o]},useSyncExternalStore:$x,useId:vw,useHostTransitionStatus:up,useFormState:tw,useActionState:tw,useOptimistic:function(a,o){var l=Vt();return Vx(l,ft,a,o)},useMemoCache:tp,useCacheRefresh:yw};fp.useEffectEvent=ow;var jw={readContext:wr,use:Bu,useCallback:dw,useContext:wr,useEffect:op,useImperativeHandle:uw,useInsertionEffect:sw,useLayoutEffect:lw,useMemo:fw,useReducer:np,useRef:aw,useState:function(){return np(Aa)},useDebugValue:sp,useDeferredValue:function(a,o){var l=Vt();return ft===null?lp(l,a,o):mw(l,ft.memoizedState,a,o)},useTransition:function(){var a=np(Aa)[0],o=Vt().memoizedState;return[typeof a=="boolean"?a:Pl(a),o]},useSyncExternalStore:$x,useId:vw,useHostTransitionStatus:up,useFormState:nw,useActionState:nw,useOptimistic:function(a,o){var l=Vt();return ft!==null?Vx(l,ft,a,o):(l.baseState=a,[a,l.queue.dispatch])},useMemoCache:tp,useCacheRefresh:yw};jw.useEffectEvent=ow;function mp(a,o,l,d){o=a.memoizedState,l=l(d,o),l=l==null?o:p({},o,l),a.memoizedState=l,a.lanes===0&&(a.updateQueue.baseState=l)}var hp={enqueueSetState:function(a,o,l){a=a._reactInternals;var d=cn(),v=_i(d);v.payload=o,l!=null&&(v.callback=l),o=xi(a,v,d),o!==null&&(Wr(o,a,d),Nl(o,a,d))},enqueueReplaceState:function(a,o,l){a=a._reactInternals;var d=cn(),v=_i(d);v.tag=1,v.payload=o,l!=null&&(v.callback=l),o=xi(a,v,d),o!==null&&(Wr(o,a,d),Nl(o,a,d))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var l=cn(),d=_i(l);d.tag=2,o!=null&&(d.callback=o),o=xi(a,d,l),o!==null&&(Wr(o,a,l),Nl(o,a,l))}};function Sw(a,o,l,d,v,b,E){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(d,b,E):o.prototype&&o.prototype.isPureReactComponent?!xl(l,d)||!xl(v,b):!0}function Ew(a,o,l,d){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,d),o.state!==a&&hp.enqueueReplaceState(o,o.state,null)}function vo(a,o){var l=o;if("ref"in o){l={};for(var d in o)d!=="ref"&&(l[d]=o[d])}if(a=a.defaultProps){l===o&&(l=p({},l));for(var v in a)l[v]===void 0&&(l[v]=a[v])}return l}function Ow(a){ju(a)}function Cw(a){console.error(a)}function Aw(a){ju(a)}function Yu(a,o){try{var l=a.onUncaughtError;l(o.value,{componentStack:o.stack})}catch(d){setTimeout(function(){throw d})}}function Nw(a,o,l){try{var d=a.onCaughtError;d(l.value,{componentStack:l.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function pp(a,o,l){return l=_i(l),l.tag=3,l.payload={element:null},l.callback=function(){Yu(a,o)},l}function kw(a){return a=_i(a),a.tag=3,a}function Dw(a,o,l,d){var v=l.type.getDerivedStateFromError;if(typeof v=="function"){var b=d.value;a.payload=function(){return v(b)},a.callback=function(){Nw(o,l,d)}}var E=l.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(a.callback=function(){Nw(o,l,d),typeof v!="function"&&(Ci===null?Ci=new Set([this]):Ci.add(this));var N=d.stack;this.componentDidCatch(d.value,{componentStack:N!==null?N:""})})}function F2(a,o,l,d,v){if(l.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(o=l.alternate,o!==null&&ds(o,l,v,!0),l=an.current,l!==null){switch(l.tag){case 31:case 13:return kn===null?ad():l.alternate===null&&Ht===0&&(Ht=3),l.flags&=-257,l.flags|=65536,l.lanes=v,d===Pu?l.flags|=16384:(o=l.updateQueue,o===null?l.updateQueue=new Set([d]):o.add(d),Up(a,d,v)),!1;case 22:return l.flags|=65536,d===Pu?l.flags|=16384:(o=l.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([d])},l.updateQueue=o):(l=o.retryQueue,l===null?o.retryQueue=new Set([d]):l.add(d)),Up(a,d,v)),!1}throw Error(n(435,l.tag))}return Up(a,d,v),ad(),!1}if(Qe)return o=an.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=v,d!==Mh&&(a=Error(n(422),{cause:d}),Sl(On(a,l)))):(d!==Mh&&(o=Error(n(423),{cause:d}),Sl(On(o,l))),a=a.current.alternate,a.flags|=65536,v&=-v,a.lanes|=v,d=On(d,l),v=pp(a.stateNode,d,v),Kh(a,v),Ht!==4&&(Ht=2)),!1;var b=Error(n(520),{cause:d});if(b=On(b,l),Hl===null?Hl=[b]:Hl.push(b),Ht!==4&&(Ht=2),o===null)return!0;d=On(d,l),l=o;do{switch(l.tag){case 3:return l.flags|=65536,a=v&-v,l.lanes|=a,a=pp(l.stateNode,d,a),Kh(l,a),!1;case 1:if(o=l.type,b=l.stateNode,(l.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Ci===null||!Ci.has(b))))return l.flags|=65536,v&=-v,l.lanes|=v,v=kw(v),Dw(v,a,l,d),Kh(l,v),!1}l=l.return}while(l!==null);return!1}var gp=Error(n(461)),Jt=!1;function jr(a,o,l,d){o.child=a===null?Rx(o,null,l,d):po(o,a.child,l,d)}function Tw(a,o,l,d,v){l=l.render;var b=o.ref;if("ref"in d){var E={};for(var N in d)N!=="ref"&&(E[N]=d[N])}else E=d;return uo(o),d=Zh(a,o,l,E,b,v),N=Qh(),a!==null&&!Jt?(Jh(a,o,v),Na(a,o,v)):(Qe&&N&&Th(o),o.flags|=1,jr(a,o,d,v),o.child)}function Pw(a,o,l,d,v){if(a===null){var b=l.type;return typeof b=="function"&&!Nh(b)&&b.defaultProps===void 0&&l.compare===null?(o.tag=15,o.type=b,Mw(a,o,b,d,v)):(a=Cu(l.type,null,d,o,o.mode,v),a.ref=o.ref,a.return=o,o.child=a)}if(b=a.child,!Sp(a,v)){var E=b.memoizedProps;if(l=l.compare,l=l!==null?l:xl,l(E,d)&&a.ref===o.ref)return Na(a,o,v)}return o.flags|=1,a=ja(b,d),a.ref=o.ref,a.return=o,o.child=a}function Mw(a,o,l,d,v){if(a!==null){var b=a.memoizedProps;if(xl(b,d)&&a.ref===o.ref)if(Jt=!1,o.pendingProps=d=b,Sp(a,v))(a.flags&131072)!==0&&(Jt=!0);else return o.lanes=a.lanes,Na(a,o,v)}return vp(a,o,l,d,v)}function Rw(a,o,l,d){var v=d.children,b=a!==null?a.memoizedState:null;if(a===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.mode==="hidden"){if((o.flags&128)!==0){if(b=b!==null?b.baseLanes|l:l,a!==null){for(d=o.child=a.child,v=0;d!==null;)v=v|d.lanes|d.childLanes,d=d.sibling;d=v&~b}else d=0,o.child=null;return qw(a,o,b,l,d)}if((l&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},a!==null&&Du(o,b!==null?b.cachePool:null),b!==null?Lx(o,b):Gh(),Ix(o);else return d=o.lanes=536870912,qw(a,o,b!==null?b.baseLanes|l:l,l,d)}else b!==null?(Du(o,b.cachePool),Lx(o,b),ji(),o.memoizedState=null):(a!==null&&Du(o,null),Gh(),ji());return jr(a,o,v,l),o.child}function ql(a,o){return a!==null&&a.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function qw(a,o,l,d,v){var b=Bh();return b=b===null?null:{parent:Zt._currentValue,pool:b},o.memoizedState={baseLanes:l,cachePool:b},a!==null&&Du(o,null),Gh(),Ix(o),a!==null&&ds(a,o,d,!0),o.childLanes=v,null}function Gu(a,o){return o=Wu({mode:o.mode,children:o.children},a.mode),o.ref=a.ref,a.child=o,o.return=a,o}function zw(a,o,l){return po(o,a.child,null,l),a=Gu(o,o.pendingProps),a.flags|=2,on(o),o.memoizedState=null,a}function K2(a,o,l){var d=o.pendingProps,v=(o.flags&128)!==0;if(o.flags&=-129,a===null){if(Qe){if(d.mode==="hidden")return a=Gu(o,d),o.lanes=536870912,ql(null,a);if(Wh(o),(a=St)?(a=Wj(a,Nn),a=a!==null&&a.data==="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:pi!==null?{id:ia,overflow:oa}:null,retryLane:536870912,hydrationErrors:null},l=_x(a),l.return=o,o.child=l,xr=o,St=null)):a=null,a===null)throw vi(o);return o.lanes=536870912,null}return Gu(o,d)}var b=a.memoizedState;if(b!==null){var E=b.dehydrated;if(Wh(o),v)if(o.flags&256)o.flags&=-257,o=zw(a,o,l);else if(o.memoizedState!==null)o.child=a.child,o.flags|=128,o=null;else throw Error(n(558));else if(Jt||ds(a,o,l,!1),v=(l&a.childLanes)!==0,Jt||v){if(d=yt,d!==null&&(E=$n(d,l),E!==0&&E!==b.retryLane))throw b.retryLane=E,oo(a,E),Wr(d,a,E),gp;ad(),o=zw(a,o,l)}else a=b.treeContext,St=Dn(E.nextSibling),xr=o,Qe=!0,gi=null,Nn=!1,a!==null&&jx(o,a),o=Gu(o,d),o.flags|=4096;return o}return a=ja(a.child,{mode:d.mode,children:d.children}),a.ref=o.ref,o.child=a,a.return=o,a}function Vu(a,o){var l=o.ref;if(l===null)a!==null&&a.ref!==null&&(o.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(n(284));(a===null||a.ref!==l)&&(o.flags|=4194816)}}function vp(a,o,l,d,v){return uo(o),l=Zh(a,o,l,d,void 0,v),d=Qh(),a!==null&&!Jt?(Jh(a,o,v),Na(a,o,v)):(Qe&&d&&Th(o),o.flags|=1,jr(a,o,l,v),o.child)}function Lw(a,o,l,d,v,b){return uo(o),o.updateQueue=null,l=Bx(o,d,l,v),Ux(a),d=Qh(),a!==null&&!Jt?(Jh(a,o,b),Na(a,o,b)):(Qe&&d&&Th(o),o.flags|=1,jr(a,o,l,b),o.child)}function Iw(a,o,l,d,v){if(uo(o),o.stateNode===null){var b=ss,E=l.contextType;typeof E=="object"&&E!==null&&(b=wr(E)),b=new l(d,b),o.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=hp,o.stateNode=b,b._reactInternals=o,b=o.stateNode,b.props=d,b.state=o.memoizedState,b.refs={},Hh(o),E=l.contextType,b.context=typeof E=="object"&&E!==null?wr(E):ss,b.state=o.memoizedState,E=l.getDerivedStateFromProps,typeof E=="function"&&(mp(o,l,E,d),b.state=o.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(E=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),E!==b.state&&hp.enqueueReplaceState(b,b.state,null),Dl(o,d,b,v),kl(),b.state=o.memoizedState),typeof b.componentDidMount=="function"&&(o.flags|=4194308),d=!0}else if(a===null){b=o.stateNode;var N=o.memoizedProps,z=vo(l,N);b.props=z;var V=b.context,oe=l.contextType;E=ss,typeof oe=="object"&&oe!==null&&(E=wr(oe));var de=l.getDerivedStateFromProps;oe=typeof de=="function"||typeof b.getSnapshotBeforeUpdate=="function",N=o.pendingProps!==N,oe||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(N||V!==E)&&Ew(o,b,d,E),bi=!1;var Z=o.memoizedState;b.state=Z,Dl(o,d,b,v),kl(),V=o.memoizedState,N||Z!==V||bi?(typeof de=="function"&&(mp(o,l,de,d),V=o.memoizedState),(z=bi||Sw(o,l,z,d,Z,V,E))?(oe||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(o.flags|=4194308)):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=V),b.props=d,b.state=V,b.context=E,d=z):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{b=o.stateNode,Fh(a,o),E=o.memoizedProps,oe=vo(l,E),b.props=oe,de=o.pendingProps,Z=b.context,V=l.contextType,z=ss,typeof V=="object"&&V!==null&&(z=wr(V)),N=l.getDerivedStateFromProps,(V=typeof N=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(E!==de||Z!==z)&&Ew(o,b,d,z),bi=!1,Z=o.memoizedState,b.state=Z,Dl(o,d,b,v),kl();var te=o.memoizedState;E!==de||Z!==te||bi||a!==null&&a.dependencies!==null&&Nu(a.dependencies)?(typeof N=="function"&&(mp(o,l,N,d),te=o.memoizedState),(oe=bi||Sw(o,l,oe,d,Z,te,z)||a!==null&&a.dependencies!==null&&Nu(a.dependencies))?(V||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(d,te,z),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(d,te,z)),typeof b.componentDidUpdate=="function"&&(o.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof b.componentDidUpdate!="function"||E===a.memoizedProps&&Z===a.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||E===a.memoizedProps&&Z===a.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=te),b.props=d,b.state=te,b.context=z,d=oe):(typeof b.componentDidUpdate!="function"||E===a.memoizedProps&&Z===a.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||E===a.memoizedProps&&Z===a.memoizedState||(o.flags|=1024),d=!1)}return b=d,Vu(a,o),d=(o.flags&128)!==0,b||d?(b=o.stateNode,l=d&&typeof l.getDerivedStateFromError!="function"?null:b.render(),o.flags|=1,a!==null&&d?(o.child=po(o,a.child,null,v),o.child=po(o,null,l,v)):jr(a,o,l,v),o.memoizedState=b.state,a=o.child):a=Na(a,o,v),a}function Uw(a,o,l,d){return lo(),o.flags|=256,jr(a,o,l,d),o.child}var yp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function bp(a){return{baseLanes:a,cachePool:Nx()}}function _p(a,o,l){return a=a!==null?a.childLanes&~l:0,o&&(a|=ln),a}function Bw(a,o,l){var d=o.pendingProps,v=!1,b=(o.flags&128)!==0,E;if((E=b)||(E=a!==null&&a.memoizedState===null?!1:(Gt.current&2)!==0),E&&(v=!0,o.flags&=-129),E=(o.flags&32)!==0,o.flags&=-33,a===null){if(Qe){if(v?wi(o):ji(),(a=St)?(a=Wj(a,Nn),a=a!==null&&a.data!=="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:pi!==null?{id:ia,overflow:oa}:null,retryLane:536870912,hydrationErrors:null},l=_x(a),l.return=o,o.child=l,xr=o,St=null)):a=null,a===null)throw vi(o);return rg(a)?o.lanes=32:o.lanes=536870912,null}var N=d.children;return d=d.fallback,v?(ji(),v=o.mode,N=Wu({mode:"hidden",children:N},v),d=so(d,v,l,null),N.return=o,d.return=o,N.sibling=d,o.child=N,d=o.child,d.memoizedState=bp(l),d.childLanes=_p(a,E,l),o.memoizedState=yp,ql(null,d)):(wi(o),xp(o,N))}var z=a.memoizedState;if(z!==null&&(N=z.dehydrated,N!==null)){if(b)o.flags&256?(wi(o),o.flags&=-257,o=wp(a,o,l)):o.memoizedState!==null?(ji(),o.child=a.child,o.flags|=128,o=null):(ji(),N=d.fallback,v=o.mode,d=Wu({mode:"visible",children:d.children},v),N=so(N,v,l,null),N.flags|=2,d.return=o,N.return=o,d.sibling=N,o.child=d,po(o,a.child,null,l),d=o.child,d.memoizedState=bp(l),d.childLanes=_p(a,E,l),o.memoizedState=yp,o=ql(null,d));else if(wi(o),rg(N)){if(E=N.nextSibling&&N.nextSibling.dataset,E)var V=E.dgst;E=V,d=Error(n(419)),d.stack="",d.digest=E,Sl({value:d,source:null,stack:null}),o=wp(a,o,l)}else if(Jt||ds(a,o,l,!1),E=(l&a.childLanes)!==0,Jt||E){if(E=yt,E!==null&&(d=$n(E,l),d!==0&&d!==z.retryLane))throw z.retryLane=d,oo(a,d),Wr(E,a,d),gp;tg(N)||ad(),o=wp(a,o,l)}else tg(N)?(o.flags|=192,o.child=a.child,o=null):(a=z.treeContext,St=Dn(N.nextSibling),xr=o,Qe=!0,gi=null,Nn=!1,a!==null&&jx(o,a),o=xp(o,d.children),o.flags|=4096);return o}return v?(ji(),N=d.fallback,v=o.mode,z=a.child,V=z.sibling,d=ja(z,{mode:"hidden",children:d.children}),d.subtreeFlags=z.subtreeFlags&65011712,V!==null?N=ja(V,N):(N=so(N,v,l,null),N.flags|=2),N.return=o,d.return=o,d.sibling=N,o.child=d,ql(null,d),d=o.child,N=a.child.memoizedState,N===null?N=bp(l):(v=N.cachePool,v!==null?(z=Zt._currentValue,v=v.parent!==z?{parent:z,pool:z}:v):v=Nx(),N={baseLanes:N.baseLanes|l,cachePool:v}),d.memoizedState=N,d.childLanes=_p(a,E,l),o.memoizedState=yp,ql(a.child,d)):(wi(o),l=a.child,a=l.sibling,l=ja(l,{mode:"visible",children:d.children}),l.return=o,l.sibling=null,a!==null&&(E=o.deletions,E===null?(o.deletions=[a],o.flags|=16):E.push(a)),o.child=l,o.memoizedState=null,l)}function xp(a,o){return o=Wu({mode:"visible",children:o},a.mode),o.return=a,a.child=o}function Wu(a,o){return a=nn(22,a,null,o),a.lanes=0,a}function wp(a,o,l){return po(o,a.child,null,l),a=xp(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function $w(a,o,l){a.lanes|=o;var d=a.alternate;d!==null&&(d.lanes|=o),zh(a.return,o,l)}function jp(a,o,l,d,v,b){var E=a.memoizedState;E===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:v,treeForkCount:b}:(E.isBackwards=o,E.rendering=null,E.renderingStartTime=0,E.last=d,E.tail=l,E.tailMode=v,E.treeForkCount=b)}function Hw(a,o,l){var d=o.pendingProps,v=d.revealOrder,b=d.tail;d=d.children;var E=Gt.current,N=(E&2)!==0;if(N?(E=E&1|2,o.flags|=128):E&=1,H(Gt,E),jr(a,o,d,l),d=Qe?jl:0,!N&&a!==null&&(a.flags&128)!==0)e:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&$w(a,l,o);else if(a.tag===19)$w(a,l,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(v){case"forwards":for(l=o.child,v=null;l!==null;)a=l.alternate,a!==null&&zu(a)===null&&(v=l),l=l.sibling;l=v,l===null?(v=o.child,o.child=null):(v=l.sibling,l.sibling=null),jp(o,!1,v,l,b,d);break;case"backwards":case"unstable_legacy-backwards":for(l=null,v=o.child,o.child=null;v!==null;){if(a=v.alternate,a!==null&&zu(a)===null){o.child=v;break}a=v.sibling,v.sibling=l,l=v,v=a}jp(o,!0,l,null,b,d);break;case"together":jp(o,!1,null,null,void 0,d);break;default:o.memoizedState=null}return o.child}function Na(a,o,l){if(a!==null&&(o.dependencies=a.dependencies),Oi|=o.lanes,(l&o.childLanes)===0)if(a!==null){if(ds(a,o,l,!1),(l&o.childLanes)===0)return null}else return null;if(a!==null&&o.child!==a.child)throw Error(n(153));if(o.child!==null){for(a=o.child,l=ja(a,a.pendingProps),o.child=l,l.return=o;a.sibling!==null;)a=a.sibling,l=l.sibling=ja(a,a.pendingProps),l.return=o;l.sibling=null}return o.child}function Sp(a,o){return(a.lanes&o)!==0?!0:(a=a.dependencies,!!(a!==null&&Nu(a)))}function Y2(a,o,l){switch(o.tag){case 3:Le(o,o.stateNode.containerInfo),yi(o,Zt,a.memoizedState.cache),lo();break;case 27:case 5:Ee(o);break;case 4:Le(o,o.stateNode.containerInfo);break;case 10:yi(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,Wh(o),null;break;case 13:var d=o.memoizedState;if(d!==null)return d.dehydrated!==null?(wi(o),o.flags|=128,null):(l&o.child.childLanes)!==0?Bw(a,o,l):(wi(o),a=Na(a,o,l),a!==null?a.sibling:null);wi(o);break;case 19:var v=(a.flags&128)!==0;if(d=(l&o.childLanes)!==0,d||(ds(a,o,l,!1),d=(l&o.childLanes)!==0),v){if(d)return Hw(a,o,l);o.flags|=128}if(v=o.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),H(Gt,Gt.current),d)break;return null;case 22:return o.lanes=0,Rw(a,o,l,o.pendingProps);case 24:yi(o,Zt,a.memoizedState.cache)}return Na(a,o,l)}function Fw(a,o,l){if(a!==null)if(a.memoizedProps!==o.pendingProps)Jt=!0;else{if(!Sp(a,l)&&(o.flags&128)===0)return Jt=!1,Y2(a,o,l);Jt=(a.flags&131072)!==0}else Jt=!1,Qe&&(o.flags&1048576)!==0&&wx(o,jl,o.index);switch(o.lanes=0,o.tag){case 16:e:{var d=o.pendingProps;if(a=mo(o.elementType),o.type=a,typeof a=="function")Nh(a)?(d=vo(a,d),o.tag=1,o=Iw(null,o,a,d,l)):(o.tag=0,o=vp(null,o,a,d,l));else{if(a!=null){var v=a.$$typeof;if(v===k){o.tag=11,o=Tw(null,o,a,d,l);break e}else if(v===L){o.tag=14,o=Pw(null,o,a,d,l);break e}}throw o=ge(a)||a,Error(n(306,o,""))}}return o;case 0:return vp(a,o,o.type,o.pendingProps,l);case 1:return d=o.type,v=vo(d,o.pendingProps),Iw(a,o,d,v,l);case 3:e:{if(Le(o,o.stateNode.containerInfo),a===null)throw Error(n(387));d=o.pendingProps;var b=o.memoizedState;v=b.element,Fh(a,o),Dl(o,d,null,l);var E=o.memoizedState;if(d=E.cache,yi(o,Zt,d),d!==b.cache&&Lh(o,[Zt],l,!0),kl(),d=E.element,b.isDehydrated)if(b={element:d,isDehydrated:!1,cache:E.cache},o.updateQueue.baseState=b,o.memoizedState=b,o.flags&256){o=Uw(a,o,d,l);break e}else if(d!==v){v=On(Error(n(424)),o),Sl(v),o=Uw(a,o,d,l);break e}else{switch(a=o.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(St=Dn(a.firstChild),xr=o,Qe=!0,gi=null,Nn=!0,l=Rx(o,null,d,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(lo(),d===v){o=Na(a,o,l);break e}jr(a,o,d,l)}o=o.child}return o;case 26:return Vu(a,o),a===null?(l=tS(o.type,null,o.pendingProps,null))?o.memoizedState=l:Qe||(l=o.type,a=o.pendingProps,d=dd(Ue.current).createElement(l),d[Bt]=o,d[ir]=a,Sr(d,l,a),le(d),o.stateNode=d):o.memoizedState=tS(o.type,a.memoizedProps,o.pendingProps,a.memoizedState),null;case 27:return Ee(o),a===null&&Qe&&(d=o.stateNode=Qj(o.type,o.pendingProps,Ue.current),xr=o,Nn=!0,v=St,Di(o.type)?(ng=v,St=Dn(d.firstChild)):St=v),jr(a,o,o.pendingProps.children,l),Vu(a,o),a===null&&(o.flags|=4194304),o.child;case 5:return a===null&&Qe&&((v=d=St)&&(d=wR(d,o.type,o.pendingProps,Nn),d!==null?(o.stateNode=d,xr=o,St=Dn(d.firstChild),Nn=!1,v=!0):v=!1),v||vi(o)),Ee(o),v=o.type,b=o.pendingProps,E=a!==null?a.memoizedProps:null,d=b.children,Qp(v,b)?d=null:E!==null&&Qp(v,E)&&(o.flags|=32),o.memoizedState!==null&&(v=Zh(a,o,z2,null,null,l),Zl._currentValue=v),Vu(a,o),jr(a,o,d,l),o.child;case 6:return a===null&&Qe&&((a=l=St)&&(l=jR(l,o.pendingProps,Nn),l!==null?(o.stateNode=l,xr=o,St=null,a=!0):a=!1),a||vi(o)),null;case 13:return Bw(a,o,l);case 4:return Le(o,o.stateNode.containerInfo),d=o.pendingProps,a===null?o.child=po(o,null,d,l):jr(a,o,d,l),o.child;case 11:return Tw(a,o,o.type,o.pendingProps,l);case 7:return jr(a,o,o.pendingProps,l),o.child;case 8:return jr(a,o,o.pendingProps.children,l),o.child;case 12:return jr(a,o,o.pendingProps.children,l),o.child;case 10:return d=o.pendingProps,yi(o,o.type,d.value),jr(a,o,d.children,l),o.child;case 9:return v=o.type._context,d=o.pendingProps.children,uo(o),v=wr(v),d=d(v),o.flags|=1,jr(a,o,d,l),o.child;case 14:return Pw(a,o,o.type,o.pendingProps,l);case 15:return Mw(a,o,o.type,o.pendingProps,l);case 19:return Hw(a,o,l);case 31:return K2(a,o,l);case 22:return Rw(a,o,l,o.pendingProps);case 24:return uo(o),d=wr(Zt),a===null?(v=Bh(),v===null&&(v=yt,b=Ih(),v.pooledCache=b,b.refCount++,b!==null&&(v.pooledCacheLanes|=l),v=b),o.memoizedState={parent:d,cache:v},Hh(o),yi(o,Zt,v)):((a.lanes&l)!==0&&(Fh(a,o),Dl(o,null,null,l),kl()),v=a.memoizedState,b=o.memoizedState,v.parent!==d?(v={parent:d,cache:d},o.memoizedState=v,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=v),yi(o,Zt,d)):(d=b.cache,yi(o,Zt,d),d!==v.cache&&Lh(o,[Zt],l,!0))),jr(a,o,o.pendingProps.children,l),o.child;case 29:throw o.pendingProps}throw Error(n(156,o.tag))}function ka(a){a.flags|=4}function Ep(a,o,l,d,v){if((o=(a.mode&32)!==0)&&(o=!1),o){if(a.flags|=16777216,(v&335544128)===v)if(a.stateNode.complete)a.flags|=8192;else if(vj())a.flags|=8192;else throw ho=Pu,$h}else a.flags&=-16777217}function Kw(a,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!oS(o))if(vj())a.flags|=8192;else throw ho=Pu,$h}function Xu(a,o){o!==null&&(a.flags|=4),a.flags&16384&&(o=a.tag!==22?ye():536870912,a.lanes|=o,js|=o)}function zl(a,o){if(!Qe)switch(a.tailMode){case"hidden":o=a.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?a.tail=null:l.sibling=null;break;case"collapsed":l=a.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:d.sibling=null}}function Et(a){var o=a.alternate!==null&&a.alternate.child===a.child,l=0,d=0;if(o)for(var v=a.child;v!==null;)l|=v.lanes|v.childLanes,d|=v.subtreeFlags&65011712,d|=v.flags&65011712,v.return=a,v=v.sibling;else for(v=a.child;v!==null;)l|=v.lanes|v.childLanes,d|=v.subtreeFlags,d|=v.flags,v.return=a,v=v.sibling;return a.subtreeFlags|=d,a.childLanes=l,o}function G2(a,o,l){var d=o.pendingProps;switch(Ph(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Et(o),null;case 1:return Et(o),null;case 3:return l=o.stateNode,d=null,a!==null&&(d=a.memoizedState.cache),o.memoizedState.cache!==d&&(o.flags|=2048),Oa(Zt),Q(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(a===null||a.child===null)&&(us(o)?ka(o):a===null||a.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Rh())),Et(o),null;case 26:var v=o.type,b=o.memoizedState;return a===null?(ka(o),b!==null?(Et(o),Kw(o,b)):(Et(o),Ep(o,v,null,d,l))):b?b!==a.memoizedState?(ka(o),Et(o),Kw(o,b)):(Et(o),o.flags&=-16777217):(a=a.memoizedProps,a!==d&&ka(o),Et(o),Ep(o,v,a,d,l)),null;case 27:if(xe(o),l=Ue.current,v=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==d&&ka(o);else{if(!d){if(o.stateNode===null)throw Error(n(166));return Et(o),null}a=je.current,us(o)?Sx(o):(a=Qj(v,d,l),o.stateNode=a,ka(o))}return Et(o),null;case 5:if(xe(o),v=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==d&&ka(o);else{if(!d){if(o.stateNode===null)throw Error(n(166));return Et(o),null}if(b=je.current,us(o))Sx(o);else{var E=dd(Ue.current);switch(b){case 1:b=E.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:b=E.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":b=E.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":b=E.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":b=E.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof d.is=="string"?E.createElement("select",{is:d.is}):E.createElement("select"),d.multiple?b.multiple=!0:d.size&&(b.size=d.size);break;default:b=typeof d.is=="string"?E.createElement(v,{is:d.is}):E.createElement(v)}}b[Bt]=o,b[ir]=d;e:for(E=o.child;E!==null;){if(E.tag===5||E.tag===6)b.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===o)break e;for(;E.sibling===null;){if(E.return===null||E.return===o)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}o.stateNode=b;e:switch(Sr(b,v,d),v){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}d&&ka(o)}}return Et(o),Ep(o,o.type,a===null?null:a.memoizedProps,o.pendingProps,l),null;case 6:if(a&&o.stateNode!=null)a.memoizedProps!==d&&ka(o);else{if(typeof d!="string"&&o.stateNode===null)throw Error(n(166));if(a=Ue.current,us(o)){if(a=o.stateNode,l=o.memoizedProps,d=null,v=xr,v!==null)switch(v.tag){case 27:case 5:d=v.memoizedProps}a[Bt]=o,a=!!(a.nodeValue===l||d!==null&&d.suppressHydrationWarning===!0||Bj(a.nodeValue,l)),a||vi(o,!0)}else a=dd(a).createTextNode(d),a[Bt]=o,o.stateNode=a}return Et(o),null;case 31:if(l=o.memoizedState,a===null||a.memoizedState!==null){if(d=us(o),l!==null){if(a===null){if(!d)throw Error(n(318));if(a=o.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(557));a[Bt]=o}else lo(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Et(o),a=!1}else l=Rh(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=l),a=!0;if(!a)return o.flags&256?(on(o),o):(on(o),null);if((o.flags&128)!==0)throw Error(n(558))}return Et(o),null;case 13:if(d=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(v=us(o),d!==null&&d.dehydrated!==null){if(a===null){if(!v)throw Error(n(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(n(317));v[Bt]=o}else lo(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Et(o),v=!1}else v=Rh(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=v),v=!0;if(!v)return o.flags&256?(on(o),o):(on(o),null)}return on(o),(o.flags&128)!==0?(o.lanes=l,o):(l=d!==null,a=a!==null&&a.memoizedState!==null,l&&(d=o.child,v=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(v=d.alternate.memoizedState.cachePool.pool),b=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(b=d.memoizedState.cachePool.pool),b!==v&&(d.flags|=2048)),l!==a&&l&&(o.child.flags|=8192),Xu(o,o.updateQueue),Et(o),null);case 4:return Q(),a===null&&Gp(o.stateNode.containerInfo),Et(o),null;case 10:return Oa(o.type),Et(o),null;case 19:if(J(Gt),d=o.memoizedState,d===null)return Et(o),null;if(v=(o.flags&128)!==0,b=d.rendering,b===null)if(v)zl(d,!1);else{if(Ht!==0||a!==null&&(a.flags&128)!==0)for(a=o.child;a!==null;){if(b=zu(a),b!==null){for(o.flags|=128,zl(d,!1),a=b.updateQueue,o.updateQueue=a,Xu(o,a),o.subtreeFlags=0,a=l,l=o.child;l!==null;)bx(l,a),l=l.sibling;return H(Gt,Gt.current&1|2),Qe&&Sa(o,d.treeForkCount),o.child}a=a.sibling}d.tail!==null&&Ye()>td&&(o.flags|=128,v=!0,zl(d,!1),o.lanes=4194304)}else{if(!v)if(a=zu(b),a!==null){if(o.flags|=128,v=!0,a=a.updateQueue,o.updateQueue=a,Xu(o,a),zl(d,!0),d.tail===null&&d.tailMode==="hidden"&&!b.alternate&&!Qe)return Et(o),null}else 2*Ye()-d.renderingStartTime>td&&l!==536870912&&(o.flags|=128,v=!0,zl(d,!1),o.lanes=4194304);d.isBackwards?(b.sibling=o.child,o.child=b):(a=d.last,a!==null?a.sibling=b:o.child=b,d.last=b)}return d.tail!==null?(a=d.tail,d.rendering=a,d.tail=a.sibling,d.renderingStartTime=Ye(),a.sibling=null,l=Gt.current,H(Gt,v?l&1|2:l&1),Qe&&Sa(o,d.treeForkCount),a):(Et(o),null);case 22:case 23:return on(o),Vh(),d=o.memoizedState!==null,a!==null?a.memoizedState!==null!==d&&(o.flags|=8192):d&&(o.flags|=8192),d?(l&536870912)!==0&&(o.flags&128)===0&&(Et(o),o.subtreeFlags&6&&(o.flags|=8192)):Et(o),l=o.updateQueue,l!==null&&Xu(o,l.retryQueue),l=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(l=a.memoizedState.cachePool.pool),d=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==l&&(o.flags|=2048),a!==null&&J(fo),null;case 24:return l=null,a!==null&&(l=a.memoizedState.cache),o.memoizedState.cache!==l&&(o.flags|=2048),Oa(Zt),Et(o),null;case 25:return null;case 30:return null}throw Error(n(156,o.tag))}function V2(a,o){switch(Ph(o),o.tag){case 1:return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return Oa(Zt),Q(),a=o.flags,(a&65536)!==0&&(a&128)===0?(o.flags=a&-65537|128,o):null;case 26:case 27:case 5:return xe(o),null;case 31:if(o.memoizedState!==null){if(on(o),o.alternate===null)throw Error(n(340));lo()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 13:if(on(o),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(n(340));lo()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return J(Gt),null;case 4:return Q(),null;case 10:return Oa(o.type),null;case 22:case 23:return on(o),Vh(),a!==null&&J(fo),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 24:return Oa(Zt),null;case 25:return null;default:return null}}function Yw(a,o){switch(Ph(o),o.tag){case 3:Oa(Zt),Q();break;case 26:case 27:case 5:xe(o);break;case 4:Q();break;case 31:o.memoizedState!==null&&on(o);break;case 13:on(o);break;case 19:J(Gt);break;case 10:Oa(o.type);break;case 22:case 23:on(o),Vh(),a!==null&&J(fo);break;case 24:Oa(Zt)}}function Ll(a,o){try{var l=o.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var v=d.next;l=v;do{if((l.tag&a)===a){d=void 0;var b=l.create,E=l.inst;d=b(),E.destroy=d}l=l.next}while(l!==v)}}catch(N){ut(o,o.return,N)}}function Si(a,o,l){try{var d=o.updateQueue,v=d!==null?d.lastEffect:null;if(v!==null){var b=v.next;d=b;do{if((d.tag&a)===a){var E=d.inst,N=E.destroy;if(N!==void 0){E.destroy=void 0,v=o;var z=l,V=N;try{V()}catch(oe){ut(v,z,oe)}}}d=d.next}while(d!==b)}}catch(oe){ut(o,o.return,oe)}}function Gw(a){var o=a.updateQueue;if(o!==null){var l=a.stateNode;try{zx(o,l)}catch(d){ut(a,a.return,d)}}}function Vw(a,o,l){l.props=vo(a.type,a.memoizedProps),l.state=a.memoizedState;try{l.componentWillUnmount()}catch(d){ut(a,o,d)}}function Il(a,o){try{var l=a.ref;if(l!==null){switch(a.tag){case 26:case 27:case 5:var d=a.stateNode;break;case 30:d=a.stateNode;break;default:d=a.stateNode}typeof l=="function"?a.refCleanup=l(d):l.current=d}}catch(v){ut(a,o,v)}}function sa(a,o){var l=a.ref,d=a.refCleanup;if(l!==null)if(typeof d=="function")try{d()}catch(v){ut(a,o,v)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(v){ut(a,o,v)}else l.current=null}function Ww(a){var o=a.type,l=a.memoizedProps,d=a.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":l.autoFocus&&d.focus();break e;case"img":l.src?d.src=l.src:l.srcSet&&(d.srcset=l.srcSet)}}catch(v){ut(a,a.return,v)}}function Op(a,o,l){try{var d=a.stateNode;gR(d,a.type,l,o),d[ir]=o}catch(v){ut(a,a.return,v)}}function Xw(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Di(a.type)||a.tag===4}function Cp(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||Xw(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Di(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Ap(a,o,l){var d=a.tag;if(d===5||d===6)a=a.stateNode,o?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(a,o):(o=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,o.appendChild(a),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=xa));else if(d!==4&&(d===27&&Di(a.type)&&(l=a.stateNode,o=null),a=a.child,a!==null))for(Ap(a,o,l),a=a.sibling;a!==null;)Ap(a,o,l),a=a.sibling}function Zu(a,o,l){var d=a.tag;if(d===5||d===6)a=a.stateNode,o?l.insertBefore(a,o):l.appendChild(a);else if(d!==4&&(d===27&&Di(a.type)&&(l=a.stateNode),a=a.child,a!==null))for(Zu(a,o,l),a=a.sibling;a!==null;)Zu(a,o,l),a=a.sibling}function Zw(a){var o=a.stateNode,l=a.memoizedProps;try{for(var d=a.type,v=o.attributes;v.length;)o.removeAttributeNode(v[0]);Sr(o,d,l),o[Bt]=a,o[ir]=l}catch(b){ut(a,a.return,b)}}var Da=!1,er=!1,Np=!1,Qw=typeof WeakSet=="function"?WeakSet:Set,mr=null;function W2(a,o){if(a=a.containerInfo,Xp=yd,a=ux(a),wh(a)){if("selectionStart"in a)var l={start:a.selectionStart,end:a.selectionEnd};else e:{l=(l=a.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var v=d.anchorOffset,b=d.focusNode;d=d.focusOffset;try{l.nodeType,b.nodeType}catch{l=null;break e}var E=0,N=-1,z=-1,V=0,oe=0,de=a,Z=null;t:for(;;){for(var te;de!==l||v!==0&&de.nodeType!==3||(N=E+v),de!==b||d!==0&&de.nodeType!==3||(z=E+d),de.nodeType===3&&(E+=de.nodeValue.length),(te=de.firstChild)!==null;)Z=de,de=te;for(;;){if(de===a)break t;if(Z===l&&++V===v&&(N=E),Z===b&&++oe===d&&(z=E),(te=de.nextSibling)!==null)break;de=Z,Z=de.parentNode}de=te}l=N===-1||z===-1?null:{start:N,end:z}}else l=null}l=l||{start:0,end:0}}else l=null;for(Zp={focusedElem:a,selectionRange:l},yd=!1,mr=o;mr!==null;)if(o=mr,a=o.child,(o.subtreeFlags&1028)!==0&&a!==null)a.return=o,mr=a;else for(;mr!==null;){switch(o=mr,b=o.alternate,a=o.flags,o.tag){case 0:if((a&4)!==0&&(a=o.updateQueue,a=a!==null?a.events:null,a!==null))for(l=0;l<a.length;l++)v=a[l],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&b!==null){a=void 0,l=o,v=b.memoizedProps,b=b.memoizedState,d=l.stateNode;try{var Ae=vo(l.type,v);a=d.getSnapshotBeforeUpdate(Ae,b),d.__reactInternalSnapshotBeforeUpdate=a}catch(ze){ut(l,l.return,ze)}}break;case 3:if((a&1024)!==0){if(a=o.stateNode.containerInfo,l=a.nodeType,l===9)eg(a);else if(l===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":eg(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(n(163))}if(a=o.sibling,a!==null){a.return=o.return,mr=a;break}mr=o.return}}function Jw(a,o,l){var d=l.flags;switch(l.tag){case 0:case 11:case 15:Pa(a,l),d&4&&Ll(5,l);break;case 1:if(Pa(a,l),d&4)if(a=l.stateNode,o===null)try{a.componentDidMount()}catch(E){ut(l,l.return,E)}else{var v=vo(l.type,o.memoizedProps);o=o.memoizedState;try{a.componentDidUpdate(v,o,a.__reactInternalSnapshotBeforeUpdate)}catch(E){ut(l,l.return,E)}}d&64&&Gw(l),d&512&&Il(l,l.return);break;case 3:if(Pa(a,l),d&64&&(a=l.updateQueue,a!==null)){if(o=null,l.child!==null)switch(l.child.tag){case 27:case 5:o=l.child.stateNode;break;case 1:o=l.child.stateNode}try{zx(a,o)}catch(E){ut(l,l.return,E)}}break;case 27:o===null&&d&4&&Zw(l);case 26:case 5:Pa(a,l),o===null&&d&4&&Ww(l),d&512&&Il(l,l.return);break;case 12:Pa(a,l);break;case 31:Pa(a,l),d&4&&rj(a,l);break;case 13:Pa(a,l),d&4&&nj(a,l),d&64&&(a=l.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(l=aR.bind(null,l),SR(a,l))));break;case 22:if(d=l.memoizedState!==null||Da,!d){o=o!==null&&o.memoizedState!==null||er,v=Da;var b=er;Da=d,(er=o)&&!b?Ma(a,l,(l.subtreeFlags&8772)!==0):Pa(a,l),Da=v,er=b}break;case 30:break;default:Pa(a,l)}}function ej(a){var o=a.alternate;o!==null&&(a.alternate=null,ej(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&Qo(o)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Nt=null,Kr=!1;function Ta(a,o,l){for(l=l.child;l!==null;)tj(a,o,l),l=l.sibling}function tj(a,o,l){if(vt&&typeof vt.onCommitFiberUnmount=="function")try{vt.onCommitFiberUnmount(Rr,l)}catch{}switch(l.tag){case 26:er||sa(l,o),Ta(a,o,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:er||sa(l,o);var d=Nt,v=Kr;Di(l.type)&&(Nt=l.stateNode,Kr=!1),Ta(a,o,l),Vl(l.stateNode),Nt=d,Kr=v;break;case 5:er||sa(l,o);case 6:if(d=Nt,v=Kr,Nt=null,Ta(a,o,l),Nt=d,Kr=v,Nt!==null)if(Kr)try{(Nt.nodeType===9?Nt.body:Nt.nodeName==="HTML"?Nt.ownerDocument.body:Nt).removeChild(l.stateNode)}catch(b){ut(l,o,b)}else try{Nt.removeChild(l.stateNode)}catch(b){ut(l,o,b)}break;case 18:Nt!==null&&(Kr?(a=Nt,Gj(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,l.stateNode),Ds(a)):Gj(Nt,l.stateNode));break;case 4:d=Nt,v=Kr,Nt=l.stateNode.containerInfo,Kr=!0,Ta(a,o,l),Nt=d,Kr=v;break;case 0:case 11:case 14:case 15:Si(2,l,o),er||Si(4,l,o),Ta(a,o,l);break;case 1:er||(sa(l,o),d=l.stateNode,typeof d.componentWillUnmount=="function"&&Vw(l,o,d)),Ta(a,o,l);break;case 21:Ta(a,o,l);break;case 22:er=(d=er)||l.memoizedState!==null,Ta(a,o,l),er=d;break;default:Ta(a,o,l)}}function rj(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{Ds(a)}catch(l){ut(o,o.return,l)}}}function nj(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Ds(a)}catch(l){ut(o,o.return,l)}}function X2(a){switch(a.tag){case 31:case 13:case 19:var o=a.stateNode;return o===null&&(o=a.stateNode=new Qw),o;case 22:return a=a.stateNode,o=a._retryCache,o===null&&(o=a._retryCache=new Qw),o;default:throw Error(n(435,a.tag))}}function Qu(a,o){var l=X2(a);o.forEach(function(d){if(!l.has(d)){l.add(d);var v=iR.bind(null,a,d);d.then(v,v)}})}function Yr(a,o){var l=o.deletions;if(l!==null)for(var d=0;d<l.length;d++){var v=l[d],b=a,E=o,N=E;e:for(;N!==null;){switch(N.tag){case 27:if(Di(N.type)){Nt=N.stateNode,Kr=!1;break e}break;case 5:Nt=N.stateNode,Kr=!1;break e;case 3:case 4:Nt=N.stateNode.containerInfo,Kr=!0;break e}N=N.return}if(Nt===null)throw Error(n(160));tj(b,E,v),Nt=null,Kr=!1,b=v.alternate,b!==null&&(b.return=null),v.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)aj(o,a),o=o.sibling}var Yn=null;function aj(a,o){var l=a.alternate,d=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Yr(o,a),Gr(a),d&4&&(Si(3,a,a.return),Ll(3,a),Si(5,a,a.return));break;case 1:Yr(o,a),Gr(a),d&512&&(er||l===null||sa(l,l.return)),d&64&&Da&&(a=a.updateQueue,a!==null&&(d=a.callbacks,d!==null&&(l=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=l===null?d:l.concat(d))));break;case 26:var v=Yn;if(Yr(o,a),Gr(a),d&512&&(er||l===null||sa(l,l.return)),d&4){var b=l!==null?l.memoizedState:null;if(d=a.memoizedState,l===null)if(d===null)if(a.stateNode===null){e:{d=a.type,l=a.memoizedProps,v=v.ownerDocument||v;t:switch(d){case"title":b=v.getElementsByTagName("title")[0],(!b||b[Zo]||b[Bt]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=v.createElement(d),v.head.insertBefore(b,v.querySelector("head > title"))),Sr(b,d,l),b[Bt]=a,le(b),d=b;break e;case"link":var E=aS("link","href",v).get(d+(l.href||""));if(E){for(var N=0;N<E.length;N++)if(b=E[N],b.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&b.getAttribute("rel")===(l.rel==null?null:l.rel)&&b.getAttribute("title")===(l.title==null?null:l.title)&&b.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){E.splice(N,1);break t}}b=v.createElement(d),Sr(b,d,l),v.head.appendChild(b);break;case"meta":if(E=aS("meta","content",v).get(d+(l.content||""))){for(N=0;N<E.length;N++)if(b=E[N],b.getAttribute("content")===(l.content==null?null:""+l.content)&&b.getAttribute("name")===(l.name==null?null:l.name)&&b.getAttribute("property")===(l.property==null?null:l.property)&&b.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&b.getAttribute("charset")===(l.charSet==null?null:l.charSet)){E.splice(N,1);break t}}b=v.createElement(d),Sr(b,d,l),v.head.appendChild(b);break;default:throw Error(n(468,d))}b[Bt]=a,le(b),d=b}a.stateNode=d}else iS(v,a.type,a.stateNode);else a.stateNode=nS(v,d,a.memoizedProps);else b!==d?(b===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):b.count--,d===null?iS(v,a.type,a.stateNode):nS(v,d,a.memoizedProps)):d===null&&a.stateNode!==null&&Op(a,a.memoizedProps,l.memoizedProps)}break;case 27:Yr(o,a),Gr(a),d&512&&(er||l===null||sa(l,l.return)),l!==null&&d&4&&Op(a,a.memoizedProps,l.memoizedProps);break;case 5:if(Yr(o,a),Gr(a),d&512&&(er||l===null||sa(l,l.return)),a.flags&32){v=a.stateNode;try{es(v,"")}catch(Ae){ut(a,a.return,Ae)}}d&4&&a.stateNode!=null&&(v=a.memoizedProps,Op(a,v,l!==null?l.memoizedProps:v)),d&1024&&(Np=!0);break;case 6:if(Yr(o,a),Gr(a),d&4){if(a.stateNode===null)throw Error(n(162));d=a.memoizedProps,l=a.stateNode;try{l.nodeValue=d}catch(Ae){ut(a,a.return,Ae)}}break;case 3:if(hd=null,v=Yn,Yn=fd(o.containerInfo),Yr(o,a),Yn=v,Gr(a),d&4&&l!==null&&l.memoizedState.isDehydrated)try{Ds(o.containerInfo)}catch(Ae){ut(a,a.return,Ae)}Np&&(Np=!1,ij(a));break;case 4:d=Yn,Yn=fd(a.stateNode.containerInfo),Yr(o,a),Gr(a),Yn=d;break;case 12:Yr(o,a),Gr(a);break;case 31:Yr(o,a),Gr(a),d&4&&(d=a.updateQueue,d!==null&&(a.updateQueue=null,Qu(a,d)));break;case 13:Yr(o,a),Gr(a),a.child.flags&8192&&a.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(ed=Ye()),d&4&&(d=a.updateQueue,d!==null&&(a.updateQueue=null,Qu(a,d)));break;case 22:v=a.memoizedState!==null;var z=l!==null&&l.memoizedState!==null,V=Da,oe=er;if(Da=V||v,er=oe||z,Yr(o,a),er=oe,Da=V,Gr(a),d&8192)e:for(o=a.stateNode,o._visibility=v?o._visibility&-2:o._visibility|1,v&&(l===null||z||Da||er||yo(a)),l=null,o=a;;){if(o.tag===5||o.tag===26){if(l===null){z=l=o;try{if(b=z.stateNode,v)E=b.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{N=z.stateNode;var de=z.memoizedProps.style,Z=de!=null&&de.hasOwnProperty("display")?de.display:null;N.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(Ae){ut(z,z.return,Ae)}}}else if(o.tag===6){if(l===null){z=o;try{z.stateNode.nodeValue=v?"":z.memoizedProps}catch(Ae){ut(z,z.return,Ae)}}}else if(o.tag===18){if(l===null){z=o;try{var te=z.stateNode;v?Vj(te,!0):Vj(z.stateNode,!1)}catch(Ae){ut(z,z.return,Ae)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===a)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;l===o&&(l=null),o=o.return}l===o&&(l=null),o.sibling.return=o.return,o=o.sibling}d&4&&(d=a.updateQueue,d!==null&&(l=d.retryQueue,l!==null&&(d.retryQueue=null,Qu(a,l))));break;case 19:Yr(o,a),Gr(a),d&4&&(d=a.updateQueue,d!==null&&(a.updateQueue=null,Qu(a,d)));break;case 30:break;case 21:break;default:Yr(o,a),Gr(a)}}function Gr(a){var o=a.flags;if(o&2){try{for(var l,d=a.return;d!==null;){if(Xw(d)){l=d;break}d=d.return}if(l==null)throw Error(n(160));switch(l.tag){case 27:var v=l.stateNode,b=Cp(a);Zu(a,b,v);break;case 5:var E=l.stateNode;l.flags&32&&(es(E,""),l.flags&=-33);var N=Cp(a);Zu(a,N,E);break;case 3:case 4:var z=l.stateNode.containerInfo,V=Cp(a);Ap(a,V,z);break;default:throw Error(n(161))}}catch(oe){ut(a,a.return,oe)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function ij(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var o=a;ij(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),a=a.sibling}}function Pa(a,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)Jw(a,o.alternate,o),o=o.sibling}function yo(a){for(a=a.child;a!==null;){var o=a;switch(o.tag){case 0:case 11:case 14:case 15:Si(4,o,o.return),yo(o);break;case 1:sa(o,o.return);var l=o.stateNode;typeof l.componentWillUnmount=="function"&&Vw(o,o.return,l),yo(o);break;case 27:Vl(o.stateNode);case 26:case 5:sa(o,o.return),yo(o);break;case 22:o.memoizedState===null&&yo(o);break;case 30:yo(o);break;default:yo(o)}a=a.sibling}}function Ma(a,o,l){for(l=l&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var d=o.alternate,v=a,b=o,E=b.flags;switch(b.tag){case 0:case 11:case 15:Ma(v,b,l),Ll(4,b);break;case 1:if(Ma(v,b,l),d=b,v=d.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(V){ut(d,d.return,V)}if(d=b,v=d.updateQueue,v!==null){var N=d.stateNode;try{var z=v.shared.hiddenCallbacks;if(z!==null)for(v.shared.hiddenCallbacks=null,v=0;v<z.length;v++)qx(z[v],N)}catch(V){ut(d,d.return,V)}}l&&E&64&&Gw(b),Il(b,b.return);break;case 27:Zw(b);case 26:case 5:Ma(v,b,l),l&&d===null&&E&4&&Ww(b),Il(b,b.return);break;case 12:Ma(v,b,l);break;case 31:Ma(v,b,l),l&&E&4&&rj(v,b);break;case 13:Ma(v,b,l),l&&E&4&&nj(v,b);break;case 22:b.memoizedState===null&&Ma(v,b,l),Il(b,b.return);break;case 30:break;default:Ma(v,b,l)}o=o.sibling}}function kp(a,o){var l=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(l=a.memoizedState.cachePool.pool),a=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(a=o.memoizedState.cachePool.pool),a!==l&&(a!=null&&a.refCount++,l!=null&&El(l))}function Dp(a,o){a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&El(a))}function Gn(a,o,l,d){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)oj(a,o,l,d),o=o.sibling}function oj(a,o,l,d){var v=o.flags;switch(o.tag){case 0:case 11:case 15:Gn(a,o,l,d),v&2048&&Ll(9,o);break;case 1:Gn(a,o,l,d);break;case 3:Gn(a,o,l,d),v&2048&&(a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&El(a)));break;case 12:if(v&2048){Gn(a,o,l,d),a=o.stateNode;try{var b=o.memoizedProps,E=b.id,N=b.onPostCommit;typeof N=="function"&&N(E,o.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(z){ut(o,o.return,z)}}else Gn(a,o,l,d);break;case 31:Gn(a,o,l,d);break;case 13:Gn(a,o,l,d);break;case 23:break;case 22:b=o.stateNode,E=o.alternate,o.memoizedState!==null?b._visibility&2?Gn(a,o,l,d):Ul(a,o):b._visibility&2?Gn(a,o,l,d):(b._visibility|=2,_s(a,o,l,d,(o.subtreeFlags&10256)!==0||!1)),v&2048&&kp(E,o);break;case 24:Gn(a,o,l,d),v&2048&&Dp(o.alternate,o);break;default:Gn(a,o,l,d)}}function _s(a,o,l,d,v){for(v=v&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var b=a,E=o,N=l,z=d,V=E.flags;switch(E.tag){case 0:case 11:case 15:_s(b,E,N,z,v),Ll(8,E);break;case 23:break;case 22:var oe=E.stateNode;E.memoizedState!==null?oe._visibility&2?_s(b,E,N,z,v):Ul(b,E):(oe._visibility|=2,_s(b,E,N,z,v)),v&&V&2048&&kp(E.alternate,E);break;case 24:_s(b,E,N,z,v),v&&V&2048&&Dp(E.alternate,E);break;default:_s(b,E,N,z,v)}o=o.sibling}}function Ul(a,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var l=a,d=o,v=d.flags;switch(d.tag){case 22:Ul(l,d),v&2048&&kp(d.alternate,d);break;case 24:Ul(l,d),v&2048&&Dp(d.alternate,d);break;default:Ul(l,d)}o=o.sibling}}var Bl=8192;function xs(a,o,l){if(a.subtreeFlags&Bl)for(a=a.child;a!==null;)sj(a,o,l),a=a.sibling}function sj(a,o,l){switch(a.tag){case 26:xs(a,o,l),a.flags&Bl&&a.memoizedState!==null&&qR(l,Yn,a.memoizedState,a.memoizedProps);break;case 5:xs(a,o,l);break;case 3:case 4:var d=Yn;Yn=fd(a.stateNode.containerInfo),xs(a,o,l),Yn=d;break;case 22:a.memoizedState===null&&(d=a.alternate,d!==null&&d.memoizedState!==null?(d=Bl,Bl=16777216,xs(a,o,l),Bl=d):xs(a,o,l));break;default:xs(a,o,l)}}function lj(a){var o=a.alternate;if(o!==null&&(a=o.child,a!==null)){o.child=null;do o=a.sibling,a.sibling=null,a=o;while(a!==null)}}function $l(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var l=0;l<o.length;l++){var d=o[l];mr=d,uj(d,a)}lj(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)cj(a),a=a.sibling}function cj(a){switch(a.tag){case 0:case 11:case 15:$l(a),a.flags&2048&&Si(9,a,a.return);break;case 3:$l(a);break;case 12:$l(a);break;case 22:var o=a.stateNode;a.memoizedState!==null&&o._visibility&2&&(a.return===null||a.return.tag!==13)?(o._visibility&=-3,Ju(a)):$l(a);break;default:$l(a)}}function Ju(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var l=0;l<o.length;l++){var d=o[l];mr=d,uj(d,a)}lj(a)}for(a=a.child;a!==null;){switch(o=a,o.tag){case 0:case 11:case 15:Si(8,o,o.return),Ju(o);break;case 22:l=o.stateNode,l._visibility&2&&(l._visibility&=-3,Ju(o));break;default:Ju(o)}a=a.sibling}}function uj(a,o){for(;mr!==null;){var l=mr;switch(l.tag){case 0:case 11:case 15:Si(8,l,o);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var d=l.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:El(l.memoizedState.cache)}if(d=l.child,d!==null)d.return=l,mr=d;else e:for(l=a;mr!==null;){d=mr;var v=d.sibling,b=d.return;if(ej(d),d===l){mr=null;break e}if(v!==null){v.return=b,mr=v;break e}mr=b}}}var Z2={getCacheForType:function(a){var o=wr(Zt),l=o.data.get(a);return l===void 0&&(l=a(),o.data.set(a,l)),l},cacheSignal:function(){return wr(Zt).controller.signal}},Q2=typeof WeakMap=="function"?WeakMap:Map,ot=0,yt=null,Ve=null,Xe=0,ct=0,sn=null,Ei=!1,ws=!1,Tp=!1,Ra=0,Ht=0,Oi=0,bo=0,Pp=0,ln=0,js=0,Hl=null,Vr=null,Mp=!1,ed=0,dj=0,td=1/0,rd=null,Ci=null,or=0,Ai=null,Ss=null,qa=0,Rp=0,qp=null,fj=null,Fl=0,zp=null;function cn(){return(ot&2)!==0&&Xe!==0?Xe&-Xe:R.T!==null?Hp():Ji()}function mj(){if(ln===0)if((Xe&536870912)===0||Qe){var a=di;di<<=1,(di&3932160)===0&&(di=262144),ln=a}else ln=536870912;return a=an.current,a!==null&&(a.flags|=32),ln}function Wr(a,o,l){(a===yt&&(ct===2||ct===9)||a.cancelPendingCommit!==null)&&(Es(a,0),Ni(a,Xe,ln,!1)),_a(a,l),((ot&2)===0||a!==yt)&&(a===yt&&((ot&2)===0&&(bo|=l),Ht===4&&Ni(a,Xe,ln,!1)),la(a))}function hj(a,o,l){if((ot&6)!==0)throw Error(n(327));var d=!l&&(o&127)===0&&(o&a.expiredLanes)===0||ba(a,o),v=d?tR(a,o):Ip(a,o,!0),b=d;do{if(v===0){ws&&!d&&Ni(a,o,0,!1);break}else{if(l=a.current.alternate,b&&!J2(l)){v=Ip(a,o,!1),b=!1;continue}if(v===2){if(b=o,a.errorRecoveryDisabledLanes&b)var E=0;else E=a.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){o=E;e:{var N=a;v=Hl;var z=N.current.memoizedState.isDehydrated;if(z&&(Es(N,E).flags|=256),E=Ip(N,E,!1),E!==2){if(Tp&&!z){N.errorRecoveryDisabledLanes|=b,bo|=b,v=4;break e}b=Vr,Vr=v,b!==null&&(Vr===null?Vr=b:Vr.push.apply(Vr,b))}v=E}if(b=!1,v!==2)continue}}if(v===1){Es(a,0),Ni(a,o,0,!0);break}e:{switch(d=a,b=v,b){case 0:case 1:throw Error(n(345));case 4:if((o&4194048)!==o)break;case 6:Ni(d,o,ln,!Ei);break e;case 2:Vr=null;break;case 3:case 5:break;default:throw Error(n(329))}if((o&62914560)===o&&(v=ed+300-Ye(),10<v)){if(Ni(d,o,ln,!Ei),fi(d,0,!0)!==0)break e;qa=o,d.timeoutHandle=Kj(pj.bind(null,d,l,Vr,rd,Mp,o,ln,bo,js,Ei,b,"Throttled",-0,0),v);break e}pj(d,l,Vr,rd,Mp,o,ln,bo,js,Ei,b,null,-0,0)}}break}while(!0);la(a)}function pj(a,o,l,d,v,b,E,N,z,V,oe,de,Z,te){if(a.timeoutHandle=-1,de=o.subtreeFlags,de&8192||(de&16785408)===16785408){de={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:xa},sj(o,b,de);var Ae=(b&62914560)===b?ed-Ye():(b&4194048)===b?dj-Ye():0;if(Ae=zR(de,Ae),Ae!==null){qa=b,a.cancelPendingCommit=Ae(jj.bind(null,a,o,b,l,d,v,E,N,z,oe,de,null,Z,te)),Ni(a,b,E,!V);return}}jj(a,o,b,l,d,v,E,N,z)}function J2(a){for(var o=a;;){var l=o.tag;if((l===0||l===11||l===15)&&o.flags&16384&&(l=o.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var d=0;d<l.length;d++){var v=l[d],b=v.getSnapshot;v=v.value;try{if(!rn(b(),v))return!1}catch{return!1}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ni(a,o,l,d){o&=~Pp,o&=~bo,a.suspendedLanes|=o,a.pingedLanes&=~o,d&&(a.warmLanes|=o),d=a.expirationTimes;for(var v=o;0<v;){var b=31-xt(v),E=1<<b;d[b]=-1,v&=~E}l!==0&&fu(a,l,o)}function nd(){return(ot&6)===0?(Kl(0),!1):!0}function Lp(){if(Ve!==null){if(ct===0)var a=Ve.return;else a=Ve,Ea=co=null,ep(a),ps=null,Cl=0,a=Ve;for(;a!==null;)Yw(a.alternate,a),a=a.return;Ve=null}}function Es(a,o){var l=a.timeoutHandle;l!==-1&&(a.timeoutHandle=-1,bR(l)),l=a.cancelPendingCommit,l!==null&&(a.cancelPendingCommit=null,l()),qa=0,Lp(),yt=a,Ve=l=ja(a.current,null),Xe=o,ct=0,sn=null,Ei=!1,ws=ba(a,o),Tp=!1,js=ln=Pp=bo=Oi=Ht=0,Vr=Hl=null,Mp=!1,(o&8)!==0&&(o|=o&32);var d=a.entangledLanes;if(d!==0)for(a=a.entanglements,d&=o;0<d;){var v=31-xt(d),b=1<<v;o|=a[v],d&=~b}return Ra=o,Su(),l}function gj(a,o){$e=null,R.H=Rl,o===hs||o===Tu?(o=Tx(),ct=3):o===$h?(o=Tx(),ct=4):ct=o===gp?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,sn=o,Ve===null&&(Ht=1,Yu(a,On(o,a.current)))}function vj(){var a=an.current;return a===null?!0:(Xe&4194048)===Xe?kn===null:(Xe&62914560)===Xe||(Xe&536870912)!==0?a===kn:!1}function yj(){var a=R.H;return R.H=Rl,a===null?Rl:a}function bj(){var a=R.A;return R.A=Z2,a}function ad(){Ht=4,Ei||(Xe&4194048)!==Xe&&an.current!==null||(ws=!0),(Oi&134217727)===0&&(bo&134217727)===0||yt===null||Ni(yt,Xe,ln,!1)}function Ip(a,o,l){var d=ot;ot|=2;var v=yj(),b=bj();(yt!==a||Xe!==o)&&(rd=null,Es(a,o)),o=!1;var E=Ht;e:do try{if(ct!==0&&Ve!==null){var N=Ve,z=sn;switch(ct){case 8:Lp(),E=6;break e;case 3:case 2:case 9:case 6:an.current===null&&(o=!0);var V=ct;if(ct=0,sn=null,Os(a,N,z,V),l&&ws){E=0;break e}break;default:V=ct,ct=0,sn=null,Os(a,N,z,V)}}eR(),E=Ht;break}catch(oe){gj(a,oe)}while(!0);return o&&a.shellSuspendCounter++,Ea=co=null,ot=d,R.H=v,R.A=b,Ve===null&&(yt=null,Xe=0,Su()),E}function eR(){for(;Ve!==null;)_j(Ve)}function tR(a,o){var l=ot;ot|=2;var d=yj(),v=bj();yt!==a||Xe!==o?(rd=null,td=Ye()+500,Es(a,o)):ws=ba(a,o);e:do try{if(ct!==0&&Ve!==null){o=Ve;var b=sn;t:switch(ct){case 1:ct=0,sn=null,Os(a,o,b,1);break;case 2:case 9:if(kx(b)){ct=0,sn=null,xj(o);break}o=function(){ct!==2&&ct!==9||yt!==a||(ct=7),la(a)},b.then(o,o);break e;case 3:ct=7;break e;case 4:ct=5;break e;case 7:kx(b)?(ct=0,sn=null,xj(o)):(ct=0,sn=null,Os(a,o,b,7));break;case 5:var E=null;switch(Ve.tag){case 26:E=Ve.memoizedState;case 5:case 27:var N=Ve;if(E?oS(E):N.stateNode.complete){ct=0,sn=null;var z=N.sibling;if(z!==null)Ve=z;else{var V=N.return;V!==null?(Ve=V,id(V)):Ve=null}break t}}ct=0,sn=null,Os(a,o,b,5);break;case 6:ct=0,sn=null,Os(a,o,b,6);break;case 8:Lp(),Ht=6;break e;default:throw Error(n(462))}}rR();break}catch(oe){gj(a,oe)}while(!0);return Ea=co=null,R.H=d,R.A=v,ot=l,Ve!==null?0:(yt=null,Xe=0,Su(),Ht)}function rR(){for(;Ve!==null&&!Cr();)_j(Ve)}function _j(a){var o=Fw(a.alternate,a,Ra);a.memoizedProps=a.pendingProps,o===null?id(a):Ve=o}function xj(a){var o=a,l=o.alternate;switch(o.tag){case 15:case 0:o=Lw(l,o,o.pendingProps,o.type,void 0,Xe);break;case 11:o=Lw(l,o,o.pendingProps,o.type.render,o.ref,Xe);break;case 5:ep(o);default:Yw(l,o),o=Ve=bx(o,Ra),o=Fw(l,o,Ra)}a.memoizedProps=a.pendingProps,o===null?id(a):Ve=o}function Os(a,o,l,d){Ea=co=null,ep(o),ps=null,Cl=0;var v=o.return;try{if(F2(a,v,o,l,Xe)){Ht=1,Yu(a,On(l,a.current)),Ve=null;return}}catch(b){if(v!==null)throw Ve=v,b;Ht=1,Yu(a,On(l,a.current)),Ve=null;return}o.flags&32768?(Qe||d===1?a=!0:ws||(Xe&536870912)!==0?a=!1:(Ei=a=!0,(d===2||d===9||d===3||d===6)&&(d=an.current,d!==null&&d.tag===13&&(d.flags|=16384))),wj(o,a)):id(o)}function id(a){var o=a;do{if((o.flags&32768)!==0){wj(o,Ei);return}a=o.return;var l=G2(o.alternate,o,Ra);if(l!==null){Ve=l;return}if(o=o.sibling,o!==null){Ve=o;return}Ve=o=a}while(o!==null);Ht===0&&(Ht=5)}function wj(a,o){do{var l=V2(a.alternate,a);if(l!==null){l.flags&=32767,Ve=l;return}if(l=a.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!o&&(a=a.sibling,a!==null)){Ve=a;return}Ve=a=l}while(a!==null);Ht=6,Ve=null}function jj(a,o,l,d,v,b,E,N,z){a.cancelPendingCommit=null;do od();while(or!==0);if((ot&6)!==0)throw Error(n(327));if(o!==null){if(o===a.current)throw Error(n(177));if(b=o.lanes|o.childLanes,b|=Ch,cl(a,l,b,E,N,z),a===yt&&(Ve=yt=null,Xe=0),Ss=o,Ai=a,qa=l,Rp=b,qp=v,fj=d,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,oR(Ar,function(){return Aj(),null})):(a.callbackNode=null,a.callbackPriority=0),d=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||d){d=R.T,R.T=null,v=I.p,I.p=2,E=ot,ot|=4;try{W2(a,o,l)}finally{ot=E,I.p=v,R.T=d}}or=1,Sj(),Ej(),Oj()}}function Sj(){if(or===1){or=0;var a=Ai,o=Ss,l=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||l){l=R.T,R.T=null;var d=I.p;I.p=2;var v=ot;ot|=4;try{aj(o,a);var b=Zp,E=ux(a.containerInfo),N=b.focusedElem,z=b.selectionRange;if(E!==N&&N&&N.ownerDocument&&cx(N.ownerDocument.documentElement,N)){if(z!==null&&wh(N)){var V=z.start,oe=z.end;if(oe===void 0&&(oe=V),"selectionStart"in N)N.selectionStart=V,N.selectionEnd=Math.min(oe,N.value.length);else{var de=N.ownerDocument||document,Z=de&&de.defaultView||window;if(Z.getSelection){var te=Z.getSelection(),Ae=N.textContent.length,ze=Math.min(z.start,Ae),ht=z.end===void 0?ze:Math.min(z.end,Ae);!te.extend&&ze>ht&&(E=ht,ht=ze,ze=E);var F=lx(N,ze),$=lx(N,ht);if(F&&$&&(te.rangeCount!==1||te.anchorNode!==F.node||te.anchorOffset!==F.offset||te.focusNode!==$.node||te.focusOffset!==$.offset)){var Y=de.createRange();Y.setStart(F.node,F.offset),te.removeAllRanges(),ze>ht?(te.addRange(Y),te.extend($.node,$.offset)):(Y.setEnd($.node,$.offset),te.addRange(Y))}}}}for(de=[],te=N;te=te.parentNode;)te.nodeType===1&&de.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<de.length;N++){var ue=de[N];ue.element.scrollLeft=ue.left,ue.element.scrollTop=ue.top}}yd=!!Xp,Zp=Xp=null}finally{ot=v,I.p=d,R.T=l}}a.current=o,or=2}}function Ej(){if(or===2){or=0;var a=Ai,o=Ss,l=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||l){l=R.T,R.T=null;var d=I.p;I.p=2;var v=ot;ot|=4;try{Jw(a,o.alternate,o)}finally{ot=v,I.p=d,R.T=l}}or=3}}function Oj(){if(or===4||or===3){or=0,jt();var a=Ai,o=Ss,l=qa,d=fj;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?or=5:(or=0,Ss=Ai=null,Cj(a,a.pendingLanes));var v=a.pendingLanes;if(v===0&&(Ci=null),dl(l),o=o.stateNode,vt&&typeof vt.onCommitFiberRoot=="function")try{vt.onCommitFiberRoot(Rr,o,void 0,(o.current.flags&128)===128)}catch{}if(d!==null){o=R.T,v=I.p,I.p=2,R.T=null;try{for(var b=a.onRecoverableError,E=0;E<d.length;E++){var N=d[E];b(N.value,{componentStack:N.stack})}}finally{R.T=o,I.p=v}}(qa&3)!==0&&od(),la(a),v=a.pendingLanes,(l&261930)!==0&&(v&42)!==0?a===zp?Fl++:(Fl=0,zp=a):Fl=0,Kl(0)}}function Cj(a,o){(a.pooledCacheLanes&=o)===0&&(o=a.pooledCache,o!=null&&(a.pooledCache=null,El(o)))}function od(){return Sj(),Ej(),Oj(),Aj()}function Aj(){if(or!==5)return!1;var a=Ai,o=Rp;Rp=0;var l=dl(qa),d=R.T,v=I.p;try{I.p=32>l?32:l,R.T=null,l=qp,qp=null;var b=Ai,E=qa;if(or=0,Ss=Ai=null,qa=0,(ot&6)!==0)throw Error(n(331));var N=ot;if(ot|=4,cj(b.current),oj(b,b.current,E,l),ot=N,Kl(0,!1),vt&&typeof vt.onPostCommitFiberRoot=="function")try{vt.onPostCommitFiberRoot(Rr,b)}catch{}return!0}finally{I.p=v,R.T=d,Cj(a,o)}}function Nj(a,o,l){o=On(l,o),o=pp(a.stateNode,o,2),a=xi(a,o,2),a!==null&&(_a(a,2),la(a))}function ut(a,o,l){if(a.tag===3)Nj(a,a,l);else for(;o!==null;){if(o.tag===3){Nj(o,a,l);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Ci===null||!Ci.has(d))){a=On(l,a),l=kw(2),d=xi(o,l,2),d!==null&&(Dw(l,d,o,a),_a(d,2),la(d));break}}o=o.return}}function Up(a,o,l){var d=a.pingCache;if(d===null){d=a.pingCache=new Q2;var v=new Set;d.set(o,v)}else v=d.get(o),v===void 0&&(v=new Set,d.set(o,v));v.has(l)||(Tp=!0,v.add(l),a=nR.bind(null,a,o,l),o.then(a,a))}function nR(a,o,l){var d=a.pingCache;d!==null&&d.delete(o),a.pingedLanes|=a.suspendedLanes&l,a.warmLanes&=~l,yt===a&&(Xe&l)===l&&(Ht===4||Ht===3&&(Xe&62914560)===Xe&&300>Ye()-ed?(ot&2)===0&&Es(a,0):Pp|=l,js===Xe&&(js=0)),la(a)}function kj(a,o){o===0&&(o=ye()),a=oo(a,o),a!==null&&(_a(a,o),la(a))}function aR(a){var o=a.memoizedState,l=0;o!==null&&(l=o.retryLane),kj(a,l)}function iR(a,o){var l=0;switch(a.tag){case 31:case 13:var d=a.stateNode,v=a.memoizedState;v!==null&&(l=v.retryLane);break;case 19:d=a.stateNode;break;case 22:d=a.stateNode._retryCache;break;default:throw Error(n(314))}d!==null&&d.delete(o),kj(a,l)}function oR(a,o){return _t(a,o)}var sd=null,Cs=null,Bp=!1,ld=!1,$p=!1,ki=0;function la(a){a!==Cs&&a.next===null&&(Cs===null?sd=Cs=a:Cs=Cs.next=a),ld=!0,Bp||(Bp=!0,lR())}function Kl(a,o){if(!$p&&ld){$p=!0;do for(var l=!1,d=sd;d!==null;){if(a!==0){var v=d.pendingLanes;if(v===0)var b=0;else{var E=d.suspendedLanes,N=d.pingedLanes;b=(1<<31-xt(42|a)+1)-1,b&=v&~(E&~N),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(l=!0,Mj(d,b))}else b=Xe,b=fi(d,d===yt?b:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(b&3)===0||ba(d,b)||(l=!0,Mj(d,b));d=d.next}while(l);$p=!1}}function sR(){Dj()}function Dj(){ld=Bp=!1;var a=0;ki!==0&&yR()&&(a=ki);for(var o=Ye(),l=null,d=sd;d!==null;){var v=d.next,b=Tj(d,o);b===0?(d.next=null,l===null?sd=v:l.next=v,v===null&&(Cs=l)):(l=d,(a!==0||(b&3)!==0)&&(ld=!0)),d=v}or!==0&&or!==5||Kl(a),ki!==0&&(ki=0)}function Tj(a,o){for(var l=a.suspendedLanes,d=a.pingedLanes,v=a.expirationTimes,b=a.pendingLanes&-62914561;0<b;){var E=31-xt(b),N=1<<E,z=v[E];z===-1?((N&l)===0||(N&d)!==0)&&(v[E]=ll(N,o)):z<=o&&(a.expiredLanes|=N),b&=~N}if(o=yt,l=Xe,l=fi(a,a===o?l:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),d=a.callbackNode,l===0||a===o&&(ct===2||ct===9)||a.cancelPendingCommit!==null)return d!==null&&d!==null&&At(d),a.callbackNode=null,a.callbackPriority=0;if((l&3)===0||ba(a,l)){if(o=l&-l,o===a.callbackPriority)return o;switch(d!==null&&At(d),dl(l)){case 2:case 8:l=Pr;break;case 32:l=Ar;break;case 268435456:l=rt;break;default:l=Ar}return d=Pj.bind(null,a),l=_t(l,d),a.callbackPriority=o,a.callbackNode=l,o}return d!==null&&d!==null&&At(d),a.callbackPriority=2,a.callbackNode=null,2}function Pj(a,o){if(or!==0&&or!==5)return a.callbackNode=null,a.callbackPriority=0,null;var l=a.callbackNode;if(od()&&a.callbackNode!==l)return null;var d=Xe;return d=fi(a,a===yt?d:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),d===0?null:(hj(a,d,o),Tj(a,Ye()),a.callbackNode!=null&&a.callbackNode===l?Pj.bind(null,a):null)}function Mj(a,o){if(od())return null;hj(a,o,!0)}function lR(){_R(function(){(ot&6)!==0?_t(_n,sR):Dj()})}function Hp(){if(ki===0){var a=fs;a===0&&(a=ui,ui<<=1,(ui&261888)===0&&(ui=256)),ki=a}return ki}function Rj(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:gu(""+a)}function qj(a,o){var l=o.ownerDocument.createElement("input");return l.name=o.name,l.value=o.value,a.id&&l.setAttribute("form",a.id),o.parentNode.insertBefore(l,o),a=new FormData(a),l.parentNode.removeChild(l),a}function cR(a,o,l,d,v){if(o==="submit"&&l&&l.stateNode===v){var b=Rj((v[ir]||null).action),E=d.submitter;E&&(o=(o=E[ir]||null)?Rj(o.formAction):E.getAttribute("formAction"),o!==null&&(b=o,E=null));var N=new _u("action","action",null,d,v);a.push({event:N,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(ki!==0){var z=E?qj(v,E):new FormData(v);cp(l,{pending:!0,data:z,method:v.method,action:b},null,z)}}else typeof b=="function"&&(N.preventDefault(),z=E?qj(v,E):new FormData(v),cp(l,{pending:!0,data:z,method:v.method,action:b},b,z))},currentTarget:v}]})}}for(var Fp=0;Fp<Oh.length;Fp++){var Kp=Oh[Fp],uR=Kp.toLowerCase(),dR=Kp[0].toUpperCase()+Kp.slice(1);Kn(uR,"on"+dR)}Kn(mx,"onAnimationEnd"),Kn(hx,"onAnimationIteration"),Kn(px,"onAnimationStart"),Kn("dblclick","onDoubleClick"),Kn("focusin","onFocus"),Kn("focusout","onBlur"),Kn(C2,"onTransitionRun"),Kn(A2,"onTransitionStart"),Kn(N2,"onTransitionCancel"),Kn(gx,"onTransitionEnd"),Se("onMouseEnter",["mouseout","mouseover"]),Se("onMouseLeave",["mouseout","mouseover"]),Se("onPointerEnter",["pointerout","pointerover"]),Se("onPointerLeave",["pointerout","pointerover"]),ne("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ne("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ne("onBeforeInput",["compositionend","keypress","textInput","paste"]),ne("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ne("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ne("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Yl));function zj(a,o){o=(o&4)!==0;for(var l=0;l<a.length;l++){var d=a[l],v=d.event;d=d.listeners;e:{var b=void 0;if(o)for(var E=d.length-1;0<=E;E--){var N=d[E],z=N.instance,V=N.currentTarget;if(N=N.listener,z!==b&&v.isPropagationStopped())break e;b=N,v.currentTarget=V;try{b(v)}catch(oe){ju(oe)}v.currentTarget=null,b=z}else for(E=0;E<d.length;E++){if(N=d[E],z=N.instance,V=N.currentTarget,N=N.listener,z!==b&&v.isPropagationStopped())break e;b=N,v.currentTarget=V;try{b(v)}catch(oe){ju(oe)}v.currentTarget=null,b=z}}}}function We(a,o){var l=o[to];l===void 0&&(l=o[to]=new Set);var d=a+"__bubble";l.has(d)||(Lj(o,a,2,!1),l.add(d))}function Yp(a,o,l){var d=0;o&&(d|=4),Lj(l,a,d,o)}var cd="_reactListening"+Math.random().toString(36).slice(2);function Gp(a){if(!a[cd]){a[cd]=!0,he.forEach(function(l){l!=="selectionchange"&&(fR.has(l)||Yp(l,!1,a),Yp(l,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[cd]||(o[cd]=!0,Yp("selectionchange",!1,o))}}function Lj(a,o,l,d){switch(mS(o)){case 2:var v=UR;break;case 8:v=BR;break;default:v=lg}l=v.bind(null,o,l,a),v=void 0,!mh||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(v=!0),d?v!==void 0?a.addEventListener(o,l,{capture:!0,passive:v}):a.addEventListener(o,l,!0):v!==void 0?a.addEventListener(o,l,{passive:v}):a.addEventListener(o,l,!1)}function Vp(a,o,l,d,v){var b=d;if((o&1)===0&&(o&2)===0&&d!==null)e:for(;;){if(d===null)return;var E=d.tag;if(E===3||E===4){var N=d.stateNode.containerInfo;if(N===v)break;if(E===4)for(E=d.return;E!==null;){var z=E.tag;if((z===3||z===4)&&E.stateNode.containerInfo===v)return;E=E.return}for(;N!==null;){if(E=Hn(N),E===null)return;if(z=E.tag,z===5||z===6||z===26||z===27){d=b=E;continue e}N=N.parentNode}}d=d.return}H_(function(){var V=b,oe=dh(l),de=[];e:{var Z=vx.get(a);if(Z!==void 0){var te=_u,Ae=a;switch(a){case"keypress":if(yu(l)===0)break e;case"keydown":case"keyup":te=i2;break;case"focusin":Ae="focus",te=vh;break;case"focusout":Ae="blur",te=vh;break;case"beforeblur":case"afterblur":te=vh;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=Y_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=GM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=l2;break;case mx:case hx:case px:te=XM;break;case gx:te=u2;break;case"scroll":case"scrollend":te=KM;break;case"wheel":te=f2;break;case"copy":case"cut":case"paste":te=QM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=V_;break;case"toggle":case"beforetoggle":te=h2}var ze=(o&4)!==0,ht=!ze&&(a==="scroll"||a==="scrollend"),F=ze?Z!==null?Z+"Capture":null:Z;ze=[];for(var $=V,Y;$!==null;){var ue=$;if(Y=ue.stateNode,ue=ue.tag,ue!==5&&ue!==26&&ue!==27||Y===null||F===null||(ue=hl($,F),ue!=null&&ze.push(Gl($,ue,Y))),ht)break;$=$.return}0<ze.length&&(Z=new te(Z,Ae,null,l,oe),de.push({event:Z,listeners:ze}))}}if((o&7)===0){e:{if(Z=a==="mouseover"||a==="pointerover",te=a==="mouseout"||a==="pointerout",Z&&l!==uh&&(Ae=l.relatedTarget||l.fromElement)&&(Hn(Ae)||Ae[aa]))break e;if((te||Z)&&(Z=oe.window===oe?oe:(Z=oe.ownerDocument)?Z.defaultView||Z.parentWindow:window,te?(Ae=l.relatedTarget||l.toElement,te=V,Ae=Ae?Hn(Ae):null,Ae!==null&&(ht=s(Ae),ze=Ae.tag,Ae!==ht||ze!==5&&ze!==27&&ze!==6)&&(Ae=null)):(te=null,Ae=V),te!==Ae)){if(ze=Y_,ue="onMouseLeave",F="onMouseEnter",$="mouse",(a==="pointerout"||a==="pointerover")&&(ze=V_,ue="onPointerLeave",F="onPointerEnter",$="pointer"),ht=te==null?Z:ro(te),Y=Ae==null?Z:ro(Ae),Z=new ze(ue,$+"leave",te,l,oe),Z.target=ht,Z.relatedTarget=Y,ue=null,Hn(oe)===V&&(ze=new ze(F,$+"enter",Ae,l,oe),ze.target=Y,ze.relatedTarget=ht,ue=ze),ht=ue,te&&Ae)t:{for(ze=mR,F=te,$=Ae,Y=0,ue=F;ue;ue=ze(ue))Y++;ue=0;for(var qe=$;qe;qe=ze(qe))ue++;for(;0<Y-ue;)F=ze(F),Y--;for(;0<ue-Y;)$=ze($),ue--;for(;Y--;){if(F===$||$!==null&&F===$.alternate){ze=F;break t}F=ze(F),$=ze($)}ze=null}else ze=null;te!==null&&Ij(de,Z,te,ze,!1),Ae!==null&&ht!==null&&Ij(de,ht,Ae,ze,!0)}}e:{if(Z=V?ro(V):window,te=Z.nodeName&&Z.nodeName.toLowerCase(),te==="select"||te==="input"&&Z.type==="file")var nt=rx;else if(ex(Z))if(nx)nt=S2;else{nt=w2;var Pe=x2}else te=Z.nodeName,!te||te.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?V&&ch(V.elementType)&&(nt=rx):nt=j2;if(nt&&(nt=nt(a,V))){tx(de,nt,l,oe);break e}Pe&&Pe(a,Z,V),a==="focusout"&&V&&Z.type==="number"&&V.memoizedProps.value!=null&&lh(Z,"number",Z.value)}switch(Pe=V?ro(V):window,a){case"focusin":(ex(Pe)||Pe.contentEditable==="true")&&(as=Pe,jh=V,wl=null);break;case"focusout":wl=jh=as=null;break;case"mousedown":Sh=!0;break;case"contextmenu":case"mouseup":case"dragend":Sh=!1,dx(de,l,oe);break;case"selectionchange":if(O2)break;case"keydown":case"keyup":dx(de,l,oe)}var He;if(bh)e:{switch(a){case"compositionstart":var Ze="onCompositionStart";break e;case"compositionend":Ze="onCompositionEnd";break e;case"compositionupdate":Ze="onCompositionUpdate";break e}Ze=void 0}else ns?Q_(a,l)&&(Ze="onCompositionEnd"):a==="keydown"&&l.keyCode===229&&(Ze="onCompositionStart");Ze&&(W_&&l.locale!=="ko"&&(ns||Ze!=="onCompositionStart"?Ze==="onCompositionEnd"&&ns&&(He=F_()):(hi=oe,hh="value"in hi?hi.value:hi.textContent,ns=!0)),Pe=ud(V,Ze),0<Pe.length&&(Ze=new G_(Ze,a,null,l,oe),de.push({event:Ze,listeners:Pe}),He?Ze.data=He:(He=J_(l),He!==null&&(Ze.data=He)))),(He=g2?v2(a,l):y2(a,l))&&(Ze=ud(V,"onBeforeInput"),0<Ze.length&&(Pe=new G_("onBeforeInput","beforeinput",null,l,oe),de.push({event:Pe,listeners:Ze}),Pe.data=He)),cR(de,a,V,l,oe)}zj(de,o)})}function Gl(a,o,l){return{instance:a,listener:o,currentTarget:l}}function ud(a,o){for(var l=o+"Capture",d=[];a!==null;){var v=a,b=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||b===null||(v=hl(a,l),v!=null&&d.unshift(Gl(a,v,b)),v=hl(a,o),v!=null&&d.push(Gl(a,v,b))),a.tag===3)return d;a=a.return}return[]}function mR(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function Ij(a,o,l,d,v){for(var b=o._reactName,E=[];l!==null&&l!==d;){var N=l,z=N.alternate,V=N.stateNode;if(N=N.tag,z!==null&&z===d)break;N!==5&&N!==26&&N!==27||V===null||(z=V,v?(V=hl(l,b),V!=null&&E.unshift(Gl(l,V,z))):v||(V=hl(l,b),V!=null&&E.push(Gl(l,V,z)))),l=l.return}E.length!==0&&a.push({event:o,listeners:E})}var hR=/\r\n?/g,pR=/\u0000|\uFFFD/g;function Uj(a){return(typeof a=="string"?a:""+a).replace(hR,`
`).replace(pR,"")}function Bj(a,o){return o=Uj(o),Uj(a)===o}function mt(a,o,l,d,v,b){switch(l){case"children":typeof d=="string"?o==="body"||o==="textarea"&&d===""||es(a,d):(typeof d=="number"||typeof d=="bigint")&&o!=="body"&&es(a,""+d);break;case"className":Yt(a,"class",d);break;case"tabIndex":Yt(a,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":Yt(a,l,d);break;case"style":B_(a,d,b);break;case"data":if(o!=="object"){Yt(a,"data",d);break}case"src":case"href":if(d===""&&(o!=="a"||l!=="href")){a.removeAttribute(l);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){a.removeAttribute(l);break}d=gu(""+d),a.setAttribute(l,d);break;case"action":case"formAction":if(typeof d=="function"){a.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(l==="formAction"?(o!=="input"&&mt(a,o,"name",v.name,v,null),mt(a,o,"formEncType",v.formEncType,v,null),mt(a,o,"formMethod",v.formMethod,v,null),mt(a,o,"formTarget",v.formTarget,v,null)):(mt(a,o,"encType",v.encType,v,null),mt(a,o,"method",v.method,v,null),mt(a,o,"target",v.target,v,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){a.removeAttribute(l);break}d=gu(""+d),a.setAttribute(l,d);break;case"onClick":d!=null&&(a.onclick=xa);break;case"onScroll":d!=null&&We("scroll",a);break;case"onScrollEnd":d!=null&&We("scrollend",a);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(n(61));if(l=d.__html,l!=null){if(v.children!=null)throw Error(n(60));a.innerHTML=l}}break;case"multiple":a.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":a.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){a.removeAttribute("xlink:href");break}l=gu(""+d),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(l,""+d):a.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(l,""):a.removeAttribute(l);break;case"capture":case"download":d===!0?a.setAttribute(l,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(l,d):a.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?a.setAttribute(l,d):a.removeAttribute(l);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?a.removeAttribute(l):a.setAttribute(l,d);break;case"popover":We("beforetoggle",a),We("toggle",a),Je(a,"popover",d);break;case"xlinkActuate":Fn(a,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":Fn(a,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":Fn(a,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":Fn(a,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":Fn(a,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":Fn(a,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":Fn(a,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":Fn(a,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":Fn(a,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":Je(a,"is",d);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=HM.get(l)||l,Je(a,l,d))}}function Wp(a,o,l,d,v,b){switch(l){case"style":B_(a,d,b);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(n(61));if(l=d.__html,l!=null){if(v.children!=null)throw Error(n(60));a.innerHTML=l}}break;case"children":typeof d=="string"?es(a,d):(typeof d=="number"||typeof d=="bigint")&&es(a,""+d);break;case"onScroll":d!=null&&We("scroll",a);break;case"onScrollEnd":d!=null&&We("scrollend",a);break;case"onClick":d!=null&&(a.onclick=xa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!se.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(v=l.endsWith("Capture"),o=l.slice(2,v?l.length-7:void 0),b=a[ir]||null,b=b!=null?b[l]:null,typeof b=="function"&&a.removeEventListener(o,b,v),typeof d=="function")){typeof b!="function"&&b!==null&&(l in a?a[l]=null:a.hasAttribute(l)&&a.removeAttribute(l)),a.addEventListener(o,d,v);break e}l in a?a[l]=d:d===!0?a.setAttribute(l,""):Je(a,l,d)}}}function Sr(a,o,l){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":We("error",a),We("load",a);var d=!1,v=!1,b;for(b in l)if(l.hasOwnProperty(b)){var E=l[b];if(E!=null)switch(b){case"src":d=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:mt(a,o,b,E,l,null)}}v&&mt(a,o,"srcSet",l.srcSet,l,null),d&&mt(a,o,"src",l.src,l,null);return;case"input":We("invalid",a);var N=b=E=v=null,z=null,V=null;for(d in l)if(l.hasOwnProperty(d)){var oe=l[d];if(oe!=null)switch(d){case"name":v=oe;break;case"type":E=oe;break;case"checked":z=oe;break;case"defaultChecked":V=oe;break;case"value":b=oe;break;case"defaultValue":N=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(n(137,o));break;default:mt(a,o,d,oe,l,null)}}z_(a,b,N,z,V,E,v,!1);return;case"select":We("invalid",a),d=E=b=null;for(v in l)if(l.hasOwnProperty(v)&&(N=l[v],N!=null))switch(v){case"value":b=N;break;case"defaultValue":E=N;break;case"multiple":d=N;default:mt(a,o,v,N,l,null)}o=b,l=E,a.multiple=!!d,o!=null?Jo(a,!!d,o,!1):l!=null&&Jo(a,!!d,l,!0);return;case"textarea":We("invalid",a),b=v=d=null;for(E in l)if(l.hasOwnProperty(E)&&(N=l[E],N!=null))switch(E){case"value":d=N;break;case"defaultValue":v=N;break;case"children":b=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(n(91));break;default:mt(a,o,E,N,l,null)}I_(a,d,v,b);return;case"option":for(z in l)if(l.hasOwnProperty(z)&&(d=l[z],d!=null))switch(z){case"selected":a.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:mt(a,o,z,d,l,null)}return;case"dialog":We("beforetoggle",a),We("toggle",a),We("cancel",a),We("close",a);break;case"iframe":case"object":We("load",a);break;case"video":case"audio":for(d=0;d<Yl.length;d++)We(Yl[d],a);break;case"image":We("error",a),We("load",a);break;case"details":We("toggle",a);break;case"embed":case"source":case"link":We("error",a),We("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(V in l)if(l.hasOwnProperty(V)&&(d=l[V],d!=null))switch(V){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:mt(a,o,V,d,l,null)}return;default:if(ch(o)){for(oe in l)l.hasOwnProperty(oe)&&(d=l[oe],d!==void 0&&Wp(a,o,oe,d,l,void 0));return}}for(N in l)l.hasOwnProperty(N)&&(d=l[N],d!=null&&mt(a,o,N,d,l,null))}function gR(a,o,l,d){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,b=null,E=null,N=null,z=null,V=null,oe=null;for(te in l){var de=l[te];if(l.hasOwnProperty(te)&&de!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":z=de;default:d.hasOwnProperty(te)||mt(a,o,te,null,d,de)}}for(var Z in d){var te=d[Z];if(de=l[Z],d.hasOwnProperty(Z)&&(te!=null||de!=null))switch(Z){case"type":b=te;break;case"name":v=te;break;case"checked":V=te;break;case"defaultChecked":oe=te;break;case"value":E=te;break;case"defaultValue":N=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(n(137,o));break;default:te!==de&&mt(a,o,Z,te,d,de)}}sh(a,E,N,z,V,oe,b,v);return;case"select":te=E=N=Z=null;for(b in l)if(z=l[b],l.hasOwnProperty(b)&&z!=null)switch(b){case"value":break;case"multiple":te=z;default:d.hasOwnProperty(b)||mt(a,o,b,null,d,z)}for(v in d)if(b=d[v],z=l[v],d.hasOwnProperty(v)&&(b!=null||z!=null))switch(v){case"value":Z=b;break;case"defaultValue":N=b;break;case"multiple":E=b;default:b!==z&&mt(a,o,v,b,d,z)}o=N,l=E,d=te,Z!=null?Jo(a,!!l,Z,!1):!!d!=!!l&&(o!=null?Jo(a,!!l,o,!0):Jo(a,!!l,l?[]:"",!1));return;case"textarea":te=Z=null;for(N in l)if(v=l[N],l.hasOwnProperty(N)&&v!=null&&!d.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:mt(a,o,N,null,d,v)}for(E in d)if(v=d[E],b=l[E],d.hasOwnProperty(E)&&(v!=null||b!=null))switch(E){case"value":Z=v;break;case"defaultValue":te=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(n(91));break;default:v!==b&&mt(a,o,E,v,d,b)}L_(a,Z,te);return;case"option":for(var Ae in l)if(Z=l[Ae],l.hasOwnProperty(Ae)&&Z!=null&&!d.hasOwnProperty(Ae))switch(Ae){case"selected":a.selected=!1;break;default:mt(a,o,Ae,null,d,Z)}for(z in d)if(Z=d[z],te=l[z],d.hasOwnProperty(z)&&Z!==te&&(Z!=null||te!=null))switch(z){case"selected":a.selected=Z&&typeof Z!="function"&&typeof Z!="symbol";break;default:mt(a,o,z,Z,d,te)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ze in l)Z=l[ze],l.hasOwnProperty(ze)&&Z!=null&&!d.hasOwnProperty(ze)&&mt(a,o,ze,null,d,Z);for(V in d)if(Z=d[V],te=l[V],d.hasOwnProperty(V)&&Z!==te&&(Z!=null||te!=null))switch(V){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(n(137,o));break;default:mt(a,o,V,Z,d,te)}return;default:if(ch(o)){for(var ht in l)Z=l[ht],l.hasOwnProperty(ht)&&Z!==void 0&&!d.hasOwnProperty(ht)&&Wp(a,o,ht,void 0,d,Z);for(oe in d)Z=d[oe],te=l[oe],!d.hasOwnProperty(oe)||Z===te||Z===void 0&&te===void 0||Wp(a,o,oe,Z,d,te);return}}for(var F in l)Z=l[F],l.hasOwnProperty(F)&&Z!=null&&!d.hasOwnProperty(F)&&mt(a,o,F,null,d,Z);for(de in d)Z=d[de],te=l[de],!d.hasOwnProperty(de)||Z===te||Z==null&&te==null||mt(a,o,de,Z,d,te)}function $j(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function vR(){if(typeof performance.getEntriesByType=="function"){for(var a=0,o=0,l=performance.getEntriesByType("resource"),d=0;d<l.length;d++){var v=l[d],b=v.transferSize,E=v.initiatorType,N=v.duration;if(b&&N&&$j(E)){for(E=0,N=v.responseEnd,d+=1;d<l.length;d++){var z=l[d],V=z.startTime;if(V>N)break;var oe=z.transferSize,de=z.initiatorType;oe&&$j(de)&&(z=z.responseEnd,E+=oe*(z<N?1:(N-V)/(z-V)))}if(--d,o+=8*(b+E)/(v.duration/1e3),a++,10<a)break}}if(0<a)return o/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var Xp=null,Zp=null;function dd(a){return a.nodeType===9?a:a.ownerDocument}function Hj(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Fj(a,o){if(a===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&o==="foreignObject"?0:a}function Qp(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Jp=null;function yR(){var a=window.event;return a&&a.type==="popstate"?a===Jp?!1:(Jp=a,!0):(Jp=null,!1)}var Kj=typeof setTimeout=="function"?setTimeout:void 0,bR=typeof clearTimeout=="function"?clearTimeout:void 0,Yj=typeof Promise=="function"?Promise:void 0,_R=typeof queueMicrotask=="function"?queueMicrotask:typeof Yj<"u"?function(a){return Yj.resolve(null).then(a).catch(xR)}:Kj;function xR(a){setTimeout(function(){throw a})}function Di(a){return a==="head"}function Gj(a,o){var l=o,d=0;do{var v=l.nextSibling;if(a.removeChild(l),v&&v.nodeType===8)if(l=v.data,l==="/$"||l==="/&"){if(d===0){a.removeChild(v),Ds(o);return}d--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")d++;else if(l==="html")Vl(a.ownerDocument.documentElement);else if(l==="head"){l=a.ownerDocument.head,Vl(l);for(var b=l.firstChild;b;){var E=b.nextSibling,N=b.nodeName;b[Zo]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&b.rel.toLowerCase()==="stylesheet"||l.removeChild(b),b=E}}else l==="body"&&Vl(a.ownerDocument.body);l=v}while(l);Ds(o)}function Vj(a,o){var l=a;a=0;do{var d=l.nextSibling;if(l.nodeType===1?o?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(o?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),d&&d.nodeType===8)if(l=d.data,l==="/$"){if(a===0)break;a--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||a++;l=d}while(l)}function eg(a){var o=a.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var l=o;switch(o=o.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":eg(l),Qo(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}a.removeChild(l)}}function wR(a,o,l,d){for(;a.nodeType===1;){var v=l;if(a.nodeName.toLowerCase()!==o.toLowerCase()){if(!d&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(d){if(!a[Zo])switch(o){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(b=a.getAttribute("rel"),b==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(b!==v.rel||a.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||a.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||a.getAttribute("title")!==(v.title==null?null:v.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(b=a.getAttribute("src"),(b!==(v.src==null?null:v.src)||a.getAttribute("type")!==(v.type==null?null:v.type)||a.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&b&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(o==="input"&&a.type==="hidden"){var b=v.name==null?null:""+v.name;if(v.type==="hidden"&&a.getAttribute("name")===b)return a}else return a;if(a=Dn(a.nextSibling),a===null)break}return null}function jR(a,o,l){if(o==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!l||(a=Dn(a.nextSibling),a===null))return null;return a}function Wj(a,o){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!o||(a=Dn(a.nextSibling),a===null))return null;return a}function tg(a){return a.data==="$?"||a.data==="$~"}function rg(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function SR(a,o){var l=a.ownerDocument;if(a.data==="$~")a._reactRetry=o;else if(a.data!=="$?"||l.readyState!=="loading")o();else{var d=function(){o(),l.removeEventListener("DOMContentLoaded",d)};l.addEventListener("DOMContentLoaded",d),a._reactRetry=d}}function Dn(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return a}var ng=null;function Xj(a){a=a.nextSibling;for(var o=0;a;){if(a.nodeType===8){var l=a.data;if(l==="/$"||l==="/&"){if(o===0)return Dn(a.nextSibling);o--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||o++}a=a.nextSibling}return null}function Zj(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var l=a.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(o===0)return a;o--}else l!=="/$"&&l!=="/&"||o++}a=a.previousSibling}return null}function Qj(a,o,l){switch(o=dd(l),a){case"html":if(a=o.documentElement,!a)throw Error(n(452));return a;case"head":if(a=o.head,!a)throw Error(n(453));return a;case"body":if(a=o.body,!a)throw Error(n(454));return a;default:throw Error(n(451))}}function Vl(a){for(var o=a.attributes;o.length;)a.removeAttributeNode(o[0]);Qo(a)}var Tn=new Map,Jj=new Set;function fd(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var za=I.d;I.d={f:ER,r:OR,D:CR,C:AR,L:NR,m:kR,X:TR,S:DR,M:PR};function ER(){var a=za.f(),o=nd();return a||o}function OR(a){var o=mi(a);o!==null&&o.tag===5&&o.type==="form"?gw(o):za.r(a)}var As=typeof document>"u"?null:document;function eS(a,o,l){var d=As;if(d&&typeof o=="string"&&o){var v=Sn(o);v='link[rel="'+a+'"][href="'+v+'"]',typeof l=="string"&&(v+='[crossorigin="'+l+'"]'),Jj.has(v)||(Jj.add(v),a={rel:a,crossOrigin:l,href:o},d.querySelector(v)===null&&(o=d.createElement("link"),Sr(o,"link",a),le(o),d.head.appendChild(o)))}}function CR(a){za.D(a),eS("dns-prefetch",a,null)}function AR(a,o){za.C(a,o),eS("preconnect",a,o)}function NR(a,o,l){za.L(a,o,l);var d=As;if(d&&a&&o){var v='link[rel="preload"][as="'+Sn(o)+'"]';o==="image"&&l&&l.imageSrcSet?(v+='[imagesrcset="'+Sn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(v+='[imagesizes="'+Sn(l.imageSizes)+'"]')):v+='[href="'+Sn(a)+'"]';var b=v;switch(o){case"style":b=Ns(a);break;case"script":b=ks(a)}Tn.has(b)||(a=p({rel:"preload",href:o==="image"&&l&&l.imageSrcSet?void 0:a,as:o},l),Tn.set(b,a),d.querySelector(v)!==null||o==="style"&&d.querySelector(Wl(b))||o==="script"&&d.querySelector(Xl(b))||(o=d.createElement("link"),Sr(o,"link",a),le(o),d.head.appendChild(o)))}}function kR(a,o){za.m(a,o);var l=As;if(l&&a){var d=o&&typeof o.as=="string"?o.as:"script",v='link[rel="modulepreload"][as="'+Sn(d)+'"][href="'+Sn(a)+'"]',b=v;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=ks(a)}if(!Tn.has(b)&&(a=p({rel:"modulepreload",href:a},o),Tn.set(b,a),l.querySelector(v)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Xl(b)))return}d=l.createElement("link"),Sr(d,"link",a),le(d),l.head.appendChild(d)}}}function DR(a,o,l){za.S(a,o,l);var d=As;if(d&&a){var v=K(d).hoistableStyles,b=Ns(a);o=o||"default";var E=v.get(b);if(!E){var N={loading:0,preload:null};if(E=d.querySelector(Wl(b)))N.loading=5;else{a=p({rel:"stylesheet",href:a,"data-precedence":o},l),(l=Tn.get(b))&&ag(a,l);var z=E=d.createElement("link");le(z),Sr(z,"link",a),z._p=new Promise(function(V,oe){z.onload=V,z.onerror=oe}),z.addEventListener("load",function(){N.loading|=1}),z.addEventListener("error",function(){N.loading|=2}),N.loading|=4,md(E,o,d)}E={type:"stylesheet",instance:E,count:1,state:N},v.set(b,E)}}}function TR(a,o){za.X(a,o);var l=As;if(l&&a){var d=K(l).hoistableScripts,v=ks(a),b=d.get(v);b||(b=l.querySelector(Xl(v)),b||(a=p({src:a,async:!0},o),(o=Tn.get(v))&&ig(a,o),b=l.createElement("script"),le(b),Sr(b,"link",a),l.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},d.set(v,b))}}function PR(a,o){za.M(a,o);var l=As;if(l&&a){var d=K(l).hoistableScripts,v=ks(a),b=d.get(v);b||(b=l.querySelector(Xl(v)),b||(a=p({src:a,async:!0,type:"module"},o),(o=Tn.get(v))&&ig(a,o),b=l.createElement("script"),le(b),Sr(b,"link",a),l.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},d.set(v,b))}}function tS(a,o,l,d){var v=(v=Ue.current)?fd(v):null;if(!v)throw Error(n(446));switch(a){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(o=Ns(l.href),l=K(v).hoistableStyles,d=l.get(o),d||(d={type:"style",instance:null,count:0,state:null},l.set(o,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){a=Ns(l.href);var b=K(v).hoistableStyles,E=b.get(a);if(E||(v=v.ownerDocument||v,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(a,E),(b=v.querySelector(Wl(a)))&&!b._p&&(E.instance=b,E.state.loading=5),Tn.has(a)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Tn.set(a,l),b||MR(v,a,l,E.state))),o&&d===null)throw Error(n(528,""));return E}if(o&&d!==null)throw Error(n(529,""));return null;case"script":return o=l.async,l=l.src,typeof l=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=ks(l),l=K(v).hoistableScripts,d=l.get(o),d||(d={type:"script",instance:null,count:0,state:null},l.set(o,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,a))}}function Ns(a){return'href="'+Sn(a)+'"'}function Wl(a){return'link[rel="stylesheet"]['+a+"]"}function rS(a){return p({},a,{"data-precedence":a.precedence,precedence:null})}function MR(a,o,l,d){a.querySelector('link[rel="preload"][as="style"]['+o+"]")?d.loading=1:(o=a.createElement("link"),d.preload=o,o.addEventListener("load",function(){return d.loading|=1}),o.addEventListener("error",function(){return d.loading|=2}),Sr(o,"link",l),le(o),a.head.appendChild(o))}function ks(a){return'[src="'+Sn(a)+'"]'}function Xl(a){return"script[async]"+a}function nS(a,o,l){if(o.count++,o.instance===null)switch(o.type){case"style":var d=a.querySelector('style[data-href~="'+Sn(l.href)+'"]');if(d)return o.instance=d,le(d),d;var v=p({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return d=(a.ownerDocument||a).createElement("style"),le(d),Sr(d,"style",v),md(d,l.precedence,a),o.instance=d;case"stylesheet":v=Ns(l.href);var b=a.querySelector(Wl(v));if(b)return o.state.loading|=4,o.instance=b,le(b),b;d=rS(l),(v=Tn.get(v))&&ag(d,v),b=(a.ownerDocument||a).createElement("link"),le(b);var E=b;return E._p=new Promise(function(N,z){E.onload=N,E.onerror=z}),Sr(b,"link",d),o.state.loading|=4,md(b,l.precedence,a),o.instance=b;case"script":return b=ks(l.src),(v=a.querySelector(Xl(b)))?(o.instance=v,le(v),v):(d=l,(v=Tn.get(b))&&(d=p({},l),ig(d,v)),a=a.ownerDocument||a,v=a.createElement("script"),le(v),Sr(v,"link",d),a.head.appendChild(v),o.instance=v);case"void":return null;default:throw Error(n(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(d=o.instance,o.state.loading|=4,md(d,l.precedence,a));return o.instance}function md(a,o,l){for(var d=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=d.length?d[d.length-1]:null,b=v,E=0;E<d.length;E++){var N=d[E];if(N.dataset.precedence===o)b=N;else if(b!==v)break}b?b.parentNode.insertBefore(a,b.nextSibling):(o=l.nodeType===9?l.head:l,o.insertBefore(a,o.firstChild))}function ag(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.title==null&&(a.title=o.title)}function ig(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.integrity==null&&(a.integrity=o.integrity)}var hd=null;function aS(a,o,l){if(hd===null){var d=new Map,v=hd=new Map;v.set(l,d)}else v=hd,d=v.get(l),d||(d=new Map,v.set(l,d));if(d.has(a))return d;for(d.set(a,null),l=l.getElementsByTagName(a),v=0;v<l.length;v++){var b=l[v];if(!(b[Zo]||b[Bt]||a==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var E=b.getAttribute(o)||"";E=a+E;var N=d.get(E);N?N.push(b):d.set(E,[b])}}return d}function iS(a,o,l){a=a.ownerDocument||a,a.head.insertBefore(l,o==="title"?a.querySelector("head > title"):null)}function RR(a,o,l){if(l===1||o.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return a=o.disabled,typeof o.precedence=="string"&&a==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function oS(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function qR(a,o,l,d){if(l.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var v=Ns(d.href),b=o.querySelector(Wl(v));if(b){o=b._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(a.count++,a=pd.bind(a),o.then(a,a)),l.state.loading|=4,l.instance=b,le(b);return}b=o.ownerDocument||o,d=rS(d),(v=Tn.get(v))&&ag(d,v),b=b.createElement("link"),le(b);var E=b;E._p=new Promise(function(N,z){E.onload=N,E.onerror=z}),Sr(b,"link",d),l.instance=b}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(l,o),(o=l.state.preload)&&(l.state.loading&3)===0&&(a.count++,l=pd.bind(a),o.addEventListener("load",l),o.addEventListener("error",l))}}var og=0;function zR(a,o){return a.stylesheets&&a.count===0&&vd(a,a.stylesheets),0<a.count||0<a.imgCount?function(l){var d=setTimeout(function(){if(a.stylesheets&&vd(a,a.stylesheets),a.unsuspend){var b=a.unsuspend;a.unsuspend=null,b()}},6e4+o);0<a.imgBytes&&og===0&&(og=62500*vR());var v=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&vd(a,a.stylesheets),a.unsuspend)){var b=a.unsuspend;a.unsuspend=null,b()}},(a.imgBytes>og?50:800)+o);return a.unsuspend=l,function(){a.unsuspend=null,clearTimeout(d),clearTimeout(v)}}:null}function pd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)vd(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var gd=null;function vd(a,o){a.stylesheets=null,a.unsuspend!==null&&(a.count++,gd=new Map,o.forEach(LR,a),gd=null,pd.call(a))}function LR(a,o){if(!(o.state.loading&4)){var l=gd.get(a);if(l)var d=l.get(null);else{l=new Map,gd.set(a,l);for(var v=a.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<v.length;b++){var E=v[b];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(l.set(E.dataset.precedence,E),d=E)}d&&l.set(null,d)}v=o.instance,E=v.getAttribute("data-precedence"),b=l.get(E)||d,b===d&&l.set(null,v),l.set(E,v),this.count++,d=pd.bind(this),v.addEventListener("load",d),v.addEventListener("error",d),b?b.parentNode.insertBefore(v,b.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(v,a.firstChild)),o.state.loading|=4}}var Zl={$$typeof:A,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function IR(a,o,l,d,v,b,E,N,z){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Bn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bn(0),this.hiddenUpdates=Bn(null),this.identifierPrefix=d,this.onUncaughtError=v,this.onCaughtError=b,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=z,this.incompleteTransitions=new Map}function sS(a,o,l,d,v,b,E,N,z,V,oe,de){return a=new IR(a,o,l,E,z,V,oe,de,N),o=1,b===!0&&(o|=24),b=nn(3,null,null,o),a.current=b,b.stateNode=a,o=Ih(),o.refCount++,a.pooledCache=o,o.refCount++,b.memoizedState={element:d,isDehydrated:l,cache:o},Hh(b),a}function lS(a){return a?(a=ss,a):ss}function cS(a,o,l,d,v,b){v=lS(v),d.context===null?d.context=v:d.pendingContext=v,d=_i(o),d.payload={element:l},b=b===void 0?null:b,b!==null&&(d.callback=b),l=xi(a,d,o),l!==null&&(Wr(l,a,o),Nl(l,a,o))}function uS(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var l=a.retryLane;a.retryLane=l!==0&&l<o?l:o}}function sg(a,o){uS(a,o),(a=a.alternate)&&uS(a,o)}function dS(a){if(a.tag===13||a.tag===31){var o=oo(a,67108864);o!==null&&Wr(o,a,67108864),sg(a,67108864)}}function fS(a){if(a.tag===13||a.tag===31){var o=cn();o=ul(o);var l=oo(a,o);l!==null&&Wr(l,a,o),sg(a,o)}}var yd=!0;function UR(a,o,l,d){var v=R.T;R.T=null;var b=I.p;try{I.p=2,lg(a,o,l,d)}finally{I.p=b,R.T=v}}function BR(a,o,l,d){var v=R.T;R.T=null;var b=I.p;try{I.p=8,lg(a,o,l,d)}finally{I.p=b,R.T=v}}function lg(a,o,l,d){if(yd){var v=cg(d);if(v===null)Vp(a,o,d,bd,l),hS(a,d);else if(HR(v,a,o,l,d))d.stopPropagation();else if(hS(a,d),o&4&&-1<$R.indexOf(a)){for(;v!==null;){var b=mi(v);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var E=wn(b.pendingLanes);if(E!==0){var N=b;for(N.pendingLanes|=2,N.entangledLanes|=2;E;){var z=1<<31-xt(E);N.entanglements[1]|=z,E&=~z}la(b),(ot&6)===0&&(td=Ye()+500,Kl(0))}}break;case 31:case 13:N=oo(b,2),N!==null&&Wr(N,b,2),nd(),sg(b,2)}if(b=cg(d),b===null&&Vp(a,o,d,bd,l),b===v)break;v=b}v!==null&&d.stopPropagation()}else Vp(a,o,d,null,l)}}function cg(a){return a=dh(a),ug(a)}var bd=null;function ug(a){if(bd=null,a=Hn(a),a!==null){var o=s(a);if(o===null)a=null;else{var l=o.tag;if(l===13){if(a=c(o),a!==null)return a;a=null}else if(l===31){if(a=u(o),a!==null)return a;a=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null)}}return bd=a,null}function mS(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Hr()){case _n:return 2;case Pr:return 8;case Ar:case fe:return 32;case rt:return 268435456;default:return 32}default:return 32}}var dg=!1,Ti=null,Pi=null,Mi=null,Ql=new Map,Jl=new Map,Ri=[],$R="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function hS(a,o){switch(a){case"focusin":case"focusout":Ti=null;break;case"dragenter":case"dragleave":Pi=null;break;case"mouseover":case"mouseout":Mi=null;break;case"pointerover":case"pointerout":Ql.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jl.delete(o.pointerId)}}function ec(a,o,l,d,v,b){return a===null||a.nativeEvent!==b?(a={blockedOn:o,domEventName:l,eventSystemFlags:d,nativeEvent:b,targetContainers:[v]},o!==null&&(o=mi(o),o!==null&&dS(o)),a):(a.eventSystemFlags|=d,o=a.targetContainers,v!==null&&o.indexOf(v)===-1&&o.push(v),a)}function HR(a,o,l,d,v){switch(o){case"focusin":return Ti=ec(Ti,a,o,l,d,v),!0;case"dragenter":return Pi=ec(Pi,a,o,l,d,v),!0;case"mouseover":return Mi=ec(Mi,a,o,l,d,v),!0;case"pointerover":var b=v.pointerId;return Ql.set(b,ec(Ql.get(b)||null,a,o,l,d,v)),!0;case"gotpointercapture":return b=v.pointerId,Jl.set(b,ec(Jl.get(b)||null,a,o,l,d,v)),!0}return!1}function pS(a){var o=Hn(a.target);if(o!==null){var l=s(o);if(l!==null){if(o=l.tag,o===13){if(o=c(l),o!==null){a.blockedOn=o,eo(a.priority,function(){fS(l)});return}}else if(o===31){if(o=u(l),o!==null){a.blockedOn=o,eo(a.priority,function(){fS(l)});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){a.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}a.blockedOn=null}function _d(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var l=cg(a.nativeEvent);if(l===null){l=a.nativeEvent;var d=new l.constructor(l.type,l);uh=d,l.target.dispatchEvent(d),uh=null}else return o=mi(l),o!==null&&dS(o),a.blockedOn=l,!1;o.shift()}return!0}function gS(a,o,l){_d(a)&&l.delete(o)}function FR(){dg=!1,Ti!==null&&_d(Ti)&&(Ti=null),Pi!==null&&_d(Pi)&&(Pi=null),Mi!==null&&_d(Mi)&&(Mi=null),Ql.forEach(gS),Jl.forEach(gS)}function xd(a,o){a.blockedOn===o&&(a.blockedOn=null,dg||(dg=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,FR)))}var wd=null;function vS(a){wd!==a&&(wd=a,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){wd===a&&(wd=null);for(var o=0;o<a.length;o+=3){var l=a[o],d=a[o+1],v=a[o+2];if(typeof d!="function"){if(ug(d||l)===null)continue;break}var b=mi(l);b!==null&&(a.splice(o,3),o-=3,cp(b,{pending:!0,data:v,method:l.method,action:d},d,v))}}))}function Ds(a){function o(z){return xd(z,a)}Ti!==null&&xd(Ti,a),Pi!==null&&xd(Pi,a),Mi!==null&&xd(Mi,a),Ql.forEach(o),Jl.forEach(o);for(var l=0;l<Ri.length;l++){var d=Ri[l];d.blockedOn===a&&(d.blockedOn=null)}for(;0<Ri.length&&(l=Ri[0],l.blockedOn===null);)pS(l),l.blockedOn===null&&Ri.shift();if(l=(a.ownerDocument||a).$$reactFormReplay,l!=null)for(d=0;d<l.length;d+=3){var v=l[d],b=l[d+1],E=v[ir]||null;if(typeof b=="function")E||vS(l);else if(E){var N=null;if(b&&b.hasAttribute("formAction")){if(v=b,E=b[ir]||null)N=E.formAction;else if(ug(v)!==null)continue}else N=E.action;typeof N=="function"?l[d+1]=N:(l.splice(d,3),d-=3),vS(l)}}}function yS(){function a(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(E){return v=E})},focusReset:"manual",scroll:"manual"})}function o(){v!==null&&(v(),v=null),d||setTimeout(l,20)}function l(){if(!d&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var d=!1,v=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(l,100),function(){d=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),v!==null&&(v(),v=null)}}}function fg(a){this._internalRoot=a}jd.prototype.render=fg.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(n(409));var l=o.current,d=cn();cS(l,d,a,o,null,null)},jd.prototype.unmount=fg.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;cS(a.current,2,null,a,null,null),nd(),o[aa]=null}};function jd(a){this._internalRoot=a}jd.prototype.unstable_scheduleHydration=function(a){if(a){var o=Ji();a={blockedOn:null,target:a,priority:o};for(var l=0;l<Ri.length&&o!==0&&o<Ri[l].priority;l++);Ri.splice(l,0,a),l===0&&pS(a)}};var bS=t.version;if(bS!=="19.2.0")throw Error(n(527,bS,"19.2.0"));I.findDOMNode=function(a){var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=h(o),a=a!==null?g(a):null,a=a===null?null:a.stateNode,a};var KR={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sd.isDisabled&&Sd.supportsFiber)try{Rr=Sd.inject(KR),vt=Sd}catch{}}return rc.createRoot=function(a,o){if(!i(a))throw Error(n(299));var l=!1,d="",v=Ow,b=Cw,E=Aw;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(v=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(E=o.onRecoverableError)),o=sS(a,1,!1,null,null,l,d,null,v,b,E,yS),a[aa]=o.current,Gp(a),new fg(o)},rc.hydrateRoot=function(a,o,l){if(!i(a))throw Error(n(299));var d=!1,v="",b=Ow,E=Cw,N=Aw,z=null;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onUncaughtError!==void 0&&(b=l.onUncaughtError),l.onCaughtError!==void 0&&(E=l.onCaughtError),l.onRecoverableError!==void 0&&(N=l.onRecoverableError),l.formState!==void 0&&(z=l.formState)),o=sS(a,1,!0,o,l??null,d,v,z,b,E,N,yS),o.context=lS(null),l=o.current,d=cn(),d=ul(d),v=_i(d),v.callback=null,xi(l,v,d),l=d,o.current.lanes=l,_a(o,l),la(o),a[aa]=o.current,Gp(a),new jd(o)},rc.version="19.2.0",rc}var CS;function Rq(){if(CS)return hg.exports;CS=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),hg.exports=Mq(),hg.exports}var qq=Rq();const zq=Ja(qq);var AS="popstate";function NS(e){return typeof e=="object"&&e!=null&&"pathname"in e&&"search"in e&&"hash"in e&&"state"in e&&"key"in e}function Lq(e={}){function t(n,i){let s=i.state?.masked,{pathname:c,search:u,hash:m}=s||n.location;return my("",{pathname:c,search:u,hash:m},i.state&&i.state.usr||null,i.state&&i.state.key||"default",s?{pathname:n.location.pathname,search:n.location.search,hash:n.location.hash}:void 0)}function r(n,i){return typeof i=="string"?i:wc(i)}return Uq(t,r,null,e)}function Pt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Jn(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Iq(){return Math.random().toString(36).substring(2,10)}function kS(e,t){return{usr:e.state,key:e.key,idx:t,masked:e.unstable_mask?{pathname:e.pathname,search:e.search,hash:e.hash}:void 0}}function my(e,t,r=null,n,i){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Ws(t):t,state:r,key:t&&t.key||n||Iq(),unstable_mask:i}}function wc({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ws(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function Uq(e,t,r,n={}){let{window:i=document.defaultView,v5Compat:s=!1}=n,c=i.history,u="POP",m=null,h=g();h==null&&(h=0,c.replaceState({...c.state,idx:h},""));function g(){return(c.state||{idx:null}).idx}function p(){u="POP";let S=g(),O=S==null?null:S-h;h=S,m&&m({action:u,location:j.location,delta:O})}function _(S,O){u="PUSH";let C=NS(S)?S:my(j.location,S,O);h=g()+1;let A=kS(C,h),k=j.createHref(C.unstable_mask||C);try{c.pushState(A,"",k)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;i.location.assign(k)}s&&m&&m({action:u,location:j.location,delta:1})}function x(S,O){u="REPLACE";let C=NS(S)?S:my(j.location,S,O);h=g();let A=kS(C,h),k=j.createHref(C.unstable_mask||C);c.replaceState(A,"",k),s&&m&&m({action:u,location:j.location,delta:0})}function w(S){return Bq(S)}let j={get action(){return u},get location(){return e(i,c)},listen(S){if(m)throw new Error("A history only accepts one active listener");return i.addEventListener(AS,p),m=S,()=>{i.removeEventListener(AS,p),m=null}},createHref(S){return t(i,S)},createURL:w,encodeLocation(S){let O=w(S);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:_,replace:x,go(S){return c.go(S)}};return j}function Bq(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Pt(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:wc(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function rN(e,t,r="/"){return $q(e,t,r,!1)}function $q(e,t,r,n){let i=typeof t=="string"?Ws(t):t,s=Ka(i.pathname||"/",r);if(s==null)return null;let c=nN(e);Hq(c);let u=null;for(let m=0;u==null&&m<c.length;++m){let h=ez(s);u=Qq(c[m],h,n)}return u}function nN(e,t=[],r=[],n="",i=!1){let s=(c,u,m=i,h)=>{let g={relativePath:h===void 0?c.path||"":h,caseSensitive:c.caseSensitive===!0,childrenIndex:u,route:c};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(n)&&m)return;Pt(g.relativePath.startsWith(n),`Absolute route path "${g.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(n.length)}let p=fa([n,g.relativePath]),_=r.concat(g);c.children&&c.children.length>0&&(Pt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),nN(c.children,t,_,p,m)),!(c.path==null&&!c.index)&&t.push({path:p,score:Xq(p,c.index),routesMeta:_})};return e.forEach((c,u)=>{if(c.path===""||!c.path?.includes("?"))s(c,u);else for(let m of aN(c.path))s(c,u,!0,m)}),t}function aN(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let c=aN(n.join("/")),u=[];return u.push(...c.map(m=>m===""?s:[s,m].join("/"))),i&&u.push(...c),u.map(m=>e.startsWith("/")&&m===""?"/":m)}function Hq(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Zq(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var Fq=/^:[\w-]+$/,Kq=3,Yq=2,Gq=1,Vq=10,Wq=-2,DS=e=>e==="*";function Xq(e,t){let r=e.split("/"),n=r.length;return r.some(DS)&&(n+=Wq),t&&(n+=Yq),r.filter(i=>!DS(i)).reduce((i,s)=>i+(Fq.test(s)?Kq:s===""?Gq:Vq),n)}function Zq(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function Qq(e,t,r=!1){let{routesMeta:n}=e,i={},s="/",c=[];for(let u=0;u<n.length;++u){let m=n[u],h=u===n.length-1,g=s==="/"?t:t.slice(s.length)||"/",p=mf({path:m.relativePath,caseSensitive:m.caseSensitive,end:h},g),_=m.route;if(!p&&h&&r&&!n[n.length-1].route.index&&(p=mf({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},g)),!p)return null;Object.assign(i,p.params),c.push({params:i,pathname:fa([s,p.pathname]),pathnameBase:az(fa([s,p.pathnameBase])),route:_}),p.pathnameBase!=="/"&&(s=fa([s,p.pathnameBase]))}return c}function mf(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Jq(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let s=i[0],c=s.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:n.reduce((h,{paramName:g,isOptional:p},_)=>{if(g==="*"){let w=u[_]||"";c=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const x=u[_];return p&&!x?h[g]=void 0:h[g]=(x||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:c,pattern:e}}function Jq(e,t=!1,r=!0){Jn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,m,h,g)=>{if(n.push({paramName:u,isOptional:m!=null}),m){let p=g.charAt(h+c.length);return p&&p!=="/"?"/([^\\/]*)":"(?:/([^\\/]*))?"}return"/([^\\/]+)"}).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function ez(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Jn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Ka(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}var tz=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function rz(e,t="/"){let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?Ws(e):e,s;return r?(r=r.replace(/\/\/+/g,"/"),r.startsWith("/")?s=TS(r.substring(1),"/"):s=TS(r,t)):s=t,{pathname:s,search:iz(n),hash:oz(i)}}function TS(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function vg(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function nz(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Eb(e){let t=nz(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function cm(e,t,r,n=!1){let i;typeof e=="string"?i=Ws(e):(i={...e},Pt(!i.pathname||!i.pathname.includes("?"),vg("?","pathname","search",i)),Pt(!i.pathname||!i.pathname.includes("#"),vg("#","pathname","hash",i)),Pt(!i.search||!i.search.includes("#"),vg("#","search","hash",i)));let s=e===""||i.pathname==="",c=s?"/":i.pathname,u;if(c==null)u=r;else{let p=t.length-1;if(!n&&c.startsWith("..")){let _=c.split("/");for(;_[0]==="..";)_.shift(),p-=1;i.pathname=_.join("/")}u=p>=0?t[p]:"/"}let m=rz(i,u),h=c&&c!=="/"&&c.endsWith("/"),g=(s||c===".")&&r.endsWith("/");return!m.pathname.endsWith("/")&&(h||g)&&(m.pathname+="/"),m}var fa=e=>e.join("/").replace(/\/\/+/g,"/"),az=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),iz=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,oz=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,sz=class{constructor(e,t,r,n=!1){this.status=e,this.statusText=t||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function lz(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function cz(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var iN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function oN(e,t){let r=e;if(typeof r!="string"||!tz.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let n=r,i=!1;if(iN)try{let s=new URL(window.location.href),c=r.startsWith("//")?new URL(s.protocol+r):new URL(r),u=Ka(c.pathname,t);c.origin===s.origin&&u!=null?r=u+c.search+c.hash:i=!0}catch{Jn(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:n,isExternal:i,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var sN=["POST","PUT","PATCH","DELETE"];new Set(sN);var uz=["GET",...sN];new Set(uz);var Xs=y.createContext(null);Xs.displayName="DataRouter";var um=y.createContext(null);um.displayName="DataRouterState";var dz=y.createContext(!1),lN=y.createContext({isTransitioning:!1});lN.displayName="ViewTransition";var fz=y.createContext(new Map);fz.displayName="Fetchers";var mz=y.createContext(null);mz.displayName="Await";var bn=y.createContext(null);bn.displayName="Navigation";var Ic=y.createContext(null);Ic.displayName="Location";var ra=y.createContext({outlet:null,matches:[],isDataRoute:!1});ra.displayName="Route";var Ob=y.createContext(null);Ob.displayName="RouteError";var cN="REACT_ROUTER_ERROR",hz="REDIRECT",pz="ROUTE_ERROR_RESPONSE";function gz(e){if(e.startsWith(`${cN}:${hz}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function vz(e){if(e.startsWith(`${cN}:${pz}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new sz(t.status,t.statusText,t.data)}catch{}}function yz(e,{relative:t}={}){Pt(Zs(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=y.useContext(bn),{hash:i,pathname:s,search:c}=Uc(e,{relative:t}),u=s;return r!=="/"&&(u=s==="/"?r:fa([r,s])),n.createHref({pathname:u,search:c,hash:i})}function Zs(){return y.useContext(Ic)!=null}function va(){return Pt(Zs(),"useLocation() may be used only in the context of a <Router> component."),y.useContext(Ic).location}var uN="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function dN(e){y.useContext(bn).static||y.useLayoutEffect(e)}function Cb(){let{isDataRoute:e}=y.useContext(ra);return e?Dz():bz()}function bz(){Pt(Zs(),"useNavigate() may be used only in the context of a <Router> component.");let e=y.useContext(Xs),{basename:t,navigator:r}=y.useContext(bn),{matches:n}=y.useContext(ra),{pathname:i}=va(),s=JSON.stringify(Eb(n)),c=y.useRef(!1);return dN(()=>{c.current=!0}),y.useCallback((m,h={})=>{if(Jn(c.current,uN),!c.current)return;if(typeof m=="number"){r.go(m);return}let g=cm(m,JSON.parse(s),i,h.relative==="path");e==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:fa([t,g.pathname])),(h.replace?r.replace:r.push)(g,h.state,h)},[t,r,s,i,e])}y.createContext(null);function fN(){let{matches:e}=y.useContext(ra),t=e[e.length-1];return t?t.params:{}}function Uc(e,{relative:t}={}){let{matches:r}=y.useContext(ra),{pathname:n}=va(),i=JSON.stringify(Eb(r));return y.useMemo(()=>cm(e,JSON.parse(i),n,t==="path"),[e,i,n,t])}function _z(e,t){return mN(e,t)}function mN(e,t,r){Pt(Zs(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:n}=y.useContext(bn),{matches:i}=y.useContext(ra),s=i[i.length-1],c=s?s.params:{},u=s?s.pathname:"/",m=s?s.pathnameBase:"/",h=s&&s.route;{let S=h&&h.path||"";pN(u,!h||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let g=va(),p;if(t){let S=typeof t=="string"?Ws(t):t;Pt(m==="/"||S.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${S.pathname}" was given in the \`location\` prop.`),p=S}else p=g;let _=p.pathname||"/",x=_;if(m!=="/"){let S=m.replace(/^\//,"").split("/");x="/"+_.replace(/^\//,"").split("/").slice(S.length).join("/")}let w=rN(e,{pathname:x});Jn(h||w!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),Jn(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=Ez(w&&w.map(S=>Object.assign({},S,{params:Object.assign({},c,S.params),pathname:fa([m,n.encodeLocation?n.encodeLocation(S.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?m:fa([m,n.encodeLocation?n.encodeLocation(S.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathnameBase])})),i,r);return t&&j?y.createElement(Ic.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",unstable_mask:void 0,...p},navigationType:"POP"}},j):j}function xz(){let e=kz(),t=lz(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=y.createElement(y.Fragment,null,y.createElement("p",null," Hey developer "),y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",y.createElement("code",{style:s},"ErrorBoundary")," or"," ",y.createElement("code",{style:s},"errorElement")," prop on your route.")),y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},t),r?y.createElement("pre",{style:i},r):null,c)}var wz=y.createElement(xz,null),hN=class extends y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const r=vz(e.digest);r&&(e=r)}let t=e!==void 0?y.createElement(ra.Provider,{value:this.props.routeContext},y.createElement(Ob.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?y.createElement(jz,{error:e},t):t}};hN.contextType=dz;var yg=new WeakMap;function jz({children:e,error:t}){let{basename:r}=y.useContext(bn);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let n=gz(t.digest);if(n){let i=yg.get(t);if(i)throw i;let s=oN(n.location,r);if(iN&&!yg.get(t))if(s.isExternal||n.reloadDocument)window.location.href=s.absoluteURL||s.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(s.to,{replace:n.replace}));throw yg.set(t,c),c}return y.createElement("meta",{httpEquiv:"refresh",content:`0;url=${s.absoluteURL||s.to}`})}}return e}function Sz({routeContext:e,match:t,children:r}){let n=y.useContext(Xs);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),y.createElement(ra.Provider,{value:e},r)}function Ez(e,t=[],r){let n=r?.state;if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,s=n?.errors;if(s!=null){let g=i.findIndex(p=>p.route.id&&s?.[p.route.id]!==void 0);Pt(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,g+1))}let c=!1,u=-1;if(r&&n){c=n.renderFallback;for(let g=0;g<i.length;g++){let p=i[g];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=g),p.route.id){let{loaderData:_,errors:x}=n,w=p.route.loader&&!_.hasOwnProperty(p.route.id)&&(!x||x[p.route.id]===void 0);if(p.route.lazy||w){r.isStatic&&(c=!0),u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}}let m=r?.onError,h=n&&m?(g,p)=>{m(g,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:cz(n.matches),errorInfo:p})}:void 0;return i.reduceRight((g,p,_)=>{let x,w=!1,j=null,S=null;n&&(x=s&&p.route.id?s[p.route.id]:void 0,j=p.route.errorElement||wz,c&&(u<0&&_===0?(pN("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,S=null):u===_&&(w=!0,S=p.route.hydrateFallbackElement||null)));let O=t.concat(i.slice(0,_+1)),C=()=>{let A;return x?A=j:w?A=S:p.route.Component?A=y.createElement(p.route.Component,null):p.route.element?A=p.route.element:A=g,y.createElement(Sz,{match:p,routeContext:{outlet:g,matches:O,isDataRoute:n!=null},children:A})};return n&&(p.route.ErrorBoundary||p.route.errorElement||_===0)?y.createElement(hN,{location:n.location,revalidation:n.revalidation,component:j,error:x,children:C(),routeContext:{outlet:null,matches:O,isDataRoute:!0},onError:h}):C()},null)}function Ab(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Oz(e){let t=y.useContext(Xs);return Pt(t,Ab(e)),t}function Cz(e){let t=y.useContext(um);return Pt(t,Ab(e)),t}function Az(e){let t=y.useContext(ra);return Pt(t,Ab(e)),t}function Nb(e){let t=Az(e),r=t.matches[t.matches.length-1];return Pt(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function Nz(){return Nb("useRouteId")}function kz(){let e=y.useContext(Ob),t=Cz("useRouteError"),r=Nb("useRouteError");return e!==void 0?e:t.errors?.[r]}function Dz(){let{router:e}=Oz("useNavigate"),t=Nb("useNavigate"),r=y.useRef(!1);return dN(()=>{r.current=!0}),y.useCallback(async(i,s={})=>{Jn(r.current,uN),r.current&&(typeof i=="number"?await e.navigate(i):await e.navigate(i,{fromRouteId:t,...s}))},[e,t])}var PS={};function pN(e,t,r){!t&&!PS[e]&&(PS[e]=!0,Jn(!1,r))}y.memo(Tz);function Tz({routes:e,future:t,state:r,isStatic:n,onError:i}){return mN(e,void 0,{state:r,isStatic:n,onError:i})}function _o({to:e,replace:t,state:r,relative:n}){Pt(Zs(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=y.useContext(bn);Jn(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=y.useContext(ra),{pathname:c}=va(),u=Cb(),m=cm(e,Eb(s),c,n==="path"),h=JSON.stringify(m);return y.useEffect(()=>{u(JSON.parse(h),{replace:t,state:r,relative:n})},[u,h,n,t,r]),null}function fn(e){Pt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Pz({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:i,static:s=!1,unstable_useTransitions:c}){Pt(!Zs(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=e.replace(/^\/*/,"/"),m=y.useMemo(()=>({basename:u,navigator:i,static:s,unstable_useTransitions:c,future:{}}),[u,i,s,c]);typeof r=="string"&&(r=Ws(r));let{pathname:h="/",search:g="",hash:p="",state:_=null,key:x="default",unstable_mask:w}=r,j=y.useMemo(()=>{let S=Ka(h,u);return S==null?null:{location:{pathname:S,search:g,hash:p,state:_,key:x,unstable_mask:w},navigationType:n}},[u,h,g,p,_,x,n,w]);return Jn(j!=null,`<Router basename="${u}"> is not able to match the URL "${h}${g}${p}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:y.createElement(bn.Provider,{value:m},y.createElement(Ic.Provider,{children:t,value:j}))}function Mz({children:e,location:t}){return _z(hy(e),t)}function hy(e,t=[]){let r=[];return y.Children.forEach(e,(n,i)=>{if(!y.isValidElement(n))return;let s=[...t,i];if(n.type===y.Fragment){r.push.apply(r,hy(n.props.children,s));return}Pt(n.type===fn,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Pt(!n.props.index||!n.props.children,"An index route cannot have child routes.");let c={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(c.children=hy(n.props.children,s)),r.push(c)}),r}var Qd="get",Jd="application/x-www-form-urlencoded";function dm(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function Rz(e){return dm(e)&&e.tagName.toLowerCase()==="button"}function qz(e){return dm(e)&&e.tagName.toLowerCase()==="form"}function zz(e){return dm(e)&&e.tagName.toLowerCase()==="input"}function Lz(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Iz(e,t){return e.button===0&&(!t||t==="_self")&&!Lz(e)}var Ed=null;function Uz(){if(Ed===null)try{new FormData(document.createElement("form"),0),Ed=!1}catch{Ed=!0}return Ed}var Bz=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function bg(e){return e!=null&&!Bz.has(e)?(Jn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Jd}"`),null):e}function $z(e,t){let r,n,i,s,c;if(qz(e)){let u=e.getAttribute("action");n=u?Ka(u,t):null,r=e.getAttribute("method")||Qd,i=bg(e.getAttribute("enctype"))||Jd,s=new FormData(e)}else if(Rz(e)||zz(e)&&(e.type==="submit"||e.type==="image")){let u=e.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=e.getAttribute("formaction")||u.getAttribute("action");if(n=m?Ka(m,t):null,r=e.getAttribute("formmethod")||u.getAttribute("method")||Qd,i=bg(e.getAttribute("formenctype"))||bg(u.getAttribute("enctype"))||Jd,s=new FormData(u,e),!Uz()){let{name:h,type:g,value:p}=e;if(g==="image"){let _=h?`${h}.`:"";s.append(`${_}x`,"0"),s.append(`${_}y`,"0")}else h&&s.append(h,p)}}else{if(dm(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Qd,n=null,i=Jd,c=e}return s&&i==="text/plain"&&(c=s,s=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:s,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function kb(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Hz(e,t,r,n){let i=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r?i.pathname.endsWith("/")?i.pathname=`${i.pathname}_.${n}`:i.pathname=`${i.pathname}.${n}`:i.pathname==="/"?i.pathname=`_root.${n}`:t&&Ka(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function Fz(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Kz(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Yz(e,t,r){let n=await Promise.all(e.map(async i=>{let s=t.routes[i.route.id];if(s){let c=await Fz(s,r);return c.links?c.links():[]}return[]}));return Xz(n.flat(1).filter(Kz).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function MS(e,t,r,n,i,s){let c=(m,h)=>r[h]?m.route.id!==r[h].route.id:!0,u=(m,h)=>r[h].pathname!==m.pathname||r[h].route.path?.endsWith("*")&&r[h].params["*"]!==m.params["*"];return s==="assets"?t.filter((m,h)=>c(m,h)||u(m,h)):s==="data"?t.filter((m,h)=>{let g=n.routes[m.route.id];if(!g||!g.hasLoader)return!1;if(c(m,h)||u(m,h))return!0;if(m.route.shouldRevalidate){let p=m.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function Gz(e,t,{includeHydrateFallback:r}={}){return Vz(e.map(n=>{let i=t.routes[n.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function Vz(e){return[...new Set(e)]}function Wz(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function Xz(e,t){let r=new Set;return new Set(t),e.reduce((n,i)=>{let s=JSON.stringify(Wz(i));return r.has(s)||(r.add(s),n.push({key:s,link:i})),n},[])}function gN(){let e=y.useContext(Xs);return kb(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Zz(){let e=y.useContext(um);return kb(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Db=y.createContext(void 0);Db.displayName="FrameworkContext";function vN(){let e=y.useContext(Db);return kb(e,"You must render this element inside a <HydratedRouter> element"),e}function Qz(e,t){let r=y.useContext(Db),[n,i]=y.useState(!1),[s,c]=y.useState(!1),{onFocus:u,onBlur:m,onMouseEnter:h,onMouseLeave:g,onTouchStart:p}=t,_=y.useRef(null);y.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let j=O=>{O.forEach(C=>{c(C.isIntersecting)})},S=new IntersectionObserver(j,{threshold:.5});return _.current&&S.observe(_.current),()=>{S.disconnect()}}},[e]),y.useEffect(()=>{if(n){let j=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(j)}}},[n]);let x=()=>{i(!0)},w=()=>{i(!1),c(!1)};return r?e!=="intent"?[s,_,{}]:[s,_,{onFocus:nc(u,x),onBlur:nc(m,w),onMouseEnter:nc(h,x),onMouseLeave:nc(g,w),onTouchStart:nc(p,x)}]:[!1,_,{}]}function nc(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function Jz({page:e,...t}){let{router:r}=gN(),n=y.useMemo(()=>rN(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?y.createElement(tL,{page:e,matches:n,...t}):null}function eL(e){let{manifest:t,routeModules:r}=vN(),[n,i]=y.useState([]);return y.useEffect(()=>{let s=!1;return Yz(e,t,r).then(c=>{s||i(c)}),()=>{s=!0}},[e,t,r]),n}function tL({page:e,matches:t,...r}){let n=va(),{future:i,manifest:s,routeModules:c}=vN(),{basename:u}=gN(),{loaderData:m,matches:h}=Zz(),g=y.useMemo(()=>MS(e,t,h,s,n,"data"),[e,t,h,s,n]),p=y.useMemo(()=>MS(e,t,h,s,n,"assets"),[e,t,h,s,n]),_=y.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let j=new Set,S=!1;if(t.forEach(C=>{let A=s.routes[C.route.id];!A||!A.hasLoader||(!g.some(k=>k.route.id===C.route.id)&&C.route.id in m&&c[C.route.id]?.shouldRevalidate||A.hasClientLoader?S=!0:j.add(C.route.id))}),j.size===0)return[];let O=Hz(e,u,i.unstable_trailingSlashAwareDataRequests,"data");return S&&j.size>0&&O.searchParams.set("_routes",t.filter(C=>j.has(C.route.id)).map(C=>C.route.id).join(",")),[O.pathname+O.search]},[u,i.unstable_trailingSlashAwareDataRequests,m,n,s,g,t,e,c]),x=y.useMemo(()=>Gz(p,s),[p,s]),w=eL(p);return y.createElement(y.Fragment,null,_.map(j=>y.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...r})),x.map(j=>y.createElement("link",{key:j,rel:"modulepreload",href:j,...r})),w.map(({key:j,link:S})=>y.createElement("link",{key:j,nonce:r.nonce,...S,crossOrigin:S.crossOrigin??r.crossOrigin})))}function rL(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var nL=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{nL&&(window.__reactRouterVersion="7.13.1")}catch{}function aL({basename:e,children:t,unstable_useTransitions:r,window:n}){let i=y.useRef();i.current==null&&(i.current=Lq({window:n,v5Compat:!0}));let s=i.current,[c,u]=y.useState({action:s.action,location:s.location}),m=y.useCallback(h=>{r===!1?u(h):y.startTransition(()=>u(h))},[r]);return y.useLayoutEffect(()=>s.listen(m),[s,m]),y.createElement(Pz,{basename:e,children:t,location:c.location,navigationType:c.action,navigator:s,unstable_useTransitions:r})}var yN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bN=y.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:i,reloadDocument:s,replace:c,unstable_mask:u,state:m,target:h,to:g,preventScrollReset:p,viewTransition:_,unstable_defaultShouldRevalidate:x,...w},j){let{basename:S,navigator:O,unstable_useTransitions:C}=y.useContext(bn),A=typeof g=="string"&&yN.test(g),k=oN(g,S);g=k.to;let D=yz(g,{relative:i}),M=va(),L=null;if(u){let q=cm(u,[],M.unstable_mask?M.unstable_mask.pathname:"/",!0);S!=="/"&&(q.pathname=q.pathname==="/"?S:fa([S,q.pathname])),L=O.createHref(q)}let[X,re,ae]=Qz(n,w),G=lL(g,{replace:c,unstable_mask:u,state:m,target:h,preventScrollReset:p,relative:i,viewTransition:_,unstable_defaultShouldRevalidate:x,unstable_useTransitions:C});function B(q){t&&t(q),q.defaultPrevented||G(q)}let ce=!(k.isExternal||s),ge=y.createElement("a",{...w,...ae,href:(ce?L:void 0)||k.absoluteURL||D,onClick:ce?B:t,ref:rL(j,re),target:h,"data-discover":!A&&r==="render"?"true":void 0});return X&&!A?y.createElement(y.Fragment,null,ge,y.createElement(Jz,{page:D})):ge});bN.displayName="Link";var iL=y.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:i=!1,style:s,to:c,viewTransition:u,children:m,...h},g){let p=Uc(c,{relative:h.relative}),_=va(),x=y.useContext(um),{navigator:w,basename:j}=y.useContext(bn),S=x!=null&&mL(p)&&u===!0,O=w.encodeLocation?w.encodeLocation(p).pathname:p.pathname,C=_.pathname,A=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;r||(C=C.toLowerCase(),A=A?A.toLowerCase():null,O=O.toLowerCase()),A&&j&&(A=Ka(A,j)||A);const k=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let D=C===O||!i&&C.startsWith(O)&&C.charAt(k)==="/",M=A!=null&&(A===O||!i&&A.startsWith(O)&&A.charAt(O.length)==="/"),L={isActive:D,isPending:M,isTransitioning:S},X=D?t:void 0,re;typeof n=="function"?re=n(L):re=[n,D?"active":null,M?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let ae=typeof s=="function"?s(L):s;return y.createElement(bN,{...h,"aria-current":X,className:re,ref:g,style:ae,to:c,viewTransition:u},typeof m=="function"?m(L):m)});iL.displayName="NavLink";var oL=y.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:i,state:s,method:c=Qd,action:u,onSubmit:m,relative:h,preventScrollReset:g,viewTransition:p,unstable_defaultShouldRevalidate:_,...x},w)=>{let{unstable_useTransitions:j}=y.useContext(bn),S=dL(),O=fL(u,{relative:h}),C=c.toLowerCase()==="get"?"get":"post",A=typeof u=="string"&&yN.test(u),k=D=>{if(m&&m(D),D.defaultPrevented)return;D.preventDefault();let M=D.nativeEvent.submitter,L=M?.getAttribute("formmethod")||c,X=()=>S(M||D.currentTarget,{fetcherKey:t,method:L,navigate:r,replace:i,state:s,relative:h,preventScrollReset:g,viewTransition:p,unstable_defaultShouldRevalidate:_});j&&r!==!1?y.startTransition(()=>X()):X()};return y.createElement("form",{ref:w,method:C,action:O,onSubmit:n?m:k,...x,"data-discover":!A&&e==="render"?"true":void 0})});oL.displayName="Form";function sL(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _N(e){let t=y.useContext(Xs);return Pt(t,sL(e)),t}function lL(e,{target:t,replace:r,unstable_mask:n,state:i,preventScrollReset:s,relative:c,viewTransition:u,unstable_defaultShouldRevalidate:m,unstable_useTransitions:h}={}){let g=Cb(),p=va(),_=Uc(e,{relative:c});return y.useCallback(x=>{if(Iz(x,t)){x.preventDefault();let w=r!==void 0?r:wc(p)===wc(_),j=()=>g(e,{replace:w,unstable_mask:n,state:i,preventScrollReset:s,relative:c,viewTransition:u,unstable_defaultShouldRevalidate:m});h?y.startTransition(()=>j()):j()}},[p,g,_,r,n,i,t,e,s,c,u,m,h])}var cL=0,uL=()=>`__${String(++cL)}__`;function dL(){let{router:e}=_N("useSubmit"),{basename:t}=y.useContext(bn),r=Nz(),n=e.fetch,i=e.navigate;return y.useCallback(async(s,c={})=>{let{action:u,method:m,encType:h,formData:g,body:p}=$z(s,t);if(c.navigate===!1){let _=c.fetcherKey||uL();await n(_,r,c.action||u,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:g,body:p,formMethod:c.method||m,formEncType:c.encType||h,flushSync:c.flushSync})}else await i(c.action||u,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:g,body:p,formMethod:c.method||m,formEncType:c.encType||h,replace:c.replace,state:c.state,fromRouteId:r,flushSync:c.flushSync,viewTransition:c.viewTransition})},[n,i,t,r])}function fL(e,{relative:t}={}){let{basename:r}=y.useContext(bn),n=y.useContext(ra);Pt(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),s={...Uc(e||".",{relative:t})},c=va();if(e==null){s.search=c.search;let u=new URLSearchParams(s.search),m=u.getAll("index");if(m.some(g=>g==="")){u.delete("index"),m.filter(p=>p).forEach(p=>u.append("index",p));let g=u.toString();s.search=g?`?${g}`:""}}return(!e||e===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(s.pathname=s.pathname==="/"?r:fa([r,s.pathname])),wc(s)}function mL(e,{relative:t}={}){let r=y.useContext(lN);Pt(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=_N("useViewTransitionState"),i=Uc(e,{relative:t});if(!r.isTransitioning)return!1;let s=Ka(r.currentLocation.pathname,n)||r.currentLocation.pathname,c=Ka(r.nextLocation.pathname,n)||r.nextLocation.pathname;return mf(i.pathname,c)!=null||mf(i.pathname,s)!=null}var xN=eN();function hL(e,t,r=[]){if(!e||!t)return{hasConflict:!1,conflicts:[]};const n=new Date(e._offlineModifiedAt||e.updated_at||0),i=new Date(t.updated_at||0),s=new Date(e._cachedAt||0);if(i<=s)return{hasConflict:!1,conflicts:[]};const c=[],u=r.length>0?r:Object.keys(e).filter(m=>!m.startsWith("_")&&m!=="id"&&m!=="created_at");for(const m of u){const h=e[m],g=t[m];if(h!==void 0&&g!==void 0&&!ef(h,g)){const p=e._cachedValues?.[m],_=p!==void 0?!ef(h,p):!0,x=p!==void 0?!ef(g,p):!0;_&&x&&c.push({field:m,localValue:h,serverValue:g,cachedValue:p})}}return{hasConflict:c.length>0,conflicts:c,localModifiedAt:n,serverUpdatedAt:i}}function ef(e,t){if(e===t)return!0;if(e==null||t==null)return e===t;if(typeof e!=typeof t)return!1;if(typeof e!="object")return e===t;if(Array.isArray(e)!==Array.isArray(t))return!1;const r=Object.keys(e),n=Object.keys(t);return r.length!==n.length?!1:r.every(i=>ef(e[i],t[i]))}const pL={KEEP_LOCAL:"keep_local",KEEP_SERVER:"keep_server",MERGE:"merge"};function gL(e,t=[]){const r={...e,_cachedAt:new Date().toISOString()};if(t.length>0){r._cachedValues={};for(const n of t)e[n]!==void 0&&(r._cachedValues[n]=JSON.parse(JSON.stringify(e[n])))}return r}function vL(e,t="record"){if(!e.hasConflict)return null;if(e.deletedOnServer)return{title:`${RS(t)} was deleted`,description:`This ${t} was deleted by another user while you were offline.`,severity:"warning",conflictCount:1};const r=e.conflicts.map(n=>n.field).join(", ");return{title:`${RS(t)} was modified`,description:`The following fields were changed by another user: ${r}`,severity:e.conflicts.length>2?"warning":"info",conflictCount:e.conflicts.length,fields:e.conflicts}}function RS(e){return e.charAt(0).toUpperCase()+e.slice(1)}const yL="fieldsync-offline",bL=2,tt={PROJECTS:"projects",AREAS:"areas",CREW_CHECKINS:"crew_checkins",TM_TICKETS:"tm_tickets",DAILY_REPORTS:"daily_reports",MESSAGES:"messages",PENDING_ACTIONS:"pending_actions",CACHED_DATA:"cached_data"};let Eo=null;const ti=()=>new Promise((e,t)=>{if(Eo){e(Eo);return}const r=indexedDB.open(yL,bL);r.onerror=()=>{console.error("Failed to open offline database"),t(r.error)},r.onsuccess=()=>{Eo=r.result,e(Eo)},r.onupgradeneeded=n=>{const i=n.target.result;if(i.objectStoreNames.contains(tt.PROJECTS)||i.createObjectStore(tt.PROJECTS,{keyPath:"id"}).createIndex("company_id","company_id",{unique:!1}),i.objectStoreNames.contains(tt.AREAS)||i.createObjectStore(tt.AREAS,{keyPath:"id"}).createIndex("project_id","project_id",{unique:!1}),i.objectStoreNames.contains(tt.CREW_CHECKINS)||i.createObjectStore(tt.CREW_CHECKINS,{keyPath:"id"}).createIndex("project_id","project_id",{unique:!1}),i.objectStoreNames.contains(tt.TM_TICKETS)||i.createObjectStore(tt.TM_TICKETS,{keyPath:"id"}).createIndex("project_id","project_id",{unique:!1}),i.objectStoreNames.contains(tt.DAILY_REPORTS)||i.createObjectStore(tt.DAILY_REPORTS,{keyPath:"id"}).createIndex("project_id","project_id",{unique:!1}),i.objectStoreNames.contains(tt.MESSAGES)||i.createObjectStore(tt.MESSAGES,{keyPath:"id"}).createIndex("project_id","project_id",{unique:!1}),!i.objectStoreNames.contains(tt.PENDING_ACTIONS)){const s=i.createObjectStore(tt.PENDING_ACTIONS,{keyPath:"id",autoIncrement:!0});s.createIndex("type","type",{unique:!1}),s.createIndex("created_at","created_at",{unique:!1})}i.objectStoreNames.contains(tt.CACHED_DATA)||i.createObjectStore(tt.CACHED_DATA,{keyPath:"key"})}}),Ko=(e,t="readonly")=>{if(!Eo)throw new Error("Database not initialized");return Eo.transaction(e,t).objectStore(e)},Bc=async(e,t)=>(await ti(),new Promise((r,n)=>{const s=Ko(e,"readwrite").put(t);s.onsuccess=()=>r(s.result),s.onerror=()=>n(s.error)})),wN=async(e,t)=>(await ti(),new Promise((r,n)=>{const i=Eo.transaction(e,"readwrite"),s=i.objectStore(e);t.forEach(c=>s.put(c)),i.oncomplete=()=>r(),i.onerror=()=>n(i.error)})),jN=async(e,t)=>(await ti(),new Promise((r,n)=>{const s=Ko(e).get(t);s.onsuccess=()=>r(s.result),s.onerror=()=>n(s.error)})),SN=async e=>(await ti(),new Promise((t,r)=>{const i=Ko(e).getAll();i.onsuccess=()=>t(i.result||[]),i.onerror=()=>r(i.error)})),Tb=async(e,t,r)=>(await ti(),new Promise((n,i)=>{const u=Ko(e).index(t).getAll(r);u.onsuccess=()=>n(u.result||[]),u.onerror=()=>i(u.error)})),_L=async(e,t)=>(await ti(),new Promise((r,n)=>{const s=Ko(e,"readwrite").delete(t);s.onsuccess=()=>r(),s.onerror=()=>n(s.error)})),Xt={UPDATE_AREA_STATUS:"UPDATE_AREA_STATUS",CREATE_TM_TICKET:"CREATE_TM_TICKET",SAVE_CREW_CHECKIN:"SAVE_CREW_CHECKIN",SUBMIT_DAILY_REPORT:"SUBMIT_DAILY_REPORT",SEND_MESSAGE:"SEND_MESSAGE",CREATE_MATERIAL_REQUEST:"CREATE_MATERIAL_REQUEST"},un=async(e,t,r={})=>{await ti();const n={type:e,payload:t,metadata:r,created_at:new Date().toISOString(),attempts:0,last_error:null};return new Promise((i,s)=>{const u=Ko(tt.PENDING_ACTIONS,"readwrite").add(n);u.onsuccess=()=>{i(u.result)},u.onerror=()=>s(u.error)})},EN=async()=>SN(tt.PENDING_ACTIONS),tf=async()=>(await EN()).length,qS=async e=>_L(tt.PENDING_ACTIONS,e),xL=async(e,t)=>(await ti(),new Promise((r,n)=>{const i=Ko(tt.PENDING_ACTIONS,"readwrite"),s=i.get(e);s.onsuccess=()=>{const c=s.result;if(c){const u={...c,...t},m=i.put(u);m.onsuccess=()=>r(u),m.onerror=()=>n(m.error)}else n(new Error("Action not found"))},s.onerror=()=>n(s.error)})),wL=async e=>wN(tt.PROJECTS,e),zS=async e=>e?Tb(tt.PROJECTS,"company_id",e):SN(tt.PROJECTS),jL=async e=>{const t=e.map(r=>gL(r,["status","weight","name"]));return wN(tt.AREAS,t)},LS=async e=>Tb(tt.AREAS,"project_id",e),_g=async(e,t)=>{const r=await jN(tt.AREAS,e);return r&&(r.status=t,r.updated_at=new Date().toISOString(),r._offlineModifiedAt=new Date().toISOString(),await Bc(tt.AREAS,r)),r},Od=async e=>Bc(tt.CREW_CHECKINS,e),IS=async e=>Bc(tt.TM_TICKETS,e),Xr=()=>{const e=new Uint8Array(6);crypto.getRandomValues(e);const t=Array.from(e,r=>r.toString(36)).join("");return`temp_${Date.now()}_${t}`},Ts=async e=>Bc(tt.DAILY_REPORTS,e),SL=async(e,t)=>(await Tb(tt.DAILY_REPORTS,"project_id",e)).find(n=>n.report_date===t)||null,US=async e=>Bc(tt.MESSAGES,e);let Pb=typeof navigator<"u"?navigator.onLine:!0;const py=new Set,Mb=e=>(py.add(e),()=>py.delete(e)),qn=()=>Pb,BS=e=>{Pb=e,py.forEach(t=>t(e))};typeof window<"u"&&(window.addEventListener("online",()=>{BS(!0)}),window.addEventListener("offline",()=>{BS(!1)}));let xg=!1;const ON=async(e,t={})=>{if(xg||!Pb)return{synced:0,failed:0,conflicts:[]};const{onConflict:r}=t;xg=!0;const n={synced:0,failed:0,conflicts:[]};try{const i=await EN();for(const s of i)try{if(s.payload?.id&&s.type===Xt.UPDATE_AREA_STATUS){const c=await EL(e,s.type,s.payload);if(c){const u=await jN(tt.AREAS,s.payload.areaId||s.payload.id);if(u){const m=hL(u,c,["status"]);if(m.hasConflict){const h=vL(m,"area");if(n.conflicts.push({action:s,conflict:m,summary:h}),r&&await r({action:s,conflict:m,summary:h})===pL.KEEP_SERVER){await qS(s.id);continue}}}}}await OL(s,e),await qS(s.id),n.synced++}catch(c){n.failed++,await xL(s.id,{attempts:(s.attempts||0)+1,last_error:c.message,last_attempt:new Date().toISOString()})}}finally{xg=!1}return n},EL=async(e,t,r)=>{try{switch(t){case Xt.UPDATE_AREA_STATUS:return e.getArea?await e.getArea(r.areaId):null;default:return null}}catch{return null}},OL=async(e,t)=>{const{type:r,payload:n}=e;switch(r){case Xt.UPDATE_AREA_STATUS:return t.updateAreaStatus(n.areaId,n.status);case Xt.CREATE_TM_TICKET:{const i=await t.createTMTicket(n.ticket);return n.workers?.length>0&&await t.addTMWorkers(i.id,n.workers),n.items?.length>0&&await t.addTMItems(i.id,n.items),i}case Xt.SAVE_CREW_CHECKIN:return t.saveCrewCheckin(n.projectId,n.workers,n.checkInDate);case Xt.SUBMIT_DAILY_REPORT:return await t.saveDailyReport(n.projectId,n.reportData),t.submitDailyReport(n.projectId,n.submittedBy);case Xt.SEND_MESSAGE:return t.sendMessage(n.projectId,n.senderType,n.senderName,n.content);case Xt.CREATE_MATERIAL_REQUEST:return t.createMaterialRequest(n.projectId,n.items,n.requestedBy,n.neededBy,n.priority,n.notes);default:throw new Error(`Unknown action type: ${r}`)}},Rb="",CN="",P=!!Rb,T=P?tN(Rb,CN):null,Cd={slowQueryThreshold:200,enableSupabase:P},Ke={query(e,t){const r={type:"query",operation:e,duration_ms:t.duration,rows_returned:t.rows,company_id:t.company_id||null,project_id:t.project_id||null,user_id:t.user_id||null,timestamp:new Date().toISOString()};Cd.enableSupabase&&t.duration>=Cd.slowQueryThreshold&&wg("query",r)},error(e,t){const r={type:"error",category:e,severity:t.severity||"error",error_code:t.code||null,message:t.message,company_id:t.company_id||null,user_id:t.user_id||null,project_id:t.project_id||null,operation:t.operation||null,context:t.extra||{},timestamp:new Date().toISOString()};Cd.enableSupabase&&wg("error",r)},storage(e,t){const r={type:"storage",operation:e,company_id:t.company_id||null,project_id:t.project_id||null,file_size_bytes:t.size||0,duration_ms:t.duration||0,success:t.success!==!1,error_message:t.error||null,timestamp:new Date().toISOString()};Cd.enableSupabase&&(!r.success||r.duration_ms>5e3)&&wg("storage",r)},activity(e,t){}};async function wg(e,t){if(T)try{e==="error"?await T.rpc("log_error",{p_severity:t.severity,p_category:t.category,p_message:t.message,p_company_id:t.company_id,p_user_id:t.user_id,p_project_id:t.project_id,p_operation:t.operation,p_error_code:t.error_code,p_context:t.context||{}}):e==="query"&&await T.rpc("log_query_metric",{p_operation:t.operation,p_duration_ms:t.duration_ms,p_rows_returned:t.rows_returned,p_company_id:t.company_id,p_project_id:t.project_id,p_user_id:t.user_id,p_context:{}})}catch{}}Ke.wrapQuery=function(e,t){return async function(...r){const n=performance.now();try{const i=await t.apply(this,r),c={duration:Math.round(performance.now()-n),rows:Array.isArray(i)?i.length:void 0};return Ke.query(e,c),i}catch(i){const s=Math.round(performance.now()-n);throw Ke.error("database",{message:i.message,operation:e,severity:"error",extra:{duration:s}}),i}}};Ke.time=async function(e,t){const r=performance.now();try{const n=await t(),i=Math.round(performance.now()-r);return Ke.query(e,{duration:i}),n}catch(n){throw Ke.error("general",{message:n.message,operation:e}),n}};const gy="fieldsync_field_session";let gc=null;const $c=()=>{if(gc)return gc;try{const e=sessionStorage.getItem(gy);if(e)return gc=JSON.parse(e),gc}catch{}return null},rf=e=>{gc=e,e?sessionStorage.setItem(gy,JSON.stringify(e)):sessionStorage.removeItem(gy)},vy=async()=>{const e=$c();if(e?.token&&P)try{await T.rpc("invalidate_field_session",{p_session_token:e.token})}catch{}rf(null)};let ac=null;const qb=()=>{const e=$c();return!e?.token||!P?T:((!ac||ac._sessionToken!==e.token)&&(ac=tN(Rb,CN,{global:{headers:{"x-field-session":e.token}}}),ac._sessionToken=e.token),ac)},Ui=()=>$c()?.token?qb():T,_e=()=>P?$c()?.token?qb():T:null,yy=()=>{const e=$c();return!!(e?.token&&e?.projectId)},by="fieldsync_data",hf="fieldsync_user",$S={projects:[],areas:[],users:[],assignments:[]},Oe=()=>{try{const e=localStorage.getItem(by);return e?JSON.parse(e):$S}catch{return localStorage.removeItem(by),$S}},Ge=e=>{localStorage.setItem(by,JSON.stringify(e))},Ad=()=>{try{const e=localStorage.getItem(hf);return e?JSON.parse(e):null}catch{return localStorage.removeItem(hf),null}},Nd=e=>{e?localStorage.setItem(hf,JSON.stringify(e)):localStorage.removeItem(hf)},CL={async createCOR(e,t=0){if(P){let r=e.cor_number;t>0&&(r=await this.getNextCORNumber(e.project_id));const{data:n,error:i}=await T.from("change_orders").insert({company_id:e.company_id,project_id:e.project_id,area_id:e.area_id||null,cor_number:r,title:e.title,description:e.description||"",scope_of_work:e.scope_of_work,period_start:e.period_start,period_end:e.period_end,status:"draft",labor_markup_percent:e.labor_markup_percent??1500,materials_markup_percent:e.materials_markup_percent??1500,equipment_markup_percent:e.equipment_markup_percent??1500,subcontractors_markup_percent:e.subcontractors_markup_percent??500,liability_insurance_percent:e.liability_insurance_percent??144,bond_percent:e.bond_percent??100,license_fee_percent:e.license_fee_percent??10,created_by:e.created_by||null}).select().single();if((i?.code==="23505"||i?.code==="PGRST116"||i?.status===409||i?.message?.includes("duplicate")||i?.message?.includes("unique_cor_number"))&&t<3)return console.warn(`COR number conflict, retrying with fresh number (attempt ${t+1})`),this.createCOR(e,t+1);if(i)throw i;return n}return null},async updateCOR(e,t){if(P){const{data:r,error:n}=await T.from("change_orders").update({...t,updated_at:new Date().toISOString()}).eq("id",e).select().single();if(n)throw n;return r}return null},async deleteCOR(e){if(P){const{error:t}=await T.from("change_orders").delete().eq("id",e);if(t)throw t}},async bulkUpdateCORGroup(e,t){if(P){const{error:r}=await T.from("change_orders").update({group_name:t,updated_at:new Date().toISOString()}).in("id",e);if(r)throw r.message?.includes("group_name")||r.code==="PGRST204"?new Error("COR grouping requires a database migration. Please run database/migration_cor_enhancements.sql in Supabase SQL Editor."):r}},async getCORs(e,t={}){if(P){let r=T.from("change_orders").select(`
          *,
          areas (id, name),
          labor_count:change_order_labor(count),
          materials_count:change_order_materials(count),
          equipment_count:change_order_equipment(count),
          subcontractors_count:change_order_subcontractors(count),
          tickets_count:change_order_ticket_associations(count)
        `).eq("project_id",e);t.status&&(r=r.eq("status",t.status)),t.area_id&&(r=r.eq("area_id",t.area_id)),t.date_start&&(r=r.gte("period_start",t.date_start)),t.date_end&&(r=r.lte("period_end",t.date_end)),r=r.order("created_at",{ascending:!1});const{data:n,error:i}=await r;if(i)throw i;return n}return[]},async getCORById(e){if(P){const{data:t,error:r}=await T.from("change_orders").select(`
          *,
          areas (id, name),
          change_order_labor (*),
          change_order_materials (*),
          change_order_equipment (*),
          change_order_subcontractors (*),
          change_order_ticket_associations (
            *,
            t_and_m_tickets (
              *,
              t_and_m_workers (*),
              t_and_m_items (
                *,
                materials_equipment (name, unit, cost_per_unit, category)
              )
            )
          )
        `).eq("id",e).single();if(r)throw r;return t}return null},async getCORsByArea(e,t){if(P){const{data:r,error:n}=await T.from("change_orders").select("*").eq("project_id",e).eq("area_id",t).order("created_at",{ascending:!1});if(n)throw n;return r}return[]},async getAssignableCORs(e){if(P){const t=_e();if(!t)return[];const{data:r,error:n}=await t.from("change_orders").select("id, cor_number, title, status, cor_total").eq("project_id",e).in("status",["draft","pending_approval","approved"]).order("cor_number",{ascending:!0});if(n)throw n;return r||[]}return[]},async getNextCORNumber(e){if(P){const{data:t,error:r}=await T.from("change_orders").select("cor_number").eq("project_id",e);if(r)throw r;if(t&&t.length>0){let n=0;for(const i of t){const s=i.cor_number?.match(/COR #(\d+)/);if(s){const c=parseInt(s[1]);c>n&&(n=c)}}return`COR #${n+1}`}return"COR #1"}return"COR #1"},async addCORLaborItem(e,t){if(P){const r=Math.round(t.regular_hours*t.regular_rate),n=Math.round(t.overtime_hours*t.overtime_rate),i=r+n,{data:s,error:c}=await T.from("change_order_labor").insert({change_order_id:e,labor_class:t.labor_class,wage_type:t.wage_type||"standard",regular_hours:t.regular_hours||0,overtime_hours:t.overtime_hours||0,regular_rate:t.regular_rate||0,overtime_rate:t.overtime_rate||0,regular_total:r,overtime_total:n,total:i,sort_order:t.sort_order||0,source_ticket_id:t.source_ticket_id||null}).select().single();if(c)throw c;return s}return null},async updateCORLaborItem(e,t){if(P){let r={...t};if(t.regular_hours!==void 0||t.regular_rate!==void 0||t.overtime_hours!==void 0||t.overtime_rate!==void 0){const{data:s}=await T.from("change_order_labor").select("regular_hours, overtime_hours, regular_rate, overtime_rate").eq("id",e).single(),c=t.regular_hours??s?.regular_hours??0,u=t.overtime_hours??s?.overtime_hours??0,m=t.regular_rate??s?.regular_rate??0,h=t.overtime_rate??s?.overtime_rate??0;r.regular_total=Math.round(c*m),r.overtime_total=Math.round(u*h),r.total=r.regular_total+r.overtime_total}const{data:n,error:i}=await T.from("change_order_labor").update(r).eq("id",e).select().single();if(i)throw i;return n}return null},async deleteCORLaborItem(e){if(P){const{error:t}=await T.from("change_order_labor").delete().eq("id",e);if(t)throw t}},async addCORMaterialItem(e,t){if(P){const n=["backup_sheet","invoice","mobilization","custom","field_ticket","rental"].includes(t.source_type)?t.source_type:"custom",i=Math.round(Number(t.unit_cost)||0),s=Number(t.quantity)||1,c=Math.round(s*i),{data:u,error:m}=await T.from("change_order_materials").insert({change_order_id:e,description:t.description||"",quantity:s,unit:t.unit||"each",unit_cost:i,total:c,source_type:n,source_reference:t.source_reference||null,source_ticket_id:t.source_ticket_id||null,sort_order:t.sort_order||0}).select().single();if(m)throw m;return u}return null},async updateCORMaterialItem(e,t){if(P){let r={...t};if(t.quantity!==void 0||t.unit_cost!==void 0){const{data:s}=await T.from("change_order_materials").select("quantity, unit_cost").eq("id",e).single(),c=t.quantity??s?.quantity??1,u=t.unit_cost??s?.unit_cost??0;r.total=Math.round(c*u)}const{data:n,error:i}=await T.from("change_order_materials").update(r).eq("id",e).select().single();if(i)throw i;return n}return null},async deleteCORMaterialItem(e){if(P){const{error:t}=await T.from("change_order_materials").delete().eq("id",e);if(t)throw t}},async addCOREquipmentItem(e,t){if(P){const n=["backup_sheet","invoice","custom","field_ticket","rental"].includes(t.source_type)?t.source_type:"custom",i=Math.round(Number(t.unit_cost)||0),s=Number(t.quantity)||1,c=Math.round(s*i),{data:u,error:m}=await T.from("change_order_equipment").insert({change_order_id:e,description:t.description||"",quantity:s,unit:t.unit||"day",unit_cost:i,total:c,source_type:n,source_reference:t.source_reference||null,source_ticket_id:t.source_ticket_id||null,sort_order:t.sort_order||0}).select().single();if(m)throw m;return u}return null},async updateCOREquipmentItem(e,t){if(P){let r={...t};if(t.quantity!==void 0||t.unit_cost!==void 0){const{data:s}=await T.from("change_order_equipment").select("quantity, unit_cost").eq("id",e).single(),c=t.quantity??s?.quantity??1,u=t.unit_cost??s?.unit_cost??0;r.total=Math.round(c*u)}const{data:n,error:i}=await T.from("change_order_equipment").update(r).eq("id",e).select().single();if(i)throw i;return n}return null},async deleteCOREquipmentItem(e){if(P){const{error:t}=await T.from("change_order_equipment").delete().eq("id",e);if(t)throw t}},async addCORSubcontractorItem(e,t){if(P){const r=Math.round(t.quantity*t.unit_cost),{data:n,error:i}=await T.from("change_order_subcontractors").insert({change_order_id:e,description:t.description,quantity:t.quantity||1,unit:t.unit||"lump sum",unit_cost:t.unit_cost||0,total:r,source_type:t.source_type||"custom",source_reference:t.source_reference||null,sort_order:t.sort_order||0}).select().single();if(i)throw i;return n}return null},async updateCORSubcontractorItem(e,t){if(P){let r={...t};if(t.quantity!==void 0||t.unit_cost!==void 0){const{data:s}=await T.from("change_order_subcontractors").select("quantity, unit_cost").eq("id",e).single(),c=t.quantity??s?.quantity??1,u=t.unit_cost??s?.unit_cost??0;r.total=Math.round(c*u)}const{data:n,error:i}=await T.from("change_order_subcontractors").update(r).eq("id",e).select().single();if(i)throw i;return n}return null},async deleteCORSubcontractorItem(e){if(P){const{error:t}=await T.from("change_order_subcontractors").delete().eq("id",e);if(t)throw t}},async addBulkLaborItems(e,t){if(P&&t.length>0){const r=_e();if(!r)throw new Error("Database client not available");const n=t.map((c,u)=>{const m=Math.round(c.regular_hours*c.regular_rate),h=Math.round(c.overtime_hours*c.overtime_rate);return{change_order_id:e,labor_class:c.labor_class,wage_type:c.wage_type||"standard",regular_hours:c.regular_hours||0,overtime_hours:c.overtime_hours||0,regular_rate:c.regular_rate||0,overtime_rate:c.overtime_rate||0,regular_total:m,overtime_total:h,total:m+h,sort_order:c.sort_order??u,source_ticket_id:c.source_ticket_id||null}}),{data:i,error:s}=await r.from("change_order_labor").insert(n).select();if(s)throw s;return i}return[]},async addBulkMaterialItems(e,t){if(P&&t.length>0){const r=_e();if(!r)throw new Error("Database client not available");const n=["backup_sheet","invoice","mobilization","custom","field_ticket","rental"],i=t.map((u,m)=>{const h=n.includes(u.source_type)?u.source_type:"custom",g=Math.round(Number(u.unit_cost)||0),p=Number(u.quantity)||1;return{change_order_id:e,description:u.description||"",quantity:p,unit:u.unit||"each",unit_cost:g,total:Math.round(p*g),source_type:h,source_reference:u.source_reference||null,source_ticket_id:u.source_ticket_id||null,sort_order:u.sort_order??m}}),{data:s,error:c}=await r.from("change_order_materials").insert(i).select();if(c)throw c;return s}return[]},async addBulkEquipmentItems(e,t){if(P&&t.length>0){const r=_e();if(!r)throw new Error("Database client not available");const n=["backup_sheet","invoice","custom","field_ticket","rental"],i=t.map((u,m)=>{const h=n.includes(u.source_type)?u.source_type:"custom",g=Math.round(Number(u.unit_cost)||0),p=Number(u.quantity)||1;return{change_order_id:e,description:u.description||"",quantity:p,unit:u.unit||"day",unit_cost:g,total:Math.round(p*g),source_type:h,source_reference:u.source_reference||null,source_ticket_id:u.source_ticket_id||null,sort_order:u.sort_order??m}}),{data:s,error:c}=await r.from("change_order_equipment").insert(i).select();if(c)throw c;return s}return[]},async addBulkSubcontractorItems(e,t){if(P&&t.length>0){const r=_e();if(!r)throw new Error("Database client not available");const n=t.map((c,u)=>({change_order_id:e,company_name:c.company_name||"",description:c.description||"",quantity:c.quantity||1,unit:c.unit||"lump sum",unit_cost:c.unit_cost||c.total||c.amount||0,total:c.total||c.amount||0,source_type:c.source_type||"invoice",source_reference:c.source_reference||null,sort_order:c.sort_order??u})),{data:i,error:s}=await r.from("change_order_subcontractors").insert(n).select();if(s)throw s;return i}return[]},async clearCORLineItems(e){if(!P)return;const t=_e();if(!t)throw new Error("Database client not available");try{const r=await Promise.all([t.from("change_order_labor").delete().eq("change_order_id",e),t.from("change_order_materials").delete().eq("change_order_id",e),t.from("change_order_equipment").delete().eq("change_order_id",e),t.from("change_order_subcontractors").delete().eq("change_order_id",e)]);for(const n of r)if(n.error)throw n.error}catch(r){throw console.error("Error clearing COR line items:",r),r}},async saveCORLineItems(e,{laborItems:t,materialItems:r,equipmentItems:n,subcontractorItems:i}){if(P){await this.clearCORLineItems(e);const s=await Promise.all([t?.length>0?this.addBulkLaborItems(e,t):[],r?.length>0?this.addBulkMaterialItems(e,r):[],n?.length>0?this.addBulkEquipmentItems(e,n):[],i?.length>0?this.addBulkSubcontractorItems(e,i):[]]);return{labor:s[0],materials:s[1],equipment:s[2],subcontractors:s[3]}}return null},async assignTicketToCOR(e,t){if(P){const{error:r}=await T.rpc("assign_ticket_to_cor",{p_ticket_id:e,p_cor_id:t});if(r)throw Ke.error("database",{message:r.message,operation:"assignTicketToCOR",extra:{ticketId:e,corId:t}}),r;return{ticket_id:e,change_order_id:t}}return null},async unassignTicketFromCOR(e,t){if(P){const{error:r}=await T.rpc("unassign_ticket_from_cor",{p_ticket_id:e,p_cor_id:t});if(r)throw Ke.error("database",{message:r.message,operation:"unassignTicketFromCOR",extra:{ticketId:e,corId:t}}),r}},async checkTicketCORIntegrity(){if(P){const{data:e,error:t}=await T.rpc("check_ticket_cor_integrity");if(t)throw t;return e||[]}return[]},async fixTicketCORIntegrity(){if(P){const{data:e,error:t}=await T.rpc("fix_ticket_cor_integrity");if(t)throw t;return e}return 0},async getTicketsForCOR(e){if(P){const{data:t,error:r}=await T.from("change_order_ticket_associations").select(`
          *,
          t_and_m_tickets (
            *,
            t_and_m_workers (*),
            t_and_m_items (
              *,
              materials_equipment (name, unit, cost_per_unit, category)
            )
          )
        `).eq("change_order_id",e);if(r)throw r;return t}return[]},async getUnassignedTickets(e){if(P){const{data:t,error:r}=await T.from("t_and_m_tickets").select(`
          *,
          t_and_m_workers (*),
          t_and_m_items (
            *,
            materials_equipment (name, unit, cost_per_unit, category)
          )
        `).eq("project_id",e).is("assigned_cor_id",null).order("work_date",{ascending:!1});if(r)throw r;return t}return[]},async importTicketDataToCOR(e,t,r,n,i){if(P){const s=_e();if(!s)throw new Error("Database client not available");const{data:c,error:u}=await s.from("t_and_m_tickets").select(`
          *,
          t_and_m_workers (*),
          t_and_m_items (
            *,
            materials_equipment (name, unit, cost_per_unit, category)
          )
        `).eq("id",e).single();if(u)throw u;const{data:m,error:h}=await s.from("labor_rates").select("*").eq("company_id",r).eq("work_type",n||"demolition").eq("job_type",i||"standard");if(h)throw h;const g={};m?.forEach(S=>{g[S.role.toLowerCase()]=S});const p={};c.t_and_m_workers?.forEach(S=>{const O=(S.role||"laborer").toLowerCase();p[O]||(p[O]={regular_hours:0,overtime_hours:0}),p[O].regular_hours+=parseFloat(S.hours)||0,p[O].overtime_hours+=parseFloat(S.overtime_hours)||0});const _=Object.entries(p).map(([S,O])=>{const C=g[S]||{regular_rate:0,overtime_rate:0},A=Math.round((parseFloat(C.regular_rate)||0)*100),k=Math.round((parseFloat(C.overtime_rate)||0)*100);return{labor_class:S.charAt(0).toUpperCase()+S.slice(1),wage_type:i||"standard",regular_hours:O.regular_hours,overtime_hours:O.overtime_hours,regular_rate:A,overtime_rate:k,source_ticket_id:e}});_.length>0&&await this.addBulkLaborItems(t,_);const x=[],w=[];c.t_and_m_items?.forEach(S=>{const O=S.custom_name||S.materials_equipment?.name||"Unknown Item",C=S.custom_category||S.materials_equipment?.category||"Other",A=S.materials_equipment?.unit||"each",k=Math.round((parseFloat(S.materials_equipment?.cost_per_unit)||0)*100),D={description:O,quantity:S.quantity||1,unit:A,unit_cost:k,source_type:"backup_sheet",source_ticket_id:e};C==="Equipment"?w.push(D):x.push(D)}),x.length>0&&await this.addBulkMaterialItems(t,x),w.length>0&&await this.addBulkEquipmentItems(t,w);const{error:j}=await s.from("change_order_ticket_associations").update({data_imported:!0,imported_at:new Date().toISOString(),import_status:"completed",import_failed_at:null,import_error:null}).eq("change_order_id",t).eq("ticket_id",e);if(j)throw j;return Ke.activity("cor_import_success",{ticket_id:e,cor_id:t,labor_count:_.length,material_count:x.length,equipment_count:w.length}),{laborItems:_,materialItems:x,equipmentItems:w}}return null},async reimportTicketDataToCOR(e,t,r,n,i){if(P){const s=_e();if(!s)throw new Error("Database client not available");return await s.from("change_order_labor").delete().eq("change_order_id",t).eq("source_ticket_id",e),await s.from("change_order_materials").delete().eq("change_order_id",t).eq("source_ticket_id",e),await s.from("change_order_equipment").delete().eq("change_order_id",t).eq("source_ticket_id",e),this.importTicketDataToCOR(e,t,r,n,i)}return null},async markImportFailed(e,t,r="Import failed"){if(P){const n=_e();if(!n)throw new Error("Database client not available");const{error:i}=await n.from("change_order_ticket_associations").update({import_status:"failed",import_failed_at:new Date().toISOString(),import_error:r}).eq("change_order_id",t).eq("ticket_id",e);if(i)throw Ke.error("database",{message:i.message,operation:"markImportFailed",extra:{ticketId:e,corId:t}}),i;Ke.error("cor_import_failed",{ticket_id:e,cor_id:t,error:r})}},async getTicketsNeedingImport(e){if(P){const{data:t,error:r}=await T.from("t_and_m_tickets").select(`
          id,
          work_date,
          ce_pco_number,
          assigned_cor_id,
          change_order_ticket_associations!inner (
            change_order_id,
            import_status,
            import_failed_at,
            import_error
          )
        `).eq("project_id",e).eq("change_order_ticket_associations.import_status","failed");if(r)throw r;return t||[]}return[]},async getTicketImportStatus(e,t){if(P){const{data:r,error:n}=await T.from("change_order_ticket_associations").select("import_status, import_failed_at, import_error, data_imported").eq("ticket_id",e).eq("change_order_id",t).single();if(n&&n.code!=="PGRST116")throw n;return r}return null},async recalculateCOR(e){if(P){const{error:t}=await T.rpc("recalculate_cor_totals",{cor_id:e});if(t)throw t;return this.getCORById(e)}return null},async updateCORMarkupPercentages(e,t){if(P){const r={};t.labor!==void 0&&(r.labor_markup_percent=t.labor),t.materials!==void 0&&(r.materials_markup_percent=t.materials),t.equipment!==void 0&&(r.equipment_markup_percent=t.equipment),t.subcontractors!==void 0&&(r.subcontractors_markup_percent=t.subcontractors);const{data:n,error:i}=await T.from("change_orders").update(r).eq("id",e).select().single();if(i)throw i;return n}return null},async updateCORFeePercentages(e,t){if(P){const r={};t.liabilityInsurance!==void 0&&(r.liability_insurance_percent=t.liabilityInsurance),t.bond!==void 0&&(r.bond_percent=t.bond),t.licenseFee!==void 0&&(r.license_fee_percent=t.licenseFee);const{data:n,error:i}=await T.from("change_orders").update(r).eq("id",e).select().single();if(i)throw i;return n}return null},async submitCORForApproval(e){if(P){const{data:t,error:r}=await T.from("change_orders").update({status:"pending_approval",submitted_at:new Date().toISOString()}).eq("id",e).select().single();if(r)throw r;return t}return null},async approveCOR(e,t){if(P){const{data:r,error:n}=await T.from("change_orders").update({status:"approved",approved_by:t,approved_at:new Date().toISOString()}).eq("id",e).select().single();if(n)throw n;return r}return null},async rejectCOR(e,t=null){if(P){const{data:r,error:n}=await T.from("change_orders").update({status:"rejected",rejection_reason:t}).eq("id",e).select().single();if(n)throw n;return r}return null},async markCORAsBilled(e){if(P){const{data:t,error:r}=await T.from("change_orders").update({status:"billed"}).eq("id",e).select().single();if(r)throw r;return t}return null},async closeCOR(e){if(P){const{data:t,error:r}=await T.from("change_orders").update({status:"closed"}).eq("id",e).select().single();if(r)throw r;return t}return null},async saveCORSignature(e,t,r){if(P){const{data:n,error:i}=await T.from("change_orders").update({gc_signature_data:t,gc_signature_name:r,gc_signature_date:new Date().toISOString(),status:"approved"}).eq("id",e).select().single();if(i)throw i;return n}return null},async getCORStats(e){if(P){const{data:t,error:r}=await T.from("change_orders").select("status, cor_total").eq("project_id",e);if(r)throw r;const n={total_cors:t.length,draft_count:0,pending_count:0,approved_count:0,rejected_count:0,billed_count:0,total_approved_value:0,total_pending_value:0,total_billed_value:0};return t.forEach(i=>{switch(i.status){case"draft":n.draft_count++;break;case"pending_approval":n.pending_count++,n.total_pending_value+=i.cor_total||0;break;case"approved":n.approved_count++,n.total_approved_value+=i.cor_total||0;break;case"rejected":n.rejected_count++;break;case"billed":case"closed":n.billed_count++,n.total_billed_value+=i.cor_total||0;break}}),n}return{total_cors:0,draft_count:0,pending_count:0,approved_count:0,rejected_count:0,billed_count:0,total_approved_value:0,total_pending_value:0,total_billed_value:0}},subscribeToCORs(e,t){return P?T.channel(`change_orders:${e}`).on("postgres_changes",{event:"*",schema:"public",table:"change_orders",filter:`project_id=eq.${e}`},t).subscribe():null},subscribeToCorTickets(e,t){return P?T.channel(`cor-tickets:${e}`).on("postgres_changes",{event:"*",schema:"public",table:"change_order_ticket_associations",filter:`change_order_id=eq.${e}`},t).subscribe():null},async getCORLog(e){if(P){const{data:t,error:r}=await T.from("cor_log_entries").select(`
          id,
          log_number,
          date_sent_to_client,
          ce_number,
          comments,
          created_at,
          updated_at,
          change_order:change_orders (
            id,
            cor_number,
            title,
            cor_total,
            status,
            created_at,
            approved_at,
            approved_by
          )
        `).eq("project_id",e).order("log_number",{ascending:!0});if(r)throw console.error("Error fetching COR log:",r),r;return(t||[]).map(n=>({id:n.id,logNumber:n.log_number,dateSentToClient:n.date_sent_to_client,ceNumber:n.ce_number,comments:n.comments,createdAt:n.created_at,updatedAt:n.updated_at,changeOrder:{id:n.change_order?.id,corNumber:n.change_order?.cor_number,title:n.change_order?.title,corTotal:n.change_order?.cor_total,status:n.change_order?.status,createdAt:n.change_order?.created_at,approvedAt:n.change_order?.approved_at,approvedBy:n.change_order?.approved_by}}))}return[]},async updateCORLogEntry(e,t){if(P){const r={updated_at:new Date().toISOString()};t.dateSentToClient!==void 0&&(r.date_sent_to_client=t.dateSentToClient||null),t.ceNumber!==void 0&&(r.ce_number=t.ceNumber||null),t.comments!==void 0&&(r.comments=t.comments||null);const{data:n,error:i}=await T.from("cor_log_entries").update(r).eq("id",e).select().single();if(i)throw console.error("Error updating COR log entry:",i),i;return n}return null},async updateChangeOrderStatus(e,t){if(P){const{data:r,error:n}=await T.from("change_orders").update({status:t,updated_at:new Date().toISOString()}).eq("id",e).select().single();if(n)throw console.error("Error updating change order status:",n),n;return r}return null},subscribeToCORLog(e,t){return P?T.channel(`cor-log:${e}`).on("postgres_changes",{event:"*",schema:"public",table:"cor_log_entries",filter:`project_id=eq.${e}`},t).subscribe():null},subscribeToDocuments(e,t){return P?T.channel(`documents:${e}`).on("postgres_changes",{event:"*",schema:"public",table:"documents",filter:`project_id=eq.${e}`},t).subscribe():null},subscribeToDocumentFolders(e,t){return P?T.channel(`document_folders:${e}`).on("postgres_changes",{event:"*",schema:"public",table:"document_folders",filter:`project_id=eq.${e}`},t).subscribe():null},subscribeToMaterialsEquipment(e,t){return P?T.channel(`materials_equipment:${e}`).on("postgres_changes",{event:"*",schema:"public",table:"materials_equipment",filter:`company_id=eq.${e}`},t).subscribe():null},subscribeToLaborRates(e,t){return P?T.channel(`labor_rates:${e}`).on("postgres_changes",{event:"*",schema:"public",table:"labor_rates",filter:`company_id=eq.${e}`},t).subscribe():null},subscribeToProject(e,t){return P?T.channel(`project:${e}`).on("postgres_changes",{event:"*",schema:"public",table:"projects",filter:`id=eq.${e}`},t).subscribe():null},subscribeToPunchList(e,t){return P?T.channel(`punch_list:${e}`).on("postgres_changes",{event:"*",schema:"public",table:"punch_list_items",filter:`project_id=eq.${e}`},t).subscribe():null},async createSignatureRequest(e,t,r,n,i=null,s=null){if(P){const c=_e();if(!c)throw new Error("Database client not available");const{data:u,error:m}=await c.rpc("generate_signature_token");if(m)throw m;const{data:h,error:g}=await c.from("signature_requests").insert({document_type:e,document_id:t,company_id:r,project_id:n,signature_token:u,expires_at:s,created_by:i}).select().single();if(g)throw g;return h}return null},async getSignatureRequestByToken(e){if(P){const t=_e();if(!t)throw new Error("Database client not available");await t.rpc("increment_signature_view_count",{token:e});const{data:r,error:n}=await t.from("signature_requests").select(`
          *,
          signatures (*)
        `).eq("signature_token",e).single();if(n)throw n;return r}return null},async getSignatureRequestsForDocument(e,t){if(P){const r=_e();if(!r)throw new Error("Database client not available");const{data:n,error:i}=await r.from("signature_requests").select(`
          *,
          signatures (*)
        `).eq("document_type",e).eq("document_id",t).order("created_at",{ascending:!1});if(i)throw i;return n||[]}return[]},async addSignature(e,t,r){if(P){const n=_e();if(!n)throw new Error("Database client not available");const{data:i,error:s}=await n.from("signatures").insert({signature_request_id:e,signature_slot:t,signature_image:r.signature,signer_name:r.signerName,signer_title:r.signerTitle||null,signer_company:r.signerCompany||null,signed_at:r.signedAt||new Date().toISOString(),ip_address:r.ipAddress||null,user_agent:r.userAgent||null}).select().single();if(s)throw s;return i}return null},async syncSignatureToDocument(e,t){if(!P)return null;const r=_e();if(!r)throw new Error("Database client not available");const{document_type:n,document_id:i}=t,s=e.signature_slot,c={};s===1?(c.gc_signature_data=e.signature_image,c.gc_signature_name=e.signer_name,c.gc_signature_title=e.signer_title,c.gc_signature_company=e.signer_company,c.gc_signature_date=e.signed_at,c.gc_signature_ip=e.ip_address):s===2&&(c.client_signature_data=e.signature_image,c.client_signature_name=e.signer_name,c.client_signature_title=e.signer_title,c.client_signature_company=e.signer_company,c.client_signature_date=e.signed_at,c.client_signature_ip=e.ip_address);const u=n==="cor"?"change_orders":"t_and_m_tickets",{data:m,error:h}=await r.from(u).update(c).eq("id",i).select().single();if(h)throw h;return m},async revokeSignatureRequest(e){if(P){const t=_e();if(!t)throw new Error("Database client not available");const{data:r,error:n}=await t.from("signature_requests").update({status:"revoked"}).eq("id",e).select().single();if(n)throw n;return r}return null},async getDocumentForSigning(e,t){if(!P)return null;const r=_e();if(!r)throw new Error("Database client not available");if(e==="cor"){const{data:n,error:i}=await r.from("change_orders").select(`
          *,
          projects (
            id,
            name,
            job_number,
            companies (
              id,
              name,
              logo_url
            )
          ),
          change_order_labor (*),
          change_order_materials (*),
          change_order_equipment (*),
          change_order_subcontractors (*)
        `).eq("id",t).single();if(i)throw i;return n}else if(e==="tm_ticket"){const{data:n,error:i}=await r.from("t_and_m_tickets").select(`
          *,
          projects (
            id,
            name,
            job_number,
            companies (
              id,
              name,
              logo_url
            )
          ),
          t_and_m_workers (*),
          t_and_m_items (
            *,
            materials_equipment (
              id,
              name,
              unit,
              cost_per_unit,
              category
            )
          )
        `).eq("id",t).single();if(i)throw i;return n}return null},async getProjectCosts(e){if(P){const{data:r,error:n}=await T.from("project_costs").select("*").eq("project_id",e).order("cost_date",{ascending:!1});return n?(console.error("Error fetching project costs:",n),[]):r||[]}return(Oe().projectCosts||[]).filter(r=>r.project_id===e).sort((r,n)=>new Date(n.cost_date)-new Date(r.cost_date))},async addProjectCost(e,t,r){const n={project_id:e,company_id:t,category:r.category,description:r.description,amount:parseFloat(r.amount),cost_date:r.cost_date||new Date().toISOString().split("T")[0],notes:r.notes||null,created_by:r.created_by||null};if(P){const{data:c,error:u}=await T.from("project_costs").insert(n).select().single();if(u)throw console.error("Error adding project cost:",u),u;return c}const i=Oe();i.projectCosts||(i.projectCosts=[]);const s={...n,id:crypto.randomUUID(),created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return i.projectCosts.push(s),Ge(i),s},async updateProjectCost(e,t){const r={category:t.category,description:t.description,amount:parseFloat(t.amount),cost_date:t.cost_date,notes:t.notes||null,updated_at:new Date().toISOString()};if(P){const{data:s,error:c}=await T.from("project_costs").update(r).eq("id",e).select().single();if(c)throw console.error("Error updating project cost:",c),c;return s}const n=Oe();if(!n.projectCosts)return null;const i=n.projectCosts.findIndex(s=>s.id===e);return i===-1?null:(n.projectCosts[i]={...n.projectCosts[i],...r},Ge(n),n.projectCosts[i])},async deleteProjectCost(e){if(P){const{error:r}=await T.from("project_costs").delete().eq("id",e);if(r)throw console.error("Error deleting project cost:",r),r;return!0}const t=Oe();return t.projectCosts&&(t.projectCosts=t.projectCosts.filter(r=>r.id!==e),Ge(t)),!0},async getProjectCostsSummary(e){const t=await this.getProjectCosts(e),r={};let n=0;return t.forEach(i=>{const s=parseFloat(i.amount)||0;n+=s,r[i.category]||(r[i.category]={category:i.category,total:0,count:0,items:[]}),r[i.category].total+=s,r[i.category].count++,r[i.category].items.push(i)}),Object.values(r).forEach(i=>{i.percentage=n>0?i.total/n*100:0}),{totalCost:n,byCategory:r,itemCount:t.length}},async getNextInvoiceNumber(e){if(P){const{data:t,error:r}=await T.rpc("get_next_invoice_number",{p_company_id:e});return r?(console.error("Error getting next invoice number:",r),this._generateLocalInvoiceNumber(e)):t}return this._generateLocalInvoiceNumber(e)},async _generateLocalInvoiceNumber(e){const r=(await this.getCompanyInvoices(e)).reduce((n,i)=>{const s=i.invoice_number?.match(/^INV-(\d+)$/);if(s){const c=parseInt(s[1],10);return c>n?c:n}return n},0);return`INV-${String(r+1).padStart(4,"0")}`},async getBillableItems(e){if(P){const{data:t,error:r}=await T.from("change_orders").select("id, cor_number, title, cor_total, status, approved_at").eq("project_id",e).eq("status","approved").order("cor_number",{ascending:!0});r&&console.error("Error fetching billable CORs:",r);const{data:n,error:i}=await T.from("t_and_m_tickets").select("id, work_date, ce_pco_number, change_order_value, status, client_signature_date").eq("project_id",e).eq("status","approved").not("client_signature_data","is",null).order("work_date",{ascending:!0});return i&&console.error("Error fetching billable T&M tickets:",i),{cors:t||[],tickets:n||[]}}return{cors:[],tickets:[]}},async getProjectInvoices(e){if(P){const{data:r,error:n}=await T.from("invoices").select(`
          *,
          invoice_items (*)
        `).eq("project_id",e).order("invoice_date",{ascending:!1});if(n)throw console.error("Error fetching project invoices:",n),n;return r||[]}return(Oe().invoices||[]).filter(r=>r.project_id===e)},async getCompanyInvoices(e){if(P){const{data:r,error:n}=await T.from("invoices").select("*").eq("company_id",e).order("invoice_date",{ascending:!1});if(n)throw console.error("Error fetching company invoices:",n),n;return r||[]}return(Oe().invoices||[]).filter(r=>r.company_id===e)},async createInvoice(e,t){if(P){const{data:i,error:s}=await T.from("invoices").insert({project_id:e.project_id,company_id:e.company_id,invoice_number:e.invoice_number,invoice_date:e.invoice_date,due_date:e.due_date,status:e.status||"draft",retention_percent:e.retention_percent||0,bill_to_name:e.bill_to_name,bill_to_address:e.bill_to_address,bill_to_contact:e.bill_to_contact,notes:e.notes,terms:e.terms||"Net 30",created_by:e.created_by}).select().single();if(s)throw console.error("Error creating invoice:",s),s;if(t&&t.length>0){const c=t.map((m,h)=>({invoice_id:i.id,item_type:m.item_type,reference_id:m.reference_id,reference_number:m.reference_number,description:m.description,amount:m.amount,sort_order:h})),{error:u}=await T.from("invoice_items").insert(c);if(u)throw console.error("Error creating invoice items:",u),await T.from("invoices").delete().eq("id",i.id),u}return this.getInvoice(i.id)}const r=Oe();r.invoices||(r.invoices=[]);const n={...e,id:Xr(),created_at:new Date().toISOString(),invoice_items:t||[]};return r.invoices.push(n),Ge(r),n},async getInvoice(e){if(P){const{data:r,error:n}=await T.from("invoices").select(`
          *,
          invoice_items (*)
        `).eq("id",e).single();if(n)throw console.error("Error fetching invoice:",n),n;return r}return(Oe().invoices||[]).find(r=>r.id===e)},async updateInvoice(e,t){if(P){const{data:i,error:s}=await T.from("invoices").update(t).eq("id",e).select().single();if(s)throw console.error("Error updating invoice:",s),s;return i}const r=Oe(),n=(r.invoices||[]).findIndex(i=>i.id===e);return n>=0?(r.invoices[n]={...r.invoices[n],...t},Ge(r),r.invoices[n]):null},async markInvoiceSent(e){return this.updateInvoice(e,{status:"sent",sent_at:new Date().toISOString()})},async recordInvoicePayment(e,t){const r=await this.getInvoice(e);if(!r)throw new Error("Invoice not found");const n=(r.amount_paid||0)+t,i=n>=r.total;return this.updateInvoice(e,{amount_paid:n,status:i?"paid":"partial",paid_at:i?new Date().toISOString():null})},async deleteInvoice(e){if(P){const{error:r}=await T.from("invoices").delete().eq("id",e).eq("status","draft");if(r)throw console.error("Error deleting invoice:",r),r;return!0}const t=Oe();return t.invoices=(t.invoices||[]).filter(r=>r.id!==e),Ge(t),!0},async markItemsBilled(e=[],t=[]){if(P){if(e.length>0){const{error:r}=await T.from("change_orders").update({status:"billed"}).in("id",e);r&&console.error("Error marking CORs as billed:",r)}if(t.length>0){const{error:r}=await T.from("t_and_m_tickets").update({status:"billed"}).in("id",t);r&&console.error("Error marking T&M tickets as billed:",r)}}}},AL={async getCompanyEquipment(e,t=!0){if(!P)return console.warn("Supabase not configured"),[];let r=T.from("equipment").select("*").eq("company_id",e).order("name");t&&(r=r.eq("is_active",!0));const{data:n,error:i}=await r;return i?(console.error("Error fetching company equipment:",i),[]):n||[]},async createEquipment(e){if(!P)return console.warn("Supabase not configured"),null;const{data:t,error:r}=await T.from("equipment").insert(e).select().single();if(r)throw console.error("Error creating equipment:",r),r;return t},async updateEquipment(e,t){if(!P)return console.warn("Supabase not configured"),null;const{data:r,error:n}=await T.from("equipment").update(t).eq("id",e).select().single();if(n)throw console.error("Error updating equipment:",n),n;return r},async deactivateEquipment(e){return this.updateEquipment(e,{is_active:!1})},async getProjectEquipment(e){if(!P)return console.warn("Supabase not configured"),[];const{data:t,error:r}=await T.from("project_equipment").select(`
        *,
        equipment:equipment_id (
          id,
          name,
          description,
          is_owned
        )
      `).eq("project_id",e).order("start_date",{ascending:!1});return r?(console.error("Error fetching project equipment:",r),[]):t||[]},async getActiveProjectEquipment(e){if(!P)return console.warn("Supabase not configured"),[];const{data:t,error:r}=await T.from("project_equipment").select(`
        *,
        equipment:equipment_id (
          id,
          name,
          description,
          is_owned
        )
      `).eq("project_id",e).is("end_date",null).order("start_date",{ascending:!1});return r?(console.error("Error fetching active project equipment:",r),[]):t||[]},async addEquipmentToProject(e){if(!P)return console.warn("Supabase not configured"),null;const{data:t,error:r}=await T.from("project_equipment").insert(e).select(`
        *,
        equipment:equipment_id (
          id,
          name,
          description,
          is_owned
        )
      `).single();if(r)throw console.error("Error adding equipment to project:",r),r;return t},async updateProjectEquipment(e,t){if(!P)return console.warn("Supabase not configured"),null;const{data:r,error:n}=await T.from("project_equipment").update(t).eq("id",e).select(`
        *,
        equipment:equipment_id (
          id,
          name,
          description,
          is_owned
        )
      `).single();if(n)throw console.error("Error updating project equipment:",n),n;return r},async markEquipmentReturned(e,t=null){return this.updateProjectEquipment(e,{end_date:t||new Date().toISOString().split("T")[0]})},async removeEquipmentFromProject(e){if(!P)return console.warn("Supabase not configured"),!1;const{error:t}=await T.from("project_equipment").delete().eq("id",e);if(t)throw console.error("Error removing project equipment:",t),t;return!0},calculateProjectEquipmentCost(e){const t=new Date;return t.setHours(0,0,0,0),e.reduce((r,n)=>{const i=new Date(n.start_date);i.setHours(0,0,0,0);let s;n.end_date?(s=new Date(n.end_date),s.setHours(0,0,0,0)):s=t;const c=Math.max(1,Math.floor((s-i)/(1e3*60*60*24))+1);return r+n.daily_rate*c},0)},calculateDaysOnSite(e,t=null){const r=new Date(e);r.setHours(0,0,0,0);let n;return t?n=new Date(t):n=new Date,n.setHours(0,0,0,0),Math.max(1,Math.floor((n-r)/(1e3*60*60*24))+1)}},NL={async getNextDrawNumber(e){if(!P)return console.warn("Supabase not configured"),1;const{data:t,error:r}=await T.from("draw_requests").select("draw_number").eq("project_id",e).order("draw_number",{ascending:!1}).limit(1).single();return r&&r.code!=="PGRST116"&&console.error("Error getting next draw number:",r),(t?.draw_number||0)+1},async getPreviousBillingTotals(e){if(!P)return console.warn("Supabase not configured"),{totalBilled:0,totalRetention:0};const{data:t,error:r}=await T.from("draw_requests").select("current_billing, retention_held").eq("project_id",e).in("status",["submitted","approved","paid"]);if(r)return console.error("Error getting previous billing totals:",r),{totalBilled:0,totalRetention:0};const n=(t||[]).reduce((s,c)=>s+(c.current_billing||0),0),i=t?.length>0?Math.max(...t.map(s=>s.retention_held||0)):0;return{totalBilled:n,totalRetention:i}},async getProjectDrawRequests(e){if(!P)return console.warn("Supabase not configured"),[];const{data:t,error:r}=await T.from("draw_requests").select("*").eq("project_id",e).order("draw_number",{ascending:!1});return r?(console.error("Error fetching draw requests:",r),[]):t||[]},async getDrawRequest(e){if(!P)return console.warn("Supabase not configured"),null;const{data:t,error:r}=await T.from("draw_requests").select(`
        *,
        draw_request_items (
          *
        )
      `).eq("id",e).single();return r?(console.error("Error fetching draw request:",r),null):t},async createDrawRequest(e,t){if(!P)return console.warn("Supabase not configured"),null;const{data:r,error:n}=await T.from("draw_requests").insert(e).select().single();if(n)throw console.error("Error creating draw request:",n),n;if(t&&t.length>0){const i=t.map((c,u)=>({...c,draw_request_id:r.id,sort_order:u})),{error:s}=await T.from("draw_request_items").insert(i);s&&console.error("Error creating draw request items:",s)}return this.getDrawRequest(r.id)},async updateDrawRequest(e,t){if(!P)return console.warn("Supabase not configured"),null;const{data:r,error:n}=await T.from("draw_requests").update(t).eq("id",e).select().single();if(n)throw console.error("Error updating draw request:",n),n;return r},async updateDrawRequestStatus(e,t){const r={status:t};return t==="submitted"?r.submitted_at=new Date().toISOString():t==="approved"?r.approved_at=new Date().toISOString():t==="paid"&&(r.paid_at=new Date().toISOString()),this.updateDrawRequest(e,r)},async updateDrawRequestItems(e,t){if(!P)return console.warn("Supabase not configured"),!1;const{error:r}=await T.from("draw_request_items").delete().eq("draw_request_id",e);if(r)throw console.error("Error deleting old draw request items:",r),r;if(t&&t.length>0){const n=t.map((s,c)=>({...s,draw_request_id:e,sort_order:c})),{error:i}=await T.from("draw_request_items").insert(n);if(i)throw console.error("Error inserting draw request items:",i),i}return!0},async deleteDrawRequest(e){if(!P)return console.warn("Supabase not configured"),!1;const{error:t}=await T.from("draw_requests").delete().eq("id",e);if(t)throw console.error("Error deleting draw request:",t),t;return!0},async getScheduleOfValues(e){if(!P)return console.warn("Supabase not configured"),[];const{data:t,error:r}=await T.from("areas").select("id, name, square_footage, price_per_sqft").eq("project_id",e).order("created_at");return r?(console.error("Error fetching schedule of values:",r),[]):(t||[]).map((n,i)=>({area_id:n.id,item_number:String(i+1),description:n.name,scheduled_value:Math.round((n.square_footage||0)*(n.price_per_sqft||0)*100)}))},async getPreviousDrawItems(e){if(!P)return console.warn("Supabase not configured"),{};const{data:t,error:r}=await T.from("draw_requests").select("id").eq("project_id",e).in("status",["submitted","approved","paid"]).order("draw_number",{ascending:!1}).limit(1).single();if(r&&r.code!=="PGRST116")return console.error("Error fetching latest draw:",r),{};if(!t)return{};const{data:n,error:i}=await T.from("draw_request_items").select("area_id, total_percent, total_amount").eq("draw_request_id",t.id);return i?(console.error("Error fetching previous draw items:",i),{}):(n||[]).reduce((s,c)=>(c.area_id&&(s[c.area_id]={previous_percent:c.total_percent||0,previous_amount:c.total_amount||0}),s),{})},calculatePercentFromAmount(e,t){return!t||t===0?0:Math.round(e/t*1e4)},calculateAmountFromPercent(e,t){return Math.round(e/1e4*t)}};typeof window<"u"&&ti().catch(e=>console.error("Failed to init offline DB:",e));const jg=()=>{const e="fieldsync_device_id";let t=localStorage.getItem(e);return t||(t=crypto.randomUUID(),localStorage.setItem(e,t)),t},nf={async signUp(e,t,r,n){if(P){const{data:i,error:s}=await T.auth.signUp({email:e,password:t,options:{data:{name:r,role:n}}});if(s)throw s;return i}else{const i=Oe(),s={id:crypto.randomUUID(),email:e,name:r,role:n,created_at:new Date().toISOString()};return i.users.push(s),Ge(i),Nd(s),{user:s}}},async signIn(e,t){if(P){const{data:r,error:n}=await T.auth.signInWithPassword({email:e,password:t});if(n)throw n;return r}else{const n=Oe().users.find(i=>i.email===e);if(!n)throw new Error("User not found");return Nd(n),{user:n}}},async signOut(){if(P){const{error:e}=await T.auth.signOut();if(e)throw e}else Nd(null)},async getUser(){if(P){const{data:{user:e}}=await T.auth.getUser();return e}else return Ad()},async getProfile(){if(P){const{data:{user:e}}=await T.auth.getUser();if(!e)return null;const{data:t,error:r}=await T.from("users").select("*").eq("id",e.id).single();return r?{id:e.id,email:e.email,name:e.user_metadata?.name||"",role:e.user_metadata?.role||"foreman"}:t}else return Ad()},async updateRole(e,t){if(P){const{data:r,error:n}=await T.from("users").update({role:t}).eq("id",e).select().single();if(n)throw n;return r}else{const r=Oe(),n=r.users.find(i=>i.id===e);return n&&(n.role=t,Ge(r),Ad()?.id===e&&Nd(n)),n}},onAuthStateChange(e){if(P)return T.auth.onAuthStateChange(e);{const t=Ad();return e(t?"SIGNED_IN":"SIGNED_OUT",{user:t}),{data:{subscription:{unsubscribe:()=>{}}}}}}},be={async getProjects(e=null,t=!1){if(P){if(!qn()){const n=await zS(e);return t?n:n.filter(i=>i.status!=="archived")}const r=performance.now();try{let n=T.from("projects").select("*").order("created_at",{ascending:!1});e&&(n=n.eq("company_id",e)),t||(n=n.eq("status","active"));const{data:i,error:s}=await n,c=Math.round(performance.now()-r);if(Ke.query("getProjects",{duration:c,rows:i?.length,company_id:e}),s){Ke.error("database",{message:s.message,operation:"getProjects",company_id:e});const u=await zS(e);if(u.length>0)return u;throw s}return i?.length>0&&wL(i).catch(u=>console.error("Failed to cache projects:",u)),i}catch(n){throw Ke.error("database",{message:n.message,operation:"getProjects",company_id:e}),n}}else{const r=Oe().projects;return t?r:r.filter(n=>n.status!=="archived")}},async getProjectsPaginated(e,{page:t=0,limit:r=25,status:n="active"}={}){if(P){const c=performance.now();try{let u=T.from("projects").select("*",{count:"exact"}).eq("company_id",e).order("created_at",{ascending:!1}).range(t*r,(t+1)*r-1);n!=="all"&&(u=u.eq("status",n));const{data:m,error:h,count:g}=await u,p=Math.round(performance.now()-c);if(Ke.query("getProjectsPaginated",{duration:p,rows:m?.length,page:t,company_id:e}),h)throw h;return{projects:m||[],totalCount:g||0,hasMore:(t+1)*r<(g||0),page:t,limit:r}}catch(u){throw Ke.error("database",{message:u.message,operation:"getProjectsPaginated",company_id:e}),u}}const i=Oe().projects.filter(c=>c.company_id===e&&(n==="all"||c.status===n)),s=t*r;return{projects:i.slice(s,s+r),totalCount:i.length,hasMore:s+r<i.length,page:t,limit:r}},async getProjectsWithSummary(e){if(P){const t=performance.now();try{const{data:r,error:n}=await T.from("projects").select(`
            *,
            areas:areas(count),
            tickets:t_and_m_tickets(count),
            daily_reports:daily_reports(count)
          `).eq("company_id",e).eq("status","active").order("created_at",{ascending:!1}),i=Math.round(performance.now()-t);if(Ke.query("getProjectsWithSummary",{duration:i,rows:r?.length,company_id:e}),n)throw n;return(r||[]).map(s=>({...s,areaCount:s.areas?.[0]?.count||0,ticketCount:s.tickets?.[0]?.count||0,pendingTicketCount:0,reportCount:s.daily_reports?.[0]?.count||0,areas:void 0,tickets:void 0,daily_reports:void 0}))}catch(r){return Ke.error("database",{message:r.message,operation:"getProjectsWithSummary",company_id:e}),this.getProjects(e)}}return Oe().projects.filter(t=>t.company_id===e&&t.status==="active")},async getProjectDashboardSummary(e){if(P){const t=performance.now();try{const{data:r,error:n}=await T.rpc("get_project_dashboard_summary",{p_company_id:e}),i=Math.round(performance.now()-t);if(Ke.query("getProjectDashboardSummary",{duration:i,rows:r?.length,company_id:e}),n){if(n.message?.includes("function")||n.code==="42883")return this.getProjectsWithSummary(e);throw n}return(r||[]).map(s=>({id:s.project_id,name:s.project_name,status:s.project_status,job_number:s.project_number,address:s.project_address,pin:s.project_pin,created_at:s.created_at,start_date:s.start_date,end_date:s.end_date,contract_value:Number(s.contract_value)||0,work_type:s.work_type||"demolition",job_type:s.job_type||"standard",general_contractor:s.general_contractor||"",areaCount:Number(s.total_areas)||0,completedAreas:Number(s.completed_areas)||0,inProgressAreas:Number(s.in_progress_areas)||0,pendingAreas:Number(s.pending_areas)||0,ticketCount:Number(s.total_tickets)||0,pendingTicketCount:Number(s.pending_tickets)||0,submittedTicketCount:Number(s.submitted_tickets)||0,approvedTicketCount:Number(s.approved_tickets)||0,totalLaborHours:Number(s.total_labor_hours)||0,todayLaborHours:Number(s.today_labor_hours)||0,todayWorkerCount:Number(s.today_worker_count)||0,lastActivityAt:s.last_activity_at,dailyReportsThisWeek:Number(s.daily_reports_this_week)||0,corCount:Number(s.cor_count)||0,pendingCorCount:Number(s.pending_cor_count)||0,disposalLoadsToday:Number(s.disposal_loads_today)||0}))}catch(r){return Ke.error("database",{message:r.message,operation:"getProjectDashboardSummary",company_id:e}),this.getProjectsWithSummary(e)}}return Oe().projects.filter(t=>t.company_id===e&&t.status==="active")},async getArchivedProjects(e){if(P){const{data:t,error:r}=await T.from("projects").select("*").eq("company_id",e).eq("status","archived").order("archived_at",{ascending:!1});if(r)throw r;return t}else return Oe().projects.filter(t=>t.status==="archived")},async getProjectCount(e){if(P){const{count:t,error:r}=await T.from("projects").select("*",{count:"exact",head:!0}).eq("company_id",e).in("status",["active","archived"]);if(r)throw r;return t||0}else return Oe().projects.filter(r=>r.company_id===e&&r.status!=="deleted").length},async universalSearch(e,t,r=10){if(!P||!t?.trim())return{projects:[],tickets:[],cors:[],workers:[]};const n=t.trim().toLowerCase(),i={projects:[],tickets:[],cors:[],workers:[]};try{const{data:s}=await T.from("projects").select("id, name, job_number, address, status").eq("company_id",e).eq("status","active").or(`name.ilike.%${n}%,job_number.ilike.%${n}%,address.ilike.%${n}%`).limit(r);i.projects=s||[];const{data:c}=await T.from("t_and_m_tickets").select(`
          id, notes, work_date, status, project_id,
          projects!inner(id, name, company_id)
        `).eq("projects.company_id",e).ilike("notes",`%${n}%`).order("work_date",{ascending:!1}).limit(r);i.tickets=(c||[]).map(g=>({...g,projectName:g.projects?.name||"Unknown Project"}));const{data:u}=await T.from("change_orders").select(`
          id, cor_number, title, status, project_id,
          projects!inner(id, name, company_id)
        `).eq("projects.company_id",e).or(`title.ilike.%${n}%,cor_number.ilike.%${n}%`).order("created_at",{ascending:!1}).limit(r);i.cors=(u||[]).map(g=>({...g,projectName:g.projects?.name||"Unknown Project"}));const{data:m}=await T.from("crew_checkins").select(`
          workers,
          project_id,
          projects!inner(id, name, company_id)
        `).eq("projects.company_id",e).order("check_in_date",{ascending:!1}).limit(50),h=new Map;return(m||[]).forEach(g=>{(g.workers||[]).forEach(p=>{if(p.name.toLowerCase().includes(n)){const _=p.name.toLowerCase();h.has(_)||h.set(_,{name:p.name,role:p.role,projectName:g.projects?.name,lastProject:g.projects})}})}),i.workers=Array.from(h.values()).slice(0,r),i}catch(s){return console.error("Universal search error:",s),i}},async archiveProject(e){if(P){const{data:t,error:r}=await T.from("projects").update({status:"archived",archived_at:new Date().toISOString()}).eq("id",e).select().single();if(r)throw r;return t}else{const t=Oe(),r=t.projects.find(n=>n.id===e);return r&&(r.status="archived",r.archived_at=new Date().toISOString(),Ge(t)),r}},async getProjectStorageStats(e){if(!P)return{photoCount:0,estimatedMB:0};const{data:t,error:r}=await T.from("t_and_m_tickets").select("photos").eq("project_id",e);if(r)throw r;let n=0;const i=[];t?.forEach(c=>{c.photos&&Array.isArray(c.photos)&&(n+=c.photos.length,i.push(...c.photos))});const s=n*1.5;return{photoCount:n,estimatedMB:s,photoUrls:i}},async archiveProjectDeep(e,t){if(!P)return null;const{photoUrls:r}=await this.getProjectStorageStats(e);if(r.length>0){const s=r.map(c=>{if(!c)return null;if(c.startsWith("http"))try{const m=new URL(c).pathname.match(/\/tm-photos\/(.+)$/);return m?m[1]:null}catch{return null}return c}).filter(Boolean);if(s.length>0)for(let c=0;c<s.length;c+=100){const u=s.slice(c,c+100);await T.storage.from("tm-photos").remove(u)}}await T.from("t_and_m_tickets").update({photos:[]}).eq("project_id",e);const{data:n,error:i}=await T.from("projects").update({status:"archived",archived_at:new Date().toISOString(),photos:[],storage_cleaned:!0}).eq("id",e).select().single();if(i)throw i;return{...n,photosDeleted:r.length}},async restoreProject(e){if(P){const{data:t,error:r}=await T.from("projects").update({status:"active",archived_at:null}).eq("id",e).select().single();if(r)throw r;return t}else{const t=Oe(),r=t.projects.find(n=>n.id===e);return r&&(r.status="active",r.archived_at=null,Ge(t)),r}},async getProject(e){if(P){const{data:t,error:r}=await T.from("projects").select("*").eq("id",e).single();if(r)throw r;return t}else return Oe().projects.find(t=>t.id===e)},async createProject(e){if(P){const{data:t,error:r}=await T.from("projects").insert({...e,status:"active"}).select().single();if(r)throw console.error("Supabase createProject error:",r.message,r.details,r.hint),r;return t}else{const t=Oe(),r={...e,id:crypto.randomUUID(),status:"active",created_at:new Date().toISOString()};return t.projects.push(r),Ge(t),r}},async getProjectByPin(e){if(P){const{data:t,error:r}=await T.from("projects").select("*").eq("pin",e).eq("status","active").single();return r?null:t}else return Oe().projects.find(r=>r.pin===e&&r.status==="active")||null},async getProjectByPinAndCompany(e,t){if(P){const{data:r,error:n}=await T.from("projects").select("*").eq("pin",e).eq("company_id",t).eq("status","active").single();return n?null:r}else return Oe().projects.find(n=>n.pin===e&&n.company_id===t&&n.status==="active")||null},async getProjectByPinSecure(e,t){if(P){const r=`pin_attempts_${t}`,n=`pin_lockout_${t}`,i=5,s=300*1e3,c=localStorage.getItem(n);if(c&&Date.now()<parseInt(c)){const w=parseInt(c)-Date.now(),j=Math.ceil(w/6e4);return{success:!1,rateLimited:!0,project:null,error:`Too many attempts. Please try again in ${j} minute${j>1?"s":""}.`}}const u=jg(),{data:m,error:h}=await T.rpc("validate_pin_and_create_session",{p_pin:e,p_company_code:t,p_device_id:u,p_ip_address:null});if(h)return console.warn("[PIN Auth] RPC unavailable, using direct PIN lookup:",h.message),await this._pinFallbackDirectQuery(e,t,r,n,i,s);if(!m||m.length===0)return{success:!1,rateLimited:!1,project:null};const g=m[0];if(g.error_code==="RATE_LIMITED")return{success:!1,rateLimited:!0,project:null};if(g.error_code==="INVALID_COMPANY"||g.error_code==="INVALID_PIN"){let w=parseInt(localStorage.getItem(r)||"0");return w++,localStorage.setItem(r,w.toString()),w>=i?(localStorage.setItem(n,(Date.now()+s).toString()),{success:!1,rateLimited:!0,project:null,error:"Too many failed attempts. Please try again in 5 minutes."}):{success:!1,rateLimited:!1,project:null}}if(!g.success||!g.project_id)return{success:!1,rateLimited:!1,project:null};localStorage.removeItem(`pin_attempts_${t}`),localStorage.removeItem(`pin_lockout_${t}`),rf({token:g.session_token,projectId:g.project_id,companyId:g.company_id,projectName:g.project_name,companyName:g.company_name,createdAt:new Date().toISOString()});const p=qb(),{data:_,error:x}=await p.from("projects").select("*").eq("id",g.project_id).single();return{success:!0,rateLimited:!1,sessionToken:g.session_token,project:_||{id:g.project_id,name:g.project_name,company_id:g.company_id,status:"active"}}}else{const r=Oe(),i=(r.companies||[]).find(c=>c.code===t);if(!i)return{success:!1,rateLimited:!1,project:null};const s=r.projects.find(c=>c.pin===e&&c.company_id===i.id&&c.status==="active");if(s){const c=`demo_${Date.now()}_${Math.random().toString(36).slice(2)}`;rf({token:c,projectId:s.id,companyId:i.id,projectName:s.name,companyName:i.name,createdAt:new Date().toISOString()})}return{success:!!s,rateLimited:!1,project:s||null}}},async _pinFallbackDirectQuery(e,t,r,n,i,s){try{const{data:c,error:u}=await T.from("companies").select("*").ilike("code",t.trim()).single();if(u||!c)return{success:!1,rateLimited:!1,project:null};const{data:m,error:h}=await T.from("projects").select("*").eq("pin",e.trim()).eq("company_id",c.id).eq("status","active").single();if(h||!m){let p=parseInt(localStorage.getItem(r)||"0");return p++,localStorage.setItem(r,p.toString()),p>=i?(localStorage.setItem(n,(Date.now()+s).toString()),{success:!1,rateLimited:!0,project:null,error:"Too many failed attempts. Please try again in 5 minutes."}):{success:!1,rateLimited:!1,project:null}}localStorage.removeItem(r),localStorage.removeItem(n);let g=null;try{const p=Array.from(crypto.getRandomValues(new Uint8Array(32))).map(x=>x.toString(16).padStart(2,"0")).join(""),{error:_}=await T.from("field_sessions").insert({project_id:m.id,company_id:c.id,session_token:p,device_id:typeof jg=="function"?jg():null});_||(g=p)}catch{}return g&&rf({token:g,projectId:m.id,companyId:c.id,projectName:m.name,companyName:c.name,createdAt:new Date().toISOString()}),{success:!0,rateLimited:!1,project:m}}catch(c){return console.error("[PIN Auth] Fallback query failed:",c),{success:!1,rateLimited:!1,project:null,error:"Connection error. Please try again."}}},async isPinAvailable(e,t=null){if(P){let r=T.from("projects").select("id").eq("pin",e);t&&(r=r.neq("id",t));const{data:n,error:i}=await r;if(i)throw i;return n.length===0}else return!Oe().projects.some(n=>n.pin===e&&n.id!==t)},async updateProjectPin(e,t){if(P){const{data:r,error:n}=await T.from("projects").update({pin:t}).eq("id",e).select().single();if(n)throw n;return r}else{const r=Oe(),n=r.projects.find(i=>i.id===e);return n&&(n.pin=t,Ge(r)),n}},async updateProject(e,t,r=null){if(P){if(!r)throw console.error("[Security] updateProject called without companyId - this is a security risk"),new Error("Company ID is required for security verification");const{data:n,error:i}=await T.from("projects").update(t).eq("id",e).eq("company_id",r).select().single();if(i)throw console.error("Error updating project"),i;return n}else{const n=Oe(),i=n.projects.find(s=>s.id===e);return i&&(Object.assign(i,t),Ge(n)),i}},async deleteProject(e,t=null){if(P){let r=[];try{const{data:c}=await T.from("t_and_m_tickets").select("photos").eq("project_id",e);c?.forEach(u=>{Array.isArray(u.photos)&&u.photos.forEach(m=>{if(m)if(m.startsWith("http"))try{const h=new URL(m).pathname.match(/\/(?:public\/)?tm-photos\/(.+)$/);h&&r.push(decodeURIComponent(h[1]))}catch{}else r.push(m)})})}catch{}if(r.length>0)try{for(let c=0;c<r.length;c+=100)await T.storage.from("tm-photos").remove(r.slice(c,c+100))}catch{}await T.from("t_and_m_tickets").delete().eq("project_id",e),await T.from("daily_reports").delete().eq("project_id",e);let n=T.from("projects").delete({count:"exact"}).eq("id",e);t&&(n=n.eq("company_id",t));const{error:i,count:s}=await n;if(i)throw i;if(s===0)throw new Error("Project could not be deleted. You may not have permission (admin or owner role required).")}else{const r=Oe();r.projects=r.projects.filter(n=>n.id!==e),r.areas=r.areas.filter(n=>n.project_id!==e),Ge(r)}},async getAreas(e){if(P){if(!qn())return LS(e);const t=_e(),{data:r,error:n}=await t.from("areas").select("*").eq("project_id",e).order("sort_order",{ascending:!0});if(n){const i=await LS(e);if(i.length>0)return i;throw n}return r?.length>0&&jL(r).catch(i=>console.error("Failed to cache areas:",i)),r}else return Oe().areas.filter(t=>t.project_id===e)},async createArea(e){if(P){const t=_e(),{data:r,error:n}=await t.from("areas").insert(e).select().single();if(n)throw n;return r}else{const t=Oe(),r={...e,id:crypto.randomUUID(),created_at:new Date().toISOString()};return t.areas.push(r),Ge(t),r}},async updateAreaStatus(e,t,r=null){if(P){if(!qn()){const u=await _g(e,t);return await un(Xt.UPDATE_AREA_STATUS,{areaId:e,status:t}),u}let i=_e().from("areas").update({status:t}).eq("id",e);r&&(i=i.eq("project_id",r));const{data:s,error:c}=await i.select().single();if(c){if(c.message?.includes("fetch")||c.message?.includes("network")){const u=await _g(e,t);return await un(Xt.UPDATE_AREA_STATUS,{areaId:e,status:t}),u}throw c}return s&&_g(e,t).catch(u=>console.error("Failed to update cached area status:",u)),s}else{const n=Oe(),i=n.areas.find(s=>s.id===e);return i&&(i.status=t,i.updated_at=new Date().toISOString()),Ge(n),i}},async updateArea(e,t,r=null){if(P){let n=T.from("areas").update(t).eq("id",e);r&&(n=n.eq("project_id",r));const{data:i,error:s}=await n.select().single();if(s)throw s;return i}else{const n=Oe(),i=n.areas.find(s=>s.id===e);return i&&(Object.assign(i,t),i.updated_at=new Date().toISOString()),Ge(n),i}},async deleteArea(e,t=null){if(P){let r=T.from("areas").delete().eq("id",e);t&&(r=r.eq("project_id",t));const{error:n}=await r;if(n)throw n}else{const r=Oe();r.areas=r.areas.filter(n=>n.id!==e),Ge(r)}},subscribeToAreas(e,t){return P?T.channel(`areas:${e}`).on("postgres_changes",{event:"*",schema:"public",table:"areas",filter:`project_id=eq.${e}`},t).subscribe():null},subscribeToMessages(e,t){return P?T.channel(`messages:${e}`).on("postgres_changes",{event:"*",schema:"public",table:"messages",filter:`project_id=eq.${e}`},t).subscribe():null},subscribeToMaterialRequests(e,t){return P?T.channel(`material_requests:${e}`).on("postgres_changes",{event:"*",schema:"public",table:"material_requests",filter:`project_id=eq.${e}`},t).subscribe():null},subscribeToDailyReports(e,t){return P?T.channel(`daily_reports:${e}`).on("postgres_changes",{event:"*",schema:"public",table:"daily_reports",filter:`project_id=eq.${e}`},t).subscribe():null},subscribeToCrewCheckins(e,t){return P?T.channel(`crew_checkins:${e}`).on("postgres_changes",{event:"*",schema:"public",table:"crew_checkins",filter:`project_id=eq.${e}`},t).subscribe():null},subscribeToInjuryReports(e,t){return P?T.channel(`injury_reports:${e}`).on("postgres_changes",{event:"*",schema:"public",table:"injury_reports",filter:`company_id=eq.${e}`},t).subscribe():null},subscribeToTMTickets(e,t){return P?T.channel(`tm_tickets:${e}`).on("postgres_changes",{event:"*",schema:"public",table:"t_and_m_tickets",filter:`project_id=eq.${e}`},t).subscribe():null},subscribeToCompanyActivity(e,t,r){if(!P||!t||t.length===0)return null;const n=T.channel(`company_activity:${e}`);return t.forEach(i=>{n.on("postgres_changes",{event:"*",schema:"public",table:"messages",filter:`project_id=eq.${i}`},s=>r.onMessage?.(s)),n.on("postgres_changes",{event:"*",schema:"public",table:"material_requests",filter:`project_id=eq.${i}`},s=>r.onMaterialRequest?.(s)),n.on("postgres_changes",{event:"*",schema:"public",table:"t_and_m_tickets",filter:`project_id=eq.${i}`},s=>r.onTMTicket?.(s)),n.on("postgres_changes",{event:"*",schema:"public",table:"crew_checkins",filter:`project_id=eq.${i}`},s=>r.onCrewCheckin?.(s)),n.on("postgres_changes",{event:"*",schema:"public",table:"areas",filter:`project_id=eq.${i}`},s=>r.onAreaUpdate?.(s)),n.on("postgres_changes",{event:"*",schema:"public",table:"change_orders",filter:`project_id=eq.${i}`},s=>r.onCORChange?.(s)),n.on("postgres_changes",{event:"*",schema:"public",table:"projects",filter:`id=eq.${i}`},s=>r.onProjectChange?.(s)),n.on("postgres_changes",{event:"*",schema:"public",table:"punch_list_items",filter:`project_id=eq.${i}`},s=>r.onPunchListChange?.(s))}),n.on("postgres_changes",{event:"*",schema:"public",table:"injury_reports",filter:`company_id=eq.${e}`},i=>r.onInjuryReport?.(i)),n.on("postgres_changes",{event:"*",schema:"public",table:"materials_equipment",filter:`company_id=eq.${e}`},i=>r.onMaterialsEquipmentChange?.(i)),n.on("postgres_changes",{event:"*",schema:"public",table:"labor_rates",filter:`company_id=eq.${e}`},i=>r.onLaborRateChange?.(i)),n.subscribe()},unsubscribe(e){e&&P&&T.removeChannel(e)},async getAssignedProjects(e){if(P){const{data:t,error:r}=await T.from("project_assignments").select(`
          project_id,
          projects (*)
        `).eq("user_id",e);if(r)throw r;return t.map(n=>n.projects)}else{const t=Oe();return(t.assignments?.filter(n=>n.user_id===e)||[]).map(n=>t.projects.find(i=>i.id===n.project_id)).filter(Boolean)}},async assignUserToProject(e,t,r){if(P){const{data:n,error:i}=await T.from("project_assignments").insert({project_id:e,user_id:t,assigned_by:r}).select().single();if(i)throw i;return n}else{const n=Oe();n.assignments||(n.assignments=[]);const i={id:crypto.randomUUID(),project_id:e,user_id:t,assigned_by:r,assigned_at:new Date().toISOString()};return n.assignments.push(i),Ge(n),i}},async removeUserFromProject(e,t){if(P){const{error:r}=await T.from("project_assignments").delete().eq("project_id",e).eq("user_id",t);if(r)throw r}else{const r=Oe();r.assignments=r.assignments?.filter(n=>!(n.project_id===e&&n.user_id===t))||[],Ge(r)}},async getProjectAssignments(e){if(P){const{data:t,error:r}=await T.from("project_assignments").select(`
          user_id,
          users (id, email, name, role)
        `).eq("project_id",e);if(r)throw r;return t.map(n=>n.users)}else{const t=Oe();return(t.assignments?.filter(n=>n.project_id===e)||[]).map(n=>t.users.find(i=>i.id===n.user_id)).filter(Boolean)}},async getAllUsers(){if(P){const{data:e,error:t}=await T.from("users").select("*").order("name");if(t)throw t;return e}else return Oe().users||[]},async getForemen(){if(P){const{data:e,error:t}=await T.from("users").select("*").eq("role","foreman").order("name");if(t)throw t;return e}else return(Oe().users||[]).filter(e=>e.role==="foreman")},async logActivity(e,t,r,n,i,s){if(P){const{error:c}=await T.from("activity_log").insert({user_id:e,project_id:t,area_id:r,action:n,old_value:i,new_value:s});c&&console.error("Error logging activity:",c)}},async getProjectActivity(e,t=50){if(P){const{data:r,error:n}=await T.from("activity_log").select(`
          *,
          users (name, email),
          areas (name)
        `).eq("project_id",e).order("created_at",{ascending:!1}).limit(t);if(n)throw n;return r}return[]},async getMaterialsEquipment(e){if(P){const{data:t,error:r}=await T.from("materials_equipment").select("*").eq("company_id",e).eq("active",!0).order("category").order("name");if(r)throw r;return t}return[]},async getMaterialsEquipmentByCategory(e,t){if(P){const r=_e();if(!r)return[];const{data:n,error:i}=await r.from("materials_equipment").select("*").eq("company_id",e).eq("category",t).eq("active",!0).order("name");if(i)throw i;return n}return[]},async getAllMaterialsEquipment(e){if(P){const t=_e();if(!t)return[];const{data:r,error:n}=await t.from("materials_equipment").select("*").eq("company_id",e).order("category").order("name");if(n)throw n;return r}return[]},async createMaterialEquipment(e){if(P){const{data:t,error:r}=await T.from("materials_equipment").insert(e).select().single();if(r)throw r;return t}return null},async updateMaterialEquipment(e,t){if(P){const{data:r,error:n}=await T.from("materials_equipment").update(t).eq("id",e).select().single();if(n)throw n;return r}return null},async deleteMaterialEquipment(e){if(P){const{error:t}=await T.from("materials_equipment").update({active:!1}).eq("id",e);if(t)throw t}},async getLaborCategories(e){if(P){const{data:t,error:r}=await T.from("labor_categories").select("*").eq("company_id",e).eq("active",!0).order("sort_order").order("name");if(r)throw r;return t||[]}return[]},async createLaborCategory(e,t,r=0){if(P){const{data:n,error:i}=await T.from("labor_categories").insert({company_id:e,name:t,sort_order:r}).select().single();if(i)throw i;return n}return null},async updateLaborCategory(e,t){if(P){const{data:r,error:n}=await T.from("labor_categories").update(t).eq("id",e).select().single();if(n)throw n;return r}return null},async deleteLaborCategory(e){if(P){const{error:t}=await T.from("labor_categories").update({active:!1}).eq("id",e);if(t)throw t}},async getLaborClasses(e){if(P){const{data:t,error:r}=await T.from("labor_classes").select(`
          *,
          labor_categories (id, name)
        `).eq("company_id",e).eq("active",!0).order("sort_order").order("name");if(r)throw r;return t||[]}return[]},async getLaborClassesWithCategories(e){if(P){const[t,r]=await Promise.all([T.from("labor_categories").select("*").eq("company_id",e).eq("active",!0).order("sort_order").order("name"),T.from("labor_classes").select("*").eq("company_id",e).eq("active",!0).order("sort_order").order("name")]);if(t.error)throw t.error;if(r.error)throw r.error;return{categories:t.data||[],classes:r.data||[]}}return{categories:[],classes:[]}},async getLaborClassesForField(e){if(P){const t=_e();if(!t)return{categories:[],classes:[]};const{data:r,error:n}=await t.rpc("get_labor_classes_for_field",{p_company_id:e});if(n){console.error("Error loading field labor classes:",n);const[c,u]=await Promise.all([t.from("labor_categories").select("id, name").eq("company_id",e).eq("active",!0).order("name"),t.from("labor_classes").select("id, name, category_id").eq("company_id",e).eq("active",!0).order("name")]);return{categories:c.data||[],classes:u.data||[]}}const i=new Map,s=[];for(const c of r||[])c.category_id&&c.category_name&&!i.has(c.category_id)&&i.set(c.category_id,{id:c.category_id,name:c.category_name}),s.push({id:c.id,name:c.name,category_id:c.category_id});return{categories:Array.from(i.values()),classes:s}}return{categories:[],classes:[]}},async createLaborClass(e,t,r,n=0){if(P){const{data:i,error:s}=await T.from("labor_classes").insert({company_id:e,category_id:t,name:r,sort_order:n}).select().single();if(s)throw s;return i}return null},async updateLaborClass(e,t){if(P){const{data:r,error:n}=await T.from("labor_classes").update(t).eq("id",e).select().single();if(n)throw n;return r}return null},async deleteLaborClass(e){if(P){const{error:t}=await T.from("labor_classes").update({active:!1}).eq("id",e);if(t)throw t}},async getLaborClassRates(e){if(P){const{data:t,error:r}=await T.from("labor_class_rates").select("*").eq("labor_class_id",e);if(r)throw r;return t||[]}return[]},async getAllLaborClassRates(e){if(P){const{data:t,error:r}=await T.from("labor_classes").select(`
          id,
          name,
          labor_class_rates (*)
        `).eq("company_id",e).eq("active",!0);if(r)throw r;return t||[]}return[]},async saveLaborClassRates(e,t){if(P){const r=t.map(i=>({...i,labor_class_id:e})),{error:n}=await T.from("labor_class_rates").upsert(r,{onConflict:"labor_class_id,work_type,job_type"});if(n)throw n}},async getLaborClassRate(e,t,r){if(P){const{data:n,error:i}=await T.from("labor_class_rates").select("regular_rate, overtime_rate").eq("labor_class_id",e).eq("work_type",t).eq("job_type",r).single();if(i&&i.code!=="PGRST116")throw i;return n||null}return null},async getTMTickets(e){if(P){const t=performance.now(),r=_e(),i=yy()?"materials_equipment (name, unit, category)":"materials_equipment (name, unit, cost_per_unit, category)";try{const{data:s,error:c}=await r.from("t_and_m_tickets").select(`
            *,
            t_and_m_workers (*),
            t_and_m_items (
              *,
              ${i}
            )
          `).eq("project_id",e).order("created_at",{ascending:!1}),u=Math.round(performance.now()-t);if(Ke.query("getTMTickets",{duration:u,rows:s?.length,project_id:e}),c)throw c;return s}catch(s){throw Ke.error("database",{message:s.message,operation:"getTMTickets",project_id:e}),s}}return[]},async getTMTicketsPaginated(e,{page:t=0,limit:r=25,status:n=null}={}){if(P){const i=performance.now(),s=_e(),u=yy()?"materials_equipment (name, unit, category)":"materials_equipment (name, unit, cost_per_unit, category)";try{let m=s.from("t_and_m_tickets").select(`
            *,
            t_and_m_workers (*),
            t_and_m_items (
              *,
              ${u}
            )
          `,{count:"exact"}).eq("project_id",e).order("created_at",{ascending:!1}).range(t*r,(t+1)*r-1);n&&(m=m.eq("status",n));const{data:h,error:g,count:p}=await m,_=Math.round(performance.now()-i);if(Ke.query("getTMTicketsPaginated",{duration:_,rows:h?.length,page:t,project_id:e}),g)throw g;return{tickets:h||[],totalCount:p||0,hasMore:(t+1)*r<(p||0),page:t,limit:r}}catch(m){throw Ke.error("database",{message:m.message,operation:"getTMTicketsPaginated",project_id:e}),m}}return{tickets:[],totalCount:0,hasMore:!1,page:0,limit:25}},async getChangeOrderTotals(e){if(P){const{data:t,error:r}=await T.from("t_and_m_tickets").select("ce_pco_number, change_order_value, status").eq("project_id",e).not("ce_pco_number","is",null).neq("ce_pco_number","");if(r)throw r;const n={};let i=0,s=0;return t?.forEach(c=>{const u=c.ce_pco_number;if(n[u]||(n[u]={approved:0,pending:0,count:0}),n[u].count++,c.status==="approved"||c.status==="billed"){const m=parseFloat(c.change_order_value)||0;n[u].approved+=m,i+=m}else c.status==="pending"&&s++}),{changeOrders:n,totalApprovedValue:i,pendingCount:s}}return{changeOrders:{},totalApprovedValue:0,pendingCount:0}},async getTMTicketsByStatus(e,t){if(P){const r=_e();if(!r)return[];const{data:n,error:i}=await r.from("t_and_m_tickets").select(`
          *,
          t_and_m_workers (*),
          t_and_m_items (
            *,
            materials_equipment (name, unit, cost_per_unit, category)
          )
        `).eq("project_id",e).eq("status",t).order("created_at",{ascending:!1});if(i)throw i;return n}return[]},async getCORTickets(e){if(P){const t=_e();if(!t)return[];const{data:r,error:n}=await t.from("t_and_m_tickets").select(`
          *,
          t_and_m_workers (*),
          t_and_m_items (
            *,
            materials_equipment (name, unit, cost_per_unit, category)
          )
        `).eq("assigned_cor_id",e).order("work_date",{ascending:!0});if(n)throw n;return r||[]}return[]},async createTMTicket(e){if(P){if(!qn()){const i={id:Xr(),project_id:e.project_id,work_date:e.work_date,ce_pco_number:e.ce_pco_number||null,assigned_cor_id:e.assigned_cor_id||null,notes:e.notes,photos:e.photos||[],status:"pending_sync",created_by_name:e.created_by_name||"Field User",created_at:new Date().toISOString(),_offline:!0};return await IS(i),await un(Xt.CREATE_TM_TICKET,{ticket:i,workers:e._workers||[],items:e._items||[]}),i}const t=_e();if(!t)throw new Error("Database client not available");const{data:r,error:n}=await t.from("t_and_m_tickets").insert({project_id:e.project_id,work_date:e.work_date,ce_pco_number:e.ce_pco_number||null,assigned_cor_id:e.assigned_cor_id||null,notes:e.notes,photos:e.photos||[],status:"pending",created_by_name:e.created_by_name||"Field User"}).select().single();if(n){if(n.message?.includes("fetch")||n.message?.includes("network")){const i={id:Xr(),...e,status:"pending_sync",_offline:!0};return await IS(i),await un(Xt.CREATE_TM_TICKET,{ticket:i,workers:e._workers||[],items:e._items||[]}),i}throw n}return r}return null},async addTMWorkers(e,t){if(P){const r=t.map(s=>({ticket_id:e,name:s.name,hours:s.hours,overtime_hours:s.overtime_hours||0,time_started:s.time_started||null,time_ended:s.time_ended||null,role:s.role||"Laborer"})),n=_e();if(!n)throw new Error("Database client not available");const{error:i}=await n.from("t_and_m_workers").insert(r);if(i)throw i}},async addTMItems(e,t){if(P){const r=t.map(s=>({ticket_id:e,material_equipment_id:s.material_equipment_id||null,custom_name:s.custom_name||null,custom_category:s.custom_category||null,quantity:s.quantity})),n=_e();if(!n)throw new Error("Database client not available");const{error:i}=await n.from("t_and_m_items").insert(r);if(i)throw i}},async getPreviousTicketCrew(e,t){if(!P)return null;const r=_e();if(!r)return null;const{data:n,error:i}=await r.from("t_and_m_tickets").select(`
        id,
        work_date,
        t_and_m_workers (*)
      `).eq("project_id",e).lt("work_date",t).order("work_date",{ascending:!1}).limit(1).maybeSingle();if(i||!n)return null;const s=n.t_and_m_workers||[],c=s.some(p=>p.labor_class_id),u={};c&&s.forEach(p=>{p.labor_class_id&&(u[p.labor_class_id]||(u[p.labor_class_id]=[]),u[p.labor_class_id].push({name:p.name,hours:p.hours?.toString()||"",overtimeHours:p.overtime_hours?.toString()||"",timeStarted:p.time_started||"",timeEnded:p.time_ended||""}))});const m=s.filter(p=>["Foreman","General Foreman","Superintendent"].includes(p.role)).map(p=>({name:p.name,hours:p.hours?.toString()||"",overtimeHours:p.overtime_hours?.toString()||"",timeStarted:p.time_started||"",timeEnded:p.time_ended||"",role:p.role})),h=s.filter(p=>p.role==="Operator").map(p=>({name:p.name,hours:p.hours?.toString()||"",overtimeHours:p.overtime_hours?.toString()||"",timeStarted:p.time_started||"",timeEnded:p.time_ended||""})),g=s.filter(p=>p.role==="Laborer").map(p=>({name:p.name,hours:p.hours?.toString()||"",overtimeHours:p.overtime_hours?.toString()||"",timeStarted:p.time_started||"",timeEnded:p.time_ended||""}));return{workDate:n.work_date,supervision:m.length>0?m:null,operators:h.length>0?h:null,laborers:g.length>0?g:null,dynamicWorkers:Object.keys(u).length>0?u:null,totalWorkers:s.length}},async updateTMTicketStatus(e,t){if(P){const r=_e();if(!r)throw new Error("Database client not available");const{data:n,error:i}=await r.from("t_and_m_tickets").update({status:t}).eq("id",e).select().single();if(i)throw i;return n}return null},async approveTMTicket(e,t,r,n=null){if(P){const i={status:"approved",approved_by_user_id:t,approved_by_name:r,approved_at:new Date().toISOString(),rejected_by_user_id:null,rejected_by_name:null,rejected_at:null,rejection_reason:null};n!==null&&(i.change_order_value=parseFloat(n)||0);const s=_e();if(!s)throw new Error("Database client not available");const{data:c,error:u}=await s.from("t_and_m_tickets").update(i).eq("id",e).select().single();if(u)throw u;return c}return null},async rejectTMTicket(e,t,r,n=""){if(P){const i=_e();if(!i)throw new Error("Database client not available");const{data:s,error:c}=await i.from("t_and_m_tickets").update({status:"rejected",rejected_by_user_id:t,rejected_by_name:r,rejected_at:new Date().toISOString(),rejection_reason:n,approved_by_user_id:null,approved_by_name:null,approved_at:null}).eq("id",e).select().single();if(c)throw c;return s}return null},canApproveTickets(e){return["owner","admin","manager"].includes(e)},async updateTMTicketPhotos(e,t,r=null){if(P){const n=_e();if(!n)throw new Error("Database client not available");const i={photos:t};r&&(i.photo_locations=r);const{data:s,error:c}=await n.from("t_and_m_tickets").update(i).eq("id",e).select().single();if(c)throw c;return s}return null},async saveTMClientSignature(e,t){if(P){const r=_e();if(!r)throw new Error("Database client not available");const{data:n,error:i}=await r.from("t_and_m_tickets").update({client_signature_data:t.signature,client_signature_name:t.signerName,client_signature_title:t.signerTitle,client_signature_company:t.signerCompany,client_signature_date:t.signedAt,client_signature_ip:null,status:"client_signed"}).eq("id",e).select().single();if(i)throw i;return n}return null},async deleteTMTicket(e){if(P){const t=_e();if(!t)throw new Error("Database client not available");const{error:r}=await t.from("t_and_m_tickets").delete().eq("id",e);if(r)throw r}},async isTicketEditable(e){if(!e?.assigned_cor_id)return{editable:!0};if(P)try{const{data:t,error:r}=await T.from("change_orders").select("id, status, cor_number").eq("id",e.assigned_cor_id).single();if(r||!t)return{editable:!0};const i=["draft","pending_approval"].includes(t.status);return{editable:i,lockedBy:i?null:t,reason:i?null:`This ticket is linked to ${t.cor_number} which has been ${t.status==="approved"?"approved":t.status}`}}catch(t){return console.error("Error checking ticket editability:",t),{editable:!0}}return{editable:!0}},async getCompanyByCode(e){if(P){const{data:t,error:r}=await T.from("companies").select("*").ilike("code",e.trim()).single();return r?(console.error("[Company Lookup] Error:",{message:r.message,code:r.code,details:r.details,hint:r.hint}),null):t}return null},async getCompany(e){if(P){const{data:t,error:r}=await T.from("companies").select("*").eq("id",e).single();if(r)throw r;return t}return null},async getUserCompanies(e){if(P){const{data:t,error:r}=await T.from("user_companies").select(`
          id,
          access_level,
          company_id,
          status,
          companies (
            id,
            name,
            code
          )
        `).eq("user_id",e).eq("status","active").order("created_at",{ascending:!0});return r?(console.error("Error fetching user companies:",r),[]):t.map(n=>({id:n.companies.id,name:n.companies.name,code:n.companies.code,access_level:n.access_level}))}return[]},async getUserPendingMemberships(e){if(P){const{count:t,error:r}=await T.from("user_companies").select("*",{count:"exact",head:!0}).eq("user_id",e).eq("status","pending");return r?(console.error("Error fetching pending memberships:",r),0):t||0}return 0},async getCompanyMemberships(e){if(P){const{data:t,error:r}=await T.from("user_companies").select(`
          id,
          access_level,
          company_role,
          status,
          created_at,
          approved_at,
          approved_by,
          removed_at,
          removed_by,
          users!user_companies_user_id_fkey (
            id,
            name,
            email
          )
        `).eq("company_id",e).order("created_at",{ascending:!1});return r?(console.error("Error fetching company memberships:",r),[]):t||[]}return[]},async approveMembership(e,t){if(P){const{error:r}=await T.from("user_companies").update({status:"active",approved_at:new Date().toISOString(),approved_by:t}).eq("id",e);if(r)throw r}},async approveMembershipWithRole(e,t,r="member"){if(P){const{error:n}=await T.rpc("approve_membership_with_role",{membership_id:e,approved_by_user:t,new_access_level:r});if(n)throw n}},async rejectMembership(e){if(P){const{error:t}=await T.from("user_companies").delete().eq("id",e);if(t)throw t}},async removeMember(e,t){if(P){const{error:r}=await T.from("user_companies").update({status:"removed",removed_at:new Date().toISOString(),removed_by:t}).eq("id",e);if(r)throw r}},async getProjectTeam(e){if(P){const{data:t,error:r}=await T.from("project_users").select(`
          id,
          project_role,
          assigned_at,
          notes,
          users!project_users_user_id_fkey (
            id,
            name,
            email
          )
        `).eq("project_id",e).order("assigned_at",{ascending:!0});return r?(console.error("Error fetching project team:",r),[]):t||[]}return[]},async getCompanyMembers(e){if(P){const{data:t,error:r}=await T.from("user_companies").select(`
          id,
          access_level,
          users!user_companies_user_id_fkey (
            id,
            name,
            email
          )
        `).eq("company_id",e).eq("status","active").order("created_at",{ascending:!0});return r?(console.error("Error fetching company members:",r),[]):t||[]}return[]},async addProjectMember(e,t,r,n){if(P){const{data:i,error:s}=await T.from("project_users").insert({project_id:e,user_id:t,project_role:r,assigned_by:n}).select().single();if(s)throw s;return i}return null},async updateProjectMemberRole(e,t,r){if(P){const{error:n}=await T.from("project_users").update({project_role:r}).eq("project_id",e).eq("user_id",t);if(n)throw n}},async removeProjectMember(e,t){if(P){const{error:r}=await T.from("project_users").delete().eq("project_id",e).eq("user_id",t);if(r)throw r}},async updateMemberAccessLevel(e,t){if(P){const{error:r}=await T.from("user_companies").update({access_level:t}).eq("id",e);if(r)throw r}},async updateMemberCompanyRole(e,t){if(P){const{error:r}=await T.from("user_companies").update({company_role:t}).eq("id",e);if(r)throw r}},async repairLegacyUser(e,t,r="member"){if(!P||!e||!t)return!1;try{const{data:n,error:i}=await T.rpc("repair_legacy_user",{p_user_id:e,p_company_id:t,p_role:r});return i?(console.error("RPC repair_legacy_user failed:",i),!1):n===!0}catch(n){return console.error("Error repairing legacy user:",n),!1}},async isLegacyUser(e){if(!P)return!1;try{const{data:t}=await T.from("users").select("company_id, role").eq("id",e).single();if(!t?.company_id)return!1;const{count:r}=await T.from("user_companies").select("*",{count:"exact",head:!0}).eq("user_id",e);return r===0}catch(t){return console.error("Error checking legacy user:",t),!1}},DISPOSAL_LOAD_TYPES:[{value:"concrete",label:"Concrete"},{value:"trash",label:"Trash"},{value:"metals",label:"Metals"},{value:"hazardous_waste",label:"Hazardous Waste"}],async getDisposalLoads(e,t){if(!P)return[];const r=_e();if(!r)return[];const n=performance.now();try{const{data:i,error:s}=await r.from("disposal_loads").select("*").eq("project_id",e).eq("work_date",t).order("created_at",{ascending:!1}),c=Math.round(performance.now()-n);if(Ke.query("getDisposalLoads",{duration:c,rows:i?.length,project_id:e}),s)throw s;return i||[]}catch(i){throw Ke.error("database",{message:i.message,operation:"getDisposalLoads",project_id:e}),i}},async getDisposalLoadsHistory(e,t=14){if(!P)return[];const r=_e();if(!r)return[];const n=performance.now();try{const i=new Date,s=new Date;s.setDate(s.getDate()-t);const{data:c,error:u}=await r.from("disposal_loads").select("*").eq("project_id",e).gte("work_date",s.toISOString().split("T")[0]).lte("work_date",i.toISOString().split("T")[0]).order("work_date",{ascending:!1}),m=Math.round(performance.now()-n);if(Ke.query("getDisposalLoadsHistory",{duration:m,rows:c?.length,project_id:e}),u)throw u;return(c||[]).map(h=>({...h,load_date:h.work_date}))}catch(i){throw Ke.error("database",{message:i.message,operation:"getDisposalLoadsHistory",project_id:e}),i}},async addDisposalLoad(e,t,r,n,i,s=null){if(!P)return null;const c=_e();if(!c)throw new Error("Database client not available");const{data:u,error:m}=await c.from("disposal_loads").insert({project_id:e,user_id:t,work_date:r,load_type:n,load_count:i,notes:s}).select().single();if(m)throw Ke.error("database",{message:m.message,operation:"addDisposalLoad",project_id:e}),m;return u},async updateDisposalLoad(e,t,r,n=null){if(!P)return null;const i=_e();if(!i)throw new Error("Database client not available");const{data:s,error:c}=await i.from("disposal_loads").update({load_type:t,load_count:r,notes:n}).eq("id",e).select().single();if(c)throw Ke.error("database",{message:c.message,operation:"updateDisposalLoad"}),c;return s},async deleteDisposalLoad(e){if(!P)return!1;const t=_e();if(!t)throw new Error("Database client not available");const{error:r}=await t.from("disposal_loads").delete().eq("id",e);if(r)throw Ke.error("database",{message:r.message,operation:"deleteDisposalLoad"}),r;return!0},async getDisposalSummary(e,t=null,r=null){if(!P)return[];const n=_e();if(!n)return[];const i=performance.now();try{const{data:s,error:c}=await n.rpc("get_disposal_summary",{p_project_id:e,p_start_date:t,p_end_date:r}),u=Math.round(performance.now()-i);if(Ke.query("getDisposalSummary",{duration:u,rows:s?.length,project_id:e}),c)throw c;return s||[]}catch(s){return Ke.error("database",{message:s.message,operation:"getDisposalSummary",project_id:e}),this.getDisposalSummaryFallback(e,t,r)}},async getDisposalSummaryFallback(e,t,r){let i=(_e()||T).from("disposal_loads").select("load_type, load_count, work_date").eq("project_id",e);t&&(i=i.gte("work_date",t)),r&&(i=i.lte("work_date",r));const{data:s,error:c}=await i;if(c)throw c;const u={};return s?.forEach(m=>{u[m.load_type]||(u[m.load_type]={load_type:m.load_type,total_loads:0,days:new Set}),u[m.load_type].total_loads+=m.load_count,u[m.load_type].days.add(m.work_date)}),Object.values(u).map(m=>({load_type:m.load_type,total_loads:m.total_loads,days_with_activity:m.days.size}))},async getWeeklyDisposalSummary(e,t=4){if(!P)return[];const r=_e();if(!r)return[];const n=new Date,i=new Date;i.setDate(i.getDate()-t*7);const{data:s,error:c}=await r.from("disposal_loads").select("load_type, load_count, work_date").eq("project_id",e).gte("work_date",i.toISOString().split("T")[0]).lte("work_date",n.toISOString().split("T")[0]).order("work_date",{ascending:!0});if(c)throw c;const u={};return s?.forEach(m=>{const h=new Date(m.work_date),g=new Date(h);g.setDate(h.getDate()-h.getDay());const p=g.toISOString().split("T")[0];u[p]||(u[p]={week:p,concrete:0,trash:0,metals:0,hazardous_waste:0}),u[p][m.load_type]+=m.load_count}),Object.values(u).sort((m,h)=>m.week.localeCompare(h.week))},async uploadPhoto(e,t,r,n){if(!P)return null;const i=_e();if(!i)throw new Error("Database client not available");const s=performance.now(),c=n.size||0,u=Date.now(),m=new Uint8Array(6);crypto.getRandomValues(m);const h=Array.from(m,x=>x.toString(36)).join(""),g=n.name?.split(".").pop()||"jpg",p=`${u}-${h}.${g}`,_=`${e}/${t}/${r}/${p}`;try{const{data:x,error:w}=await i.storage.from("tm-photos").upload(_,n,{cacheControl:"3600",upsert:!1}),j=Math.round(performance.now()-s);if(Ke.storage("upload",{company_id:e,project_id:t,size:c,duration:j,success:!w}),w)throw w;return _}catch(x){throw Ke.error("storage",{message:x.message,operation:"uploadPhoto",company_id:e,project_id:t}),x}},async uploadPhotoBase64(e,t,r,n,i="photo.jpg"){if(!P)return null;const s=_e();if(!s)throw new Error("Database client not available");const u=await(await fetch(n)).blob(),m=Date.now(),h=new Uint8Array(6);crypto.getRandomValues(h);const g=Array.from(h,S=>S.toString(36)).join(""),p=i.split(".").pop()||"jpg",_=`${m}-${g}.${p}`,x=`${e}/${t}/${r}/${_}`,{data:w,error:j}=await s.storage.from("tm-photos").upload(x,u,{cacheControl:"3600",upsert:!1,contentType:u.type});if(j)throw j;return x},async resolvePhotoUrl(e){if(!e||!P)return e;let t;if(e.startsWith("http"))try{const n=new URL(e).pathname.match(/\/(?:public\/)?tm-photos\/(.+)$/);if(!n)return e;t=decodeURIComponent(n[1])}catch{return e}else t=e;try{const r=Ui(),{data:n,error:i}=await r.storage.from("tm-photos").createSignedUrl(t,3600);return i||!n?.signedUrl?null:n.signedUrl}catch{return null}},async resolvePhotoUrls(e){if(!P||!e?.length)return e||[];const t=[],r=[];for(let n=0;n<e.length;n++){const i=e[n];if(!i)continue;let s;if(i.startsWith("http"))try{const u=new URL(i).pathname.match(/\/(?:public\/)?tm-photos\/(.+)$/);u&&(s=decodeURIComponent(u[1]))}catch{}else s=i;s&&(t.push(s),r.push(n))}if(!t.length)return e;try{const n=Ui(),{data:i,error:s}=await n.storage.from("tm-photos").createSignedUrls(t,3600);if(s||!i)return e;const c=[...e];return i.forEach((u,m)=>{c[r[m]]=u.signedUrl||null}),c}catch{return e}},async deletePhoto(e){if(!P||!e)return;let t;if(e.startsWith("http"))try{const i=new URL(e).pathname.match(/\/tm-photos\/(.+)$/);if(!i)return;t=i[1]}catch{return}else t=e;const{error:r}=await T.storage.from("tm-photos").remove([t]);if(r)throw r},async verifyPhotoAccessible(e){if(!P||!e)return{accessible:!1,error:"Invalid input"};let t;if(e.startsWith("http"))try{const n=new URL(e).pathname.match(/\/(?:public\/)?tm-photos\/(.+)$/);if(!n)return{accessible:!1,error:"Not a tm-photos URL"};t=decodeURIComponent(n[1])}catch{return{accessible:!1,error:"Invalid URL"}}else t=e;try{const{data:r,error:n}=await T.storage.from("tm-photos").createSignedUrl(t,60);return n?{accessible:!1,error:n.message}:{accessible:!!r?.signedUrl,status:200}}catch(r){return{accessible:!1,error:r.message||"Verification failed"}}},async verifyTicketPhotos(e){if(!P)return{verified:!1,issues:[]};try{const{data:t,error:r}=await T.from("t_and_m_tickets").select("photos").eq("id",e).single();if(r)throw r;if(!t?.photos||t.photos.length===0)return await T.from("t_and_m_tickets").update({photos_verified_at:new Date().toISOString(),photos_verification_status:"empty",photos_issue_count:0}).eq("id",e),{verified:!0,status:"empty",issues:[]};const n=[];for(const s of t.photos){const c=await this.verifyPhotoAccessible(s);c.accessible||n.push({url:s,error:c.error})}const i=n.length===0?"verified":"issues";return await T.from("t_and_m_tickets").update({photos_verified_at:new Date().toISOString(),photos_verification_status:i,photos_issue_count:n.length}).eq("id",e),{verified:n.length===0,status:i,totalPhotos:t.photos.length,issues:n}}catch(t){return console.error("Error verifying ticket photos:",t),{verified:!1,error:t.message,issues:[]}}},async queuePhotoUpload(e,t,r,n){if(!P)return null;const{data:i,error:s}=await T.from("photo_upload_queue").insert({ticket_id:e,temp_id:t,file_name:r,file_size_bytes:n,status:"pending"}).select().single();return s?(console.error("Error queueing photo upload:",s),null):i},async confirmQueuedUpload(e,t,r){if(!P)return!1;const{data:n,error:i}=await T.rpc("confirm_photo_upload",{p_queue_id:e,p_uploaded_url:t,p_storage_path:r});return i?(console.error("Error confirming photo upload:",i),!1):n===!0},async markQueuedUploadFailed(e,t){if(!P)return!1;const{data:r,error:n}=await T.rpc("mark_photo_upload_failed",{p_queue_id:e,p_error:t});return n?(console.error("Error marking photo upload failed:",n),!1):r===!0},async getPendingPhotoUploads(e){if(!P)return[];const{data:t,error:r}=await T.rpc("get_pending_photo_uploads",{p_ticket_id:e});return r?(console.error("Error getting pending photo uploads:",r),[]):t||[]},async logPhotoOperation(e,t,r={}){if(P)try{await T.from("photo_audit_log").insert({ticket_id:e,cor_id:r.corId||null,operation:t,photo_url:r.photoUrl||null,storage_path:r.storagePath||null,details:r.metadata?r.metadata:null,error_message:r.error||null,triggered_by:r.triggeredBy||"system"})}catch(n){console.error("Error logging photo operation:",n)}},async saveExportSnapshot(e,t,r={}){if(!P)return null;const{exportType:n="pdf",exportReason:i=null,clientEmail:s=null,clientName:c=null}=r;try{const{data:u,error:m}=await T.from("cor_export_snapshots").insert({cor_id:e,export_type:n,export_reason:i,cor_data:t.cor_data,tickets_data:t.tickets_data,photos_manifest:t.photos_manifest,totals_snapshot:t.totals_snapshot,checksum:t.checksum,client_email:s,client_name:c}).select().single();if(m)throw m;return u}catch(u){return console.error("Error saving export snapshot:",u),null}},async getExportSnapshots(e){if(!P)return[];const{data:t,error:r}=await T.from("cor_export_snapshots").select("id, exported_at, export_type, export_reason, client_name, client_email, checksum").eq("cor_id",e).order("exported_at",{ascending:!1});return r?(console.error("Error fetching export snapshots:",r),[]):t||[]},async getExportSnapshot(e){if(!P)return null;const{data:t,error:r}=await T.from("cor_export_snapshots").select("*").eq("id",e).single();return r?(console.error("Error fetching export snapshot:",r),null):t},async requestCORExport(e,t,r={}){if(!P)return null;try{const n=await T.auth.getUser(),{data:i,error:s}=await T.rpc("request_cor_export",{p_cor_id:e,p_idempotency_key:t,p_options:r,p_requested_by:n?.data?.user?.id||null});if(s)throw s;return i?.[0]||null}catch(n){throw Ke.error("database",{message:n.message,operation:"requestCORExport",extra:{corId:e}}),n}},async getExportJob(e){if(!P)return null;const{data:t,error:r}=await T.from("cor_export_jobs").select("*").eq("id",e).single();return r?(console.error("Error fetching export job:",r),null):t},async getExportJobs(e,t=10){if(!P)return[];const{data:r,error:n}=await T.from("cor_export_jobs").select("*").eq("cor_id",e).order("created_at",{ascending:!1}).limit(t);return n?(console.error("Error fetching export jobs:",n),[]):r||[]},async updateExportJobStatus(e,t,r={}){if(!P)return null;try{const{data:n,error:i}=await T.rpc("update_export_job_status",{p_job_id:e,p_status:t,p_snapshot_id:r.snapshotId||null,p_pdf_url:r.pdfUrl||null,p_error:r.error||null,p_error_details:r.errorDetails||null,p_metrics:r.metrics||null});if(i)throw i;return n}catch(n){throw Ke.error("database",{message:n.message,operation:"updateExportJobStatus",extra:{jobId:e,status:t}}),n}},async getCurrentCORSnapshot(e){if(!P)return null;const{data:t}=await T.from("change_orders").select("version, last_snapshot_version").eq("id",e).single();if(!t||t.version!==t.last_snapshot_version)return null;const{data:r}=await T.from("cor_export_snapshots").select("*").eq("cor_id",e).eq("is_current",!0).single();return r||null},async saveCORSnapshot(e,t){if(!P)return null;try{await T.from("cor_export_snapshots").update({is_current:!1}).eq("cor_id",e.corId);const r=await T.auth.getUser(),{data:n,error:i}=await T.from("cor_export_snapshots").insert({id:e.snapshotId,cor_id:e.corId,job_id:t,cor_version:e.corVersion,cor_data:e.corData,tickets_data:e.ticketsData,photos_manifest:e.photoManifest,totals_snapshot:e.totals,checksum:e.checksum,is_current:!0,exported_by:r?.data?.user?.id||null}).select().single();if(i)throw i;return await T.from("change_orders").update({last_snapshot_version:e.corVersion}).eq("id",e.corId),n}catch(r){throw Ke.error("database",{message:r.message,operation:"saveCORSnapshot",extra:{corId:e.corId}}),r}},async updateCORAggregatedStats(e){if(P)try{await T.rpc("update_cor_aggregated_stats",{p_cor_id:e})}catch(t){console.error("Error updating COR aggregated stats:",t)}},async getCrewCheckin(e,t=null){if(!P)return null;const r=t||new Date().toISOString().split("T")[0],n=_e(),{data:i,error:s}=await n.from("crew_checkins").select("*").eq("project_id",e).eq("check_in_date",r).maybeSingle();return s&&console.error("Error fetching crew checkin:",s),i},async saveCrewCheckin(e,t,r=null,n=null){if(!P)return null;const i=n||new Date().toISOString().split("T")[0];if(!qn()){const m={id:Xr(),project_id:e,check_in_date:i,workers:t,created_by:r,updated_at:new Date().toISOString(),_offline:!0};return await Od(m),await un(Xt.SAVE_CREW_CHECKIN,{projectId:e,workers:t,checkInDate:i}),m}const s=_e();if(!s){const m={id:Xr(),project_id:e,check_in_date:i,workers:t,created_by:r,updated_at:new Date().toISOString(),_offline:!0};return await Od(m),await un(Xt.SAVE_CREW_CHECKIN,{projectId:e,workers:t,checkInDate:i}),m}const{data:c,error:u}=await s.from("crew_checkins").upsert({project_id:e,check_in_date:i,workers:t,created_by:r,updated_at:new Date().toISOString()},{onConflict:"project_id,check_in_date"}).select().single();if(u){if(u.message?.includes("fetch")||u.message?.includes("network")){const m={id:Xr(),project_id:e,check_in_date:i,workers:t,_offline:!0};return await Od(m),await un(Xt.SAVE_CREW_CHECKIN,{projectId:e,workers:t,checkInDate:i}),m}throw console.error("Error saving crew checkin:",u),u}return c&&Od(c).catch(m=>console.error("Failed to cache checkin:",m)),c},async addCrewMember(e,t,r=null){if(!P)return null;const n=await this.getCrewCheckin(e),i=n?.workers||[];return i.find(s=>s.name.toLowerCase()===t.name.toLowerCase())?n:(i.push(t),await this.saveCrewCheckin(e,i,r))},async removeCrewMember(e,t){if(!P)return null;const r=await this.getCrewCheckin(e);if(!r)return null;const n=r.workers.filter(i=>i.name.toLowerCase()!==t.toLowerCase());return await this.saveCrewCheckin(e,n,r.created_by)},async getCrewCheckinHistory(e,t=30){if(!P)return[];const r=_e();if(!r)return[];const{data:n,error:i}=await r.from("crew_checkins").select("*").eq("project_id",e).order("check_in_date",{ascending:!1}).limit(t);return i?(console.error("Error fetching crew history:",i),[]):n||[]},async getRecentWorkers(e,t=30){if(!P)return[];const r=await this.getCrewCheckinHistory(e,t),n=new Map;return r.forEach(i=>{(i.workers||[]).forEach(s=>{const c=s.name.toLowerCase();n.has(c)||n.set(c,{name:s.name,role:s.role,labor_class_id:s.labor_class_id||null,lastSeen:i.check_in_date})})}),Array.from(n.values()).sort((i,s)=>i.name.localeCompare(s.name))},async getLaborRates(e,t=null,r=null){if(!P)return[];let n=T.from("labor_rates").select("*").eq("company_id",e);t&&(n=n.eq("work_type",t)),r&&(n=n.eq("job_type",r));const{data:i,error:s}=await n;return s?(console.error("Error fetching labor rates:",s),[]):i||[]},async calculateManDayCosts(e,t,r,n){if(!P)return{totalCost:0,totalManDays:0,breakdown:[]};const i=await this.getCrewCheckinHistory(e,365),s=await this.getLaborRates(t,r,n),c={};s.forEach(p=>{c[p.role.toLowerCase()]=parseFloat(p.regular_rate)||0});let u=0,m=0;const h={},g=[];return i.forEach(p=>{const _=p.workers||[];let x=0;const w={};_.forEach(j=>{const S=(j.role||"laborer").toLowerCase(),O=c[S]||0;w[S]||(w[S]={count:0,cost:0}),w[S].count++,w[S].cost+=O,x+=O,h[S]||(h[S]={count:0,cost:0,rate:O}),h[S].count++,h[S].cost+=O}),u+=x,m+=_.length,g.push({date:p.check_in_date,workers:_.length,cost:x,breakdown:w})}),{totalCost:u,totalManDays:m,byRole:h,byDate:g,daysWorked:i.length}},async getDailyReport(e,t=null){if(!P)return null;const r=t||new Date().toISOString().split("T")[0],n=_e(),{data:i,error:s}=await n.from("daily_reports").select("*").eq("project_id",e).eq("report_date",r).maybeSingle();return s&&console.error("Error fetching daily report:",s),i},async compileDailyReport(e,t=null){if(!P)return null;const r=t||new Date().toISOString().split("T")[0],n=_e(),[i,s,c]=await Promise.all([this.getCrewCheckin(e,r),n.from("areas").select("*").eq("project_id",e),n.from("t_and_m_tickets").select("*").eq("project_id",e).eq("work_date",r)]),u=s?.data||[],m=c?.data||[],h=u.filter(p=>p.status==="done"&&p.completed_at?.startsWith(r)),g=m.reduce((p,_)=>p+(_.photos?.length||0),0);return{crew_count:i?.workers?.length||0,crew_list:i?.workers||[],tasks_completed:h.length,tasks_total:u.length,completed_tasks:h.map(p=>({name:p.name,group:p.group_name})),tm_tickets_count:m.length,photos_count:g}},async saveDailyReport(e,t,r=null){if(!P)return null;const n=r||new Date().toISOString().split("T")[0];if(!qn()){const u={id:Xr(),project_id:e,report_date:n,...t,updated_at:new Date().toISOString(),_offline:!0};return await Ts(u),u}const i=_e(),{data:s,error:c}=await i.from("daily_reports").upsert({project_id:e,report_date:n,...t,updated_at:new Date().toISOString()},{onConflict:"project_id,report_date"}).select().single();if(c){if(c.message?.includes("fetch")||c.message?.includes("network")){const u={id:Xr(),project_id:e,report_date:n,...t,_offline:!0};return await Ts(u),u}throw console.error("Error saving daily report:",c),c}return s&&Ts(s).catch(u=>console.error("Failed to cache report:",u)),s},async submitDailyReport(e,t,r=null){if(!P)return null;const n=r||new Date().toISOString().split("T")[0];if(!qn()){const m=await SL(e,n),h={id:Xr(),project_id:e,report_date:n,...m||{},status:"pending_sync",submitted_by:t,submitted_at:new Date().toISOString(),_offline:!0};return await Ts(h),await un(Xt.SUBMIT_DAILY_REPORT,{projectId:e,reportData:m||{},submittedBy:t}),h}const i=await this.compileDailyReport(e,n),s=_e();if(!s)throw new Error("Database client not available");const{data:c,error:u}=await s.from("daily_reports").upsert({project_id:e,report_date:n,...i,status:"submitted",submitted_at:new Date().toISOString(),submitted_by:t,updated_at:new Date().toISOString()},{onConflict:"project_id,report_date"}).select().single();if(u){if(u.message?.includes("fetch")||u.message?.includes("network")){const m={id:Xr(),project_id:e,report_date:n,...i,status:"pending_sync",submitted_by:t,_offline:!0};return await Ts(m),await un(Xt.SUBMIT_DAILY_REPORT,{projectId:e,reportData:i,submittedBy:t}),m}throw console.error("Error submitting daily report:",u),u}return c&&Ts(c).catch(m=>console.error("Failed to cache report:",m)),c},async getDailyReports(e,t=30){if(!P)return[];const r=_e();if(!r)return[];const{data:n,error:i}=await r.from("daily_reports").select("*").eq("project_id",e).order("report_date",{ascending:!1}).limit(t);return i?(console.error("Error fetching daily reports:",i),[]):n||[]},async sendMessage(e,t,r,n,i=null,s=null,c="general",u=null){if(!P)return null;if(!qn()){const g={id:Xr(),project_id:e,sender_type:r,sender_name:n,sender_user_id:i,message:t,photo_url:s,message_type:c,parent_message_id:u,created_at:new Date().toISOString(),_offline:!0};return await US(g),await un(Xt.SEND_MESSAGE,{projectId:e,senderType:r,senderName:n,content:t}),g}const{data:m,error:h}=await T.from("messages").insert({project_id:e,sender_type:r,sender_name:n,sender_user_id:i,message:t,photo_url:s,message_type:c,parent_message_id:u}).select().single();if(h){if(h.message?.includes("fetch")||h.message?.includes("network")){const g={id:Xr(),project_id:e,sender_type:r,sender_name:n,message:t,created_at:new Date().toISOString(),_offline:!0};return await US(g),await un(Xt.SEND_MESSAGE,{projectId:e,senderType:r,senderName:n,content:t}),g}throw console.error("Error sending message:",h),h}return m},async getMessages(e,t=50){if(!P)return[];const r=_e(),{data:n,error:i}=await r.from("messages").select("*").eq("project_id",e).order("created_at",{ascending:!1}).limit(t);return i?[]:n||[]},async getUnreadCount(e,t){if(!P)return 0;const r=_e(),n=t==="field"?"office":"field",{count:i,error:s}=await r.from("messages").select("*",{count:"exact",head:!0}).eq("project_id",e).eq("sender_type",n).eq("is_read",!1);return s?0:i||0},async markMessagesRead(e,t){if(!P)return;const r=_e(),n=t==="field"?"office":"field";await r.from("messages").update({is_read:!0,read_at:new Date().toISOString()}).eq("project_id",e).eq("sender_type",n).eq("is_read",!1)},async createMaterialRequest(e,t,r,n=null,i="normal",s=null){if(!P)return null;if(!qn()){const m={id:Xr(),project_id:e,items:t,requested_by:r,needed_by:n,priority:i,notes:s,status:"pending_sync",created_at:new Date().toISOString(),_offline:!0};return await un(Xt.CREATE_MATERIAL_REQUEST,{projectId:e,items:t,requestedBy:r,neededBy:n,priority:i,notes:s}),m}const{data:c,error:u}=await T.from("material_requests").insert({project_id:e,items:t,requested_by:r,needed_by:n,priority:i,notes:s}).select().single();if(u){if(u.message?.includes("fetch")||u.message?.includes("network")){const m={id:Xr(),project_id:e,items:t,requested_by:r,status:"pending_sync",_offline:!0};return await un(Xt.CREATE_MATERIAL_REQUEST,{projectId:e,items:t,requestedBy:r,neededBy:n,priority:i,notes:s}),m}throw console.error("Error creating material request:",u),u}return c},async getMaterialRequests(e,t=null){if(!P)return[];let r=T.from("material_requests").select("*").eq("project_id",e).order("created_at",{ascending:!1});t&&(r=r.eq("status",t));const{data:n,error:i}=await r;return i?(console.error("Error fetching material requests:",i),[]):n||[]},async getPendingRequestsCount(e){if(!P)return 0;const{count:t,error:r}=await T.from("material_requests").select("*",{count:"exact",head:!0}).eq("project_id",e).eq("status","pending");return r?0:t||0},async updateMaterialRequest(e,t,r,n=null,i=null){if(!P)return null;const s={status:t,responded_by:r,responded_at:new Date().toISOString(),response_notes:n,updated_at:new Date().toISOString()};i&&(s.expected_delivery=i),t==="delivered"&&(s.delivered_at=new Date().toISOString());const{data:c,error:u}=await T.from("material_requests").update(s).eq("id",e).select().single();if(u)throw console.error("Error updating material request:",u),u;return c},generateShareToken(){const e="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",t=new Uint8Array(12);return crypto.getRandomValues(t),Array.from(t,r=>e[r%e.length]).join("")},async createProjectShare(e,t,r,n=null){if(!P){const m=Oe();m.projectShares||(m.projectShares=[]);const h={id:crypto.randomUUID(),project_id:e,share_token:this.generateShareToken(),created_by:t,expires_at:n,is_active:!0,permissions:r,view_count:0,last_viewed_at:null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return m.projectShares.push(h),Ge(m),h}const{data:i,error:s}=await T.rpc("generate_share_token");if(s)throw console.error("Error generating share token:",s),s;const{data:c,error:u}=await T.from("project_shares").insert({project_id:e,share_token:i,created_by:t,expires_at:n,permissions:r}).select().single();if(u)throw console.error("Error creating project share:",u),u;return c},async getShareByToken(e){if(!P){const n=Oe();if(!n.projectShares)return null;const i=n.projectShares.find(s=>s.share_token===e&&s.is_active&&(!s.expires_at||new Date(s.expires_at)>new Date));return i&&(i.view_count++,i.last_viewed_at=new Date().toISOString(),Ge(n)),i}const{data:t,error:r}=await T.from("project_shares").select("*, projects(*)").eq("share_token",e).eq("is_active",!0).single();return r?(console.error("Error fetching share by token:",r),null):t.expires_at&&new Date(t.expires_at)<new Date?null:(await T.rpc("increment_share_view_count",{token:e}),t)},async getProjectShares(e){if(!P){const n=Oe();return n.projectShares?n.projectShares.filter(i=>i.project_id===e):[]}const{data:t,error:r}=await T.from("project_shares").select("*, users(name, email)").eq("project_id",e).order("created_at",{ascending:!1});return r?(console.error("Error fetching project shares:",r),[]):t||[]},async updateProjectShare(e,t){if(!P){const i=Oe();if(!i.projectShares)return null;const s=i.projectShares.findIndex(c=>c.id===e);return s===-1?null:(i.projectShares[s]={...i.projectShares[s],...t,updated_at:new Date().toISOString()},Ge(i),i.projectShares[s])}const{data:r,error:n}=await T.from("project_shares").update(t).eq("id",e).select().single();if(n)throw console.error("Error updating project share:",n),n;return r},async revokeProjectShare(e){return this.updateProjectShare(e,{is_active:!1})},async deleteProjectShare(e){if(!P){const r=Oe();if(!r.projectShares)return;r.projectShares=r.projectShares.filter(n=>n.id!==e),Ge(r);return}const{error:t}=await T.from("project_shares").delete().eq("id",e);if(t)throw console.error("Error deleting project share:",t),t},async getPublicProjectData(e){const t=await this.getShareByToken(e);if(!t)return null;const r=t.project_id||t.projects?.id;if(!P){const s=Oe(),c=s.projects.find(p=>p.id===r);if(!c)return null;const u=s.areas.filter(p=>p.project_id===r),m=u.reduce((p,_)=>p+parseFloat(_.weight||0),0),h=u.filter(p=>p.status==="done").reduce((p,_)=>p+parseFloat(_.weight||0),0),g=m>0?Math.round(h/m*100):0;return{share:t,project:c,progress:g,areas:t.permissions.progress?u:[],photos:[],dailyReports:[],tmTickets:[]}}const n=t.projects||await this.getProject(r);if(!n)return null;const i={share:t,project:n,areas:[],photos:[],dailyReports:[],tmTickets:[]};if(t.permissions.progress){i.areas=await this.getAreas(r);const s=i.areas.reduce((u,m)=>u+parseFloat(m.weight||0),0),c=i.areas.filter(u=>u.status==="done").reduce((u,m)=>u+parseFloat(m.weight||0),0);i.progress=s>0?Math.round(c/s*100):0}if(t.permissions.photos){const{data:s}=await T.from("t_and_m_tickets").select("photos, work_date").eq("project_id",r).not("photos","is",null).order("work_date",{ascending:!1}).limit(20);i.photos=s?.flatMap(c=>(c.photos||[]).map(u=>({url:u,date:c.work_date})))||[]}if(t.permissions.daily_reports){const{data:s}=await T.from("daily_reports").select("*").eq("project_id",r).order("report_date",{ascending:!1}).limit(10);i.dailyReports=s||[]}return t.permissions.tm_tickets&&(i.tmTickets=await this.getTMTickets(r)),i},async createInjuryReport(e){if(!P){const n=Oe();n.injuryReports||(n.injuryReports=[]);const i={id:crypto.randomUUID(),...e,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return n.injuryReports.push(i),Ge(n),i}const{data:t,error:r}=await T.from("injury_reports").insert(e).select().single();if(r)throw console.error("Error creating injury report:",r),r;return t},async getInjuryReports(e){if(!P){const n=Oe();return n.injuryReports?n.injuryReports.filter(i=>i.project_id===e).sort((i,s)=>new Date(s.incident_date)-new Date(i.incident_date)):[]}const{data:t,error:r}=await T.from("injury_reports").select("*").eq("project_id",e).order("incident_date",{ascending:!1});return r?(console.error("Error fetching injury reports:",r),[]):t||[]},async getCompanyInjuryReports(e,t=null){if(!P){const s=Oe();if(!s.injuryReports)return[];let c=s.injuryReports.filter(u=>u.company_id===e);return t&&(c=c.filter(u=>u.status===t)),c.sort((u,m)=>new Date(m.incident_date)-new Date(u.incident_date))}let r=T.from("injury_reports").select("*, projects(name)").eq("company_id",e).order("incident_date",{ascending:!1});t&&(r=r.eq("status",t));const{data:n,error:i}=await r;return i?(console.error("Error fetching company injury reports:",i),[]):n||[]},async getInjuryReport(e){if(!P){const n=Oe();return n.injuryReports?n.injuryReports.find(i=>i.id===e):null}const{data:t,error:r}=await T.from("injury_reports").select("*, projects(name, pin), users(name, email)").eq("id",e).single();return r?(console.error("Error fetching injury report:",r),null):t},async updateInjuryReport(e,t){if(!P){const i=Oe();if(!i.injuryReports)return null;const s=i.injuryReports.findIndex(c=>c.id===e);return s===-1?null:(i.injuryReports[s]={...i.injuryReports[s],...t,updated_at:new Date().toISOString()},Ge(i),i.injuryReports[s])}const{data:r,error:n}=await T.from("injury_reports").update(t).eq("id",e).select().single();if(n)throw console.error("Error updating injury report:",n),n;return r},async closeInjuryReport(e,t){return this.updateInjuryReport(e,{status:"closed",closed_at:new Date().toISOString(),closed_by:t})},async deleteInjuryReport(e){if(!P){const r=Oe();if(!r.injuryReports)return;r.injuryReports=r.injuryReports.filter(n=>n.id!==e),Ge(r);return}const{error:t}=await T.from("injury_reports").delete().eq("id",e);if(t)throw console.error("Error deleting injury report:",t),t},async getInjuryStatistics(e,t=null,r=null){if(!P){const s=Oe();if(!s.injuryReports)return{total_incidents:0,minor_injuries:0,serious_injuries:0,critical_injuries:0,near_misses:0,osha_recordable:0,total_days_away:0,total_restricted_days:0};let c=s.injuryReports.filter(u=>u.company_id===e);return t&&(c=c.filter(u=>new Date(u.incident_date)>=new Date(t))),r&&(c=c.filter(u=>new Date(u.incident_date)<=new Date(r))),{total_incidents:c.length,minor_injuries:c.filter(u=>u.injury_type==="minor").length,serious_injuries:c.filter(u=>u.injury_type==="serious").length,critical_injuries:c.filter(u=>u.injury_type==="critical").length,near_misses:c.filter(u=>u.injury_type==="near_miss").length,osha_recordable:c.filter(u=>u.osha_recordable).length,total_days_away:c.reduce((u,m)=>u+(m.days_away_from_work||0),0),total_restricted_days:c.reduce((u,m)=>u+(m.restricted_work_days||0),0)}}const{data:n,error:i}=await T.rpc("get_injury_statistics",{comp_id:e,start_date:t,end_date:r});return i?(console.error("Error fetching injury statistics:",i),null):n[0]||null},async addWitness(e,t){if(!P){const i=Oe();if(!i.injuryReports)return null;const s=i.injuryReports.findIndex(m=>m.id===e);if(s===-1)return null;const c=i.injuryReports[s],u=c.witnesses||[];return u.push(t),i.injuryReports[s]={...c,witnesses:u,updated_at:new Date().toISOString()},Ge(i),i.injuryReports[s]}const r=await this.getInjuryReport(e);if(!r)return null;const n=r.witnesses||[];return n.push(t),this.updateInjuryReport(e,{witnesses:n})},async removeWitness(e,t){if(!P){const i=Oe();if(!i.injuryReports)return null;const s=i.injuryReports.findIndex(m=>m.id===e);if(s===-1)return null;const c=i.injuryReports[s],u=c.witnesses||[];return u.splice(t,1),i.injuryReports[s]={...c,witnesses:u,updated_at:new Date().toISOString()},Ge(i),i.injuryReports[s]}const r=await this.getInjuryReport(e);if(!r)return null;const n=r.witnesses||[];return n.splice(t,1),this.updateInjuryReport(e,{witnesses:n})},async getCompanyUsers(e){if(P){const{data:t,error:r}=await T.from("user_companies").select(`
          user_id,
          role,
          users (
            id,
            name,
            email
          )
        `).eq("company_id",e);return r?(console.error("Error fetching company users:",r),[]):t?.map(n=>({id:n.user_id,name:n.users?.name||n.users?.email,email:n.users?.email,role:n.role}))||[]}return[]},async getProjectNotificationPreferences(e){if(P){const{data:r,error:n}=await T.from("notification_preferences").select(`
          *,
          users (
            id,
            name,
            email
          )
        `).eq("project_id",e);return n?(console.error("Error fetching notification preferences:",n),[]):r||[]}const t=Oe();return t.notificationPreferences?t.notificationPreferences.filter(r=>r.project_id===e):[]},async getUserNotificationPreferences(e){if(P){const{data:r,error:n}=await T.from("notification_preferences").select(`
          *,
          projects (
            id,
            name
          )
        `).eq("user_id",e);return n?(console.error("Error fetching user notification preferences:",n),[]):r||[]}const t=Oe();return t.notificationPreferences?t.notificationPreferences.filter(r=>r.user_id===e):[]},async setNotificationPreference(e,t,r){if(P){const{data:c,error:u}=await T.from("notification_preferences").upsert({project_id:e,user_id:t,notification_types:r,updated_at:new Date().toISOString()},{onConflict:"project_id,user_id"}).select().single();if(u)throw console.error("Error setting notification preference:",u),u;return c}const n=Oe();n.notificationPreferences||(n.notificationPreferences=[]);const i=n.notificationPreferences.findIndex(c=>c.project_id===e&&c.user_id===t),s={id:i>=0?n.notificationPreferences[i].id:crypto.randomUUID(),project_id:e,user_id:t,notification_types:r,created_at:i>=0?n.notificationPreferences[i].created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return i>=0?n.notificationPreferences[i]=s:n.notificationPreferences.push(s),Ge(n),s},async removeNotificationPreference(e,t){if(P){const{error:n}=await T.from("notification_preferences").delete().eq("project_id",e).eq("user_id",t);if(n)throw console.error("Error removing notification preference:",n),n;return!0}const r=Oe();return r.notificationPreferences&&(r.notificationPreferences=r.notificationPreferences.filter(n=>!(n.project_id===e&&n.user_id===t)),Ge(r)),!0},async setProjectNotificationPreferences(e,t){const r=[];for(const n of t)if(n.notificationTypes&&n.notificationTypes.length>0){const i=await this.setNotificationPreference(e,n.userId,n.notificationTypes);r.push(i)}else await this.removeNotificationPreference(e,n.userId);return r},async getNotificationPresets(e){if(P){const{data:r,error:n}=await T.from("notification_presets").select("*").eq("company_id",e).order("name");return n?(console.error("Error fetching notification presets:",n),[]):r||[]}const t=Oe();return t.notificationPresets?t.notificationPresets.filter(r=>r.company_id===e):[{id:"preset-1",name:"Project Manager",notification_types:["message","material_request","injury_report","tm_ticket"],company_id:e},{id:"preset-2",name:"Safety Officer",notification_types:["injury_report"],company_id:e},{id:"preset-3",name:"Purchasing",notification_types:["material_request"],company_id:e},{id:"preset-4",name:"Accounting",notification_types:["tm_ticket"],company_id:e}]},async createNotificationPreset(e,t,r){if(P){const{data:s,error:c}=await T.from("notification_presets").insert({company_id:e,name:t,notification_types:r}).select().single();if(c)throw console.error("Error creating notification preset:",c),c;return s}const n=Oe();n.notificationPresets||(n.notificationPresets=[]);const i={id:crypto.randomUUID(),company_id:e,name:t,notification_types:r,created_at:new Date().toISOString()};return n.notificationPresets.push(i),Ge(n),i},async updateNotificationPreset(e,t,r){if(P){const{data:s,error:c}=await T.from("notification_presets").update({name:t,notification_types:r,updated_at:new Date().toISOString()}).eq("id",e).select().single();if(c)throw console.error("Error updating notification preset:",c),c;return s}const n=Oe();if(!n.notificationPresets)return null;const i=n.notificationPresets.findIndex(s=>s.id===e);return i===-1?null:(n.notificationPresets[i]={...n.notificationPresets[i],name:t,notification_types:r,updated_at:new Date().toISOString()},Ge(n),n.notificationPresets[i])},async deleteNotificationPreset(e){if(P){const{error:r}=await T.from("notification_presets").delete().eq("id",e);if(r)throw console.error("Error deleting notification preset:",r),r;return!0}const t=Oe();return t.notificationPresets&&(t.notificationPresets=t.notificationPresets.filter(r=>r.id!==e),Ge(t)),!0},async getDumpSites(e){if(P){const{data:r,error:n}=await T.from("dump_sites").select(`
          *,
          dump_site_rates (*)
        `).eq("company_id",e).eq("active",!0).order("name");return n?(console.error("Error fetching dump sites:",n),[]):r||[]}return(Oe().dumpSites||[]).filter(r=>r.company_id===e&&r.active)},async createDumpSite(e,t,r="",n=""){if(P){const{data:c,error:u}=await T.from("dump_sites").insert({company_id:e,name:t,address:r,notes:n,active:!0}).select().single();if(u)throw console.error("Error creating dump site:",u),u;return c}const i=Oe();i.dumpSites||(i.dumpSites=[]);const s={id:crypto.randomUUID(),company_id:e,name:t,address:r,notes:n,active:!0,created_at:new Date().toISOString(),dump_site_rates:[]};return i.dumpSites.push(s),Ge(i),s},async updateDumpSite(e,t){if(P){const{data:i,error:s}=await T.from("dump_sites").update({...t,updated_at:new Date().toISOString()}).eq("id",e).select().single();if(s)throw console.error("Error updating dump site:",s),s;return i}const r=Oe();if(!r.dumpSites)return null;const n=r.dumpSites.findIndex(i=>i.id===e);return n===-1?null:(r.dumpSites[n]={...r.dumpSites[n],...t},Ge(r),r.dumpSites[n])},async deleteDumpSite(e){return this.updateDumpSite(e,{active:!1})},async setDumpSiteRate(e,t,r,n="load"){if(P){const{data:u}=await T.from("dump_site_rates").select("id").eq("dump_site_id",e).eq("waste_type",t).maybeSingle();if(u){const{data:m,error:h}=await T.from("dump_site_rates").update({estimated_cost_per_load:r,unit:n}).eq("id",u.id).select().single();if(h)throw console.error("Error updating dump site rate:",h),h;return m}else{const{data:m,error:h}=await T.from("dump_site_rates").insert({dump_site_id:e,waste_type:t,estimated_cost_per_load:r,unit:n}).select().single();if(h)throw console.error("Error inserting dump site rate:",h),h;return m}}const i=Oe();i.dumpSiteRates||(i.dumpSiteRates=[]);const s=i.dumpSiteRates.findIndex(u=>u.dump_site_id===e&&u.waste_type===t),c={id:s>=0?i.dumpSiteRates[s].id:crypto.randomUUID(),dump_site_id:e,waste_type:t,estimated_cost_per_load:r,unit:n,created_at:new Date().toISOString()};return s>=0?i.dumpSiteRates[s]=c:i.dumpSiteRates.push(c),Ge(i),c},async getDumpSiteRates(e){if(P){const{data:r,error:n}=await T.from("dump_site_rates").select("*").eq("dump_site_id",e);return n?(console.error("Error fetching dump site rates:",n),[]):r||[]}return(Oe().dumpSiteRates||[]).filter(r=>r.dump_site_id===e)},async getHaulOffs(e){if(P){const{data:r,error:n}=await T.from("haul_offs").select(`
          *,
          dump_sites (name)
        `).eq("project_id",e).order("work_date",{ascending:!1});return n?(console.error("Error fetching haul-offs:",n),[]):r||[]}return(Oe().haulOffs||[]).filter(r=>r.project_id===e).sort((r,n)=>new Date(n.work_date)-new Date(r.work_date))},async createHaulOff(e,t){const r={project_id:e,dump_site_id:t.dumpSiteId,waste_type:t.wasteType,loads:t.loads,hauling_company:t.haulingCompany||"",work_date:t.workDate,notes:t.notes||"",estimated_cost:t.estimatedCost||0,created_by:t.createdBy||""};if(P){const{data:s,error:c}=await T.from("haul_offs").insert(r).select().single();if(c)throw console.error("Error creating haul-off:",c),c;return s}const n=Oe();n.haulOffs||(n.haulOffs=[]);const i={...r,id:crypto.randomUUID(),created_at:new Date().toISOString()};return n.haulOffs.push(i),Ge(n),i},async calculateHaulOffCosts(e){const t=await this.getHaulOffs(e);let r=0,n=0;const i={},s=[],c={};t.forEach(m=>{const h=parseFloat(m.estimated_cost)||0,g=parseInt(m.loads)||0;r+=h,n+=g,i[m.waste_type]||(i[m.waste_type]={loads:0,cost:0}),i[m.waste_type].loads+=g,i[m.waste_type].cost+=h,c[m.work_date]||(c[m.work_date]={date:m.work_date,loads:0,cost:0}),c[m.work_date].loads+=g,c[m.work_date].cost+=h}),Object.values(c).sort((m,h)=>new Date(h.date)-new Date(m.date)).forEach(m=>s.push(m));const u=s.length;return{totalCost:r,totalLoads:n,byWasteType:i,byDate:s,daysWithHaulOff:u,avgDailyHaulOffCost:u>0?r/u:0}},subscribeToHaulOffs(e,t){return P?T.channel(`haul_offs:${e}`).on("postgres_changes",{event:"*",schema:"public",table:"haul_offs",filter:`project_id=eq.${e}`},t).subscribe():null},...CL,async createFolder(e,t,r){const n=_e(),{data:i,error:s}=await n.from("document_folders").insert({company_id:e,project_id:t,name:r.name,description:r.description||null,icon:r.icon||"folder",color:r.color||"blue",sort_order:r.sort_order||0,created_by:(await n.auth.getUser()).data.user?.id}).select().single();if(s)throw s;return i},async getProjectFolders(e){const t=_e(),{data:r,error:n}=await t.from("document_folders").select("*").eq("project_id",e).order("sort_order",{ascending:!0}).order("name",{ascending:!0});if(n)throw n;const i=r.map(s=>s.id);if(i.length>0){const{data:s,error:c}=await t.from("documents").select("folder_id").in("folder_id",i).is("archived_at",null).eq("is_current",!0);if(!c&&s){const u={};s.forEach(m=>{u[m.folder_id]=(u[m.folder_id]||0)+1}),r.forEach(m=>{m.document_count=u[m.id]||0})}}return r},async updateFolder(e,t){const r=_e(),{data:n,error:i}=await r.from("document_folders").update({...t,updated_at:new Date().toISOString()}).eq("id",e).select().single();if(i)throw i;return n},async deleteFolder(e){const t=_e();await t.from("documents").update({folder_id:null}).eq("folder_id",e);const{error:r}=await t.from("document_folders").delete().eq("id",e);if(r)throw r;return!0},async reorderFolders(e,t){const r=_e(),n=t.map(({id:i,sort_order:s})=>r.from("document_folders").update({sort_order:s,updated_at:new Date().toISOString()}).eq("id",i).eq("project_id",e));return await Promise.all(n),!0},async getFolderDocuments(e,t={}){const r=_e(),{page:n=0,limit:i=25}=t;let s=r.from("documents").select("*",{count:"exact"}).eq("folder_id",e).is("archived_at",null).eq("is_current",!0).order("uploaded_at",{ascending:!1}).range(n*i,(n+1)*i-1);const{data:c,error:u,count:m}=await s;if(u)throw u;return{documents:c||[],totalCount:m||0,hasMore:(m||0)>(n+1)*i}},async moveDocumentToFolder(e,t){const r=_e(),{data:n,error:i}=await r.from("documents").update({folder_id:t}).eq("id",e).select().single();if(i)throw i;return n},async getUnfiledDocuments(e,t={}){const r=_e(),{page:n=0,limit:i=25}=t,{data:s,error:c,count:u}=await r.from("documents").select("*",{count:"exact"}).eq("project_id",e).is("folder_id",null).is("archived_at",null).eq("is_current",!0).order("uploaded_at",{ascending:!1}).range(n*i,(n+1)*i-1);if(c)throw c;return{documents:s||[],totalCount:u||0,hasMore:(u||0)>(n+1)*i}},async uploadDocument(e,t,r,n={}){const i=_e(),s=Date.now(),c=250*1024*1024,{data:u}=await i.from("documents").select("file_size_bytes").eq("project_id",t).is("archived_at",null),m=u?.reduce((j,S)=>j+(S.file_size_bytes||0),0)||0;if(m+r.size>c){const j=Math.round(m/1024/1024),S=Math.round(c/1024/1024);throw new Error(`Project storage limit reached (${j}/${S} MB). Contact support to upgrade.`)}const h=Date.now(),g=new Uint8Array(6);crypto.getRandomValues(g);const p=Array.from(g,j=>j.toString(36)).join(""),_=r.name.split(".").pop()?.toLowerCase()||"bin",x=`${h}-${p}.${_}`,w=`${e}/${t}/documents/${x}`;try{const{data:j,error:S}=await i.storage.from("project-documents").upload(w,r,{cacheControl:"3600",upsert:!1});if(S)throw S;const{data:O}=i.storage.from("project-documents").getPublicUrl(w),C=O.publicUrl,A=n.category==="contracts"?"pending":"approved",{data:k,error:D}=await i.from("documents").insert({company_id:e,project_id:t,name:n.name||r.name.replace(/\.[^/.]+$/,""),description:n.description||null,file_name:r.name,file_size_bytes:r.size,mime_type:r.type,storage_path:w,folder_id:n.folderId||null,category:n.category||"general",tags:n.tags||[],visibility:n.visibility||"all",approval_status:A,resource_type:n.resourceType||null,resource_id:n.resourceId||null,uploaded_by:(await i.auth.getUser()).data?.user?.id}).select().single();if(D)throw D;const M=Date.now()-s;return Ke.storage("document_upload",{company_id:e,project_id:t,file_size:r.size,mime_type:r.type,duration:M,success:!0}),{...k,url:C}}catch(j){throw Ke.error("storage",{message:j.message,operation:"uploadDocument",company_id:e,project_id:t}),j}},async getProjectDocuments(e,{category:t=null,page:r=0,limit:n=25,includeArchived:i=!1}={}){let c=_e().from("documents").select("*",{count:"exact"}).eq("project_id",e).eq("is_current",!0).order("uploaded_at",{ascending:!1}).range(r*n,(r+1)*n-1);i||(c=c.is("archived_at",null)),t&&t!=="all"&&(c=c.eq("category",t));const{data:u,error:m,count:h}=await c;if(m)throw m;return{documents:u||[],totalCount:h||0,hasMore:(r+1)*n<(h||0),page:r,limit:n}},async getDocument(e){const t=_e(),{data:r,error:n}=await t.from("documents").select("*").eq("id",e).single();if(n)throw n;return r},async getDocumentVersions(e){const t=_e(),{data:r,error:n}=await t.from("documents").select("id, parent_document_id").eq("id",e).single();if(n)throw n;const i=r.parent_document_id||e,{data:s,error:c}=await t.from("documents").select("*").or(`id.eq.${i},parent_document_id.eq.${i}`).order("version",{ascending:!1});if(c)throw c;return s||[]},async uploadDocumentVersion(e,t,r,n,i={}){const s=_e(),{data:c,error:u}=await s.from("documents").select("*").eq("id",e).single();if(u)throw u;const{data:m}=await s.from("documents").select("version").or(`id.eq.${e},parent_document_id.eq.${e}`).order("version",{ascending:!1}).limit(1),h=(m?.[0]?.version||1)+1;await s.from("documents").update({is_current:!1}).or(`id.eq.${e},parent_document_id.eq.${e}`);const g=await this.uploadDocument(t,r,n,{name:i.name||c.name,description:i.description||c.description,category:c.category,visibility:c.visibility,tags:c.tags,resourceType:c.resource_type,resourceId:c.resource_id}),{data:p,error:_}=await s.from("documents").update({version:h,is_current:!0,parent_document_id:e}).eq("id",g.id).select().single();if(_)throw _;return await s.from("document_audit_log").insert({document_id:g.id,project_id:r,company_id:t,operation:"version_created",details:{version:h,parent_id:e},triggered_by:"user",user_id:(await s.auth.getUser()).data?.user?.id}),{...g,...p}},async updateDocument(e,t){const r=_e(),{data:n,error:i}=await r.from("documents").update({name:t.name,description:t.description,category:t.category,visibility:t.visibility,tags:t.tags}).eq("id",e).select().single();if(i)throw i;return n},async archiveDocument(e){const t=_e(),r=(await t.auth.getUser()).data?.user?.id,{data:n,error:i}=await t.from("documents").update({archived_at:new Date().toISOString(),archived_by:r}).eq("id",e).select().single();if(i)throw i;return await t.from("document_audit_log").insert({document_id:e,project_id:n.project_id,company_id:n.company_id,operation:"deleted",triggered_by:"user",user_id:r}),n},async restoreDocument(e){const t=_e(),r=(await t.auth.getUser()).data?.user?.id,{data:n,error:i}=await t.from("documents").update({archived_at:null,archived_by:null}).eq("id",e).select().single();if(i)throw i;return await t.from("document_audit_log").insert({document_id:e,project_id:n.project_id,company_id:n.company_id,operation:"restored",triggered_by:"user",user_id:r}),n},async deleteDocumentPermanently(e){const t=_e(),{data:r,error:n}=await t.from("documents").select("storage_path, company_id, project_id").eq("id",e).single();if(n)throw n;r.storage_path&&await t.storage.from("project-documents").remove([r.storage_path]);const{error:i}=await t.from("documents").delete().eq("id",e);if(i)throw i;return!0},async linkDocumentToResource(e,t,r){const n=_e(),{data:i,error:s}=await n.from("documents").update({resource_type:t,resource_id:r}).eq("id",e).select().single();if(s)throw s;return await n.from("document_audit_log").insert({document_id:e,project_id:i.project_id,company_id:i.company_id,operation:"linked",details:{resource_type:t,resource_id:r},triggered_by:"user",user_id:(await n.auth.getUser()).data?.user?.id}),i},async unlinkDocumentFromResource(e){const t=_e(),{data:r}=await t.from("documents").select("resource_type, resource_id, project_id, company_id").eq("id",e).single(),{data:n,error:i}=await t.from("documents").update({resource_type:null,resource_id:null}).eq("id",e).select().single();if(i)throw i;return await t.from("document_audit_log").insert({document_id:e,project_id:r.project_id,company_id:r.company_id,operation:"unlinked",details:{resource_type:r.resource_type,resource_id:r.resource_id},triggered_by:"user",user_id:(await t.auth.getUser()).data?.user?.id}),n},async getResourceDocuments(e,t){const r=_e(),{data:n,error:i}=await r.from("documents").select("*").eq("resource_type",e).eq("resource_id",t).is("archived_at",null).order("uploaded_at",{ascending:!1});if(i)throw i;return n||[]},async approveDocument(e){const t=_e(),{data:r,error:n}=await t.rpc("approve_document",{p_document_id:e});if(n)throw n;return r},async rejectDocument(e,t){const r=_e(),{data:n,error:i}=await r.rpc("reject_document",{p_document_id:e,p_reason:t});if(i)throw i;return n},async getPendingDocuments(e){const t=_e(),{data:r,error:n}=await t.from("documents").select("*, project:projects(name)").eq("company_id",e).eq("approval_status","pending").is("archived_at",null).order("uploaded_at",{ascending:!1});if(n)throw n;return r||[]},async searchDocuments(e,t){const r=_e(),{data:n,error:i}=await r.from("documents").select("*").eq("project_id",e).eq("is_current",!0).is("archived_at",null).or(`name.ilike.%${t}%,description.ilike.%${t}%`).order("uploaded_at",{ascending:!1}).limit(20);if(i)throw i;return n||[]},async logDocumentAccess(e,t="downloaded"){const r=_e(),{data:n}=await r.from("documents").select("project_id, company_id").eq("id",e).single();n&&await r.from("document_audit_log").insert({document_id:e,project_id:n.project_id,company_id:n.company_id,operation:t,triggered_by:"user",user_id:(await r.auth.getUser()).data?.user?.id})}};Mb(async e=>{if(e&&P)try{await ON(be)}catch(t){console.error("Error syncing pending actions:",t)}});const xZ=Object.freeze(Object.defineProperty({__proto__:null,auth:nf,clearFieldSession:vy,db:be,drawRequestOps:NL,equipmentOps:AL,getConnectionStatus:qn,getPendingActionCount:tf,getSupabaseClient:Ui,isFieldMode:yy,isSupabaseConfigured:P,onConnectionChange:Mb,supabase:T,syncPendingActions:ON},Symbol.toStringTag,{value:"Module"})),AN=y.createContext(),dn={logo_url:null,favicon_url:null,login_background_url:null,primary_color:"#3B82F6",secondary_color:"#1E40AF",custom_app_name:"FieldSync",hide_fieldsync_branding:!1,email_from_name:"FieldSync",email_from_address:null,custom_domain:null,domain_verified:!1};function kd({children:e,companyId:t}){const[r,n]=y.useState(dn),[i,s]=y.useState(!0);y.useEffect(()=>{t?c(t):u()},[t]),y.useEffect(()=>{g(r)},[r]);const c=async w=>{try{if(s(!0),!P){n(dn),s(!1);return}const{data:j,error:S}=await T.from("company_branding").select("*").eq("company_id",w).single();S?(S.code==="PGRST116"?await m(w):console.error("Error loading branding:",S),n(dn)):n({...dn,...j})}catch(j){console.error("Error in loadBranding:",j),n(dn)}finally{s(!1)}},u=async()=>{try{s(!0);const w=window.location.hostname;if(w==="localhost"||w==="127.0.0.1"){n(dn),s(!1);return}if(!P){n(dn),s(!1);return}const{data:j,error:S}=await T.rpc("get_branding_by_domain",{domain_name:w});S||!j||j.length===0?n(dn):n({...dn,...j[0]})}catch(w){console.error("Error loading branding by domain:",w),n(dn)}finally{s(!1)}},m=async w=>{try{const{data:j,error:S}=await T.from("company_branding").insert({company_id:w,...dn}).select().single();S&&console.error("Error creating default branding:",S)}catch(j){console.error("Error in createDefaultBranding:",j)}},h=y.useCallback(async w=>{try{if(!P)return n(D=>({...D,...w})),{success:!0};if(!t)return{success:!1,error:"No company ID"};const j={},S=["logo_url","favicon_url","login_background_url","primary_color","secondary_color","custom_app_name","hide_fieldsync_branding","email_from_name","email_from_address","custom_domain","domain_verified"];for(const D of S)w[D]!==void 0&&(j[D]=w[D]);const{data:O,error:C}=await T.from("company_branding").select("id").eq("company_id",t).single();if(C&&C.code==="PGRST116"){const{data:D,error:M}=await T.from("company_branding").insert({company_id:t,...j}).select().single();return M?(console.error("Error creating branding:",M),{success:!1,error:M.message}):(n({...dn,...D}),{success:!0,data:D})}const{data:A,error:k}=await T.from("company_branding").update(j).eq("company_id",t).select().single();return k?(console.error("Error updating branding:",k),{success:!1,error:k.message}):(n({...dn,...A}),{success:!0,data:A})}catch(j){return console.error("Error in updateBranding:",j),{success:!1,error:j.message}}},[t]),g=w=>{const j=document.documentElement;if(j.style.setProperty("--primary-color",w.primary_color),j.style.setProperty("--secondary-color",w.secondary_color),w.favicon_url){let S=document.querySelector("link[rel*='icon']");S||(S=document.createElement("link"),S.rel="icon",document.head.appendChild(S)),S.href=w.favicon_url}document.title=w.custom_app_name||"FieldSync"},p=y.useCallback(async(w,j)=>{try{if(!P)return{success:!0,url:URL.createObjectURL(w)};const S=w.name.split(".").pop(),C=`branding/${`${t}/${j}-${Date.now()}.${S}`}`,{data:A,error:k}=await T.storage.from("public").upload(C,w,{cacheControl:"3600",upsert:!0});if(k)return console.error("Error uploading image:",k),{success:!1,error:k.message};const{data:{publicUrl:D}}=T.storage.from("public").getPublicUrl(C);return{success:!0,url:D}}catch(S){return console.error("Error in uploadBrandingImage:",S),{success:!1,error:S.message}}},[t]),_=y.useCallback(()=>{t?c(t):u()},[t]),x=y.useMemo(()=>({branding:r,loading:i,updateBranding:h,uploadBrandingImage:p,refreshBranding:_}),[r,i,h,p,_]);return f.jsx(AN.Provider,{value:x,children:e})}function kL(){const e=y.useContext(AN);if(!e)throw new Error("useBranding must be used within a BrandingProvider");return e}const NN=y.createContext();function Sg({children:e}){const[t,r]=y.useState(()=>{const s=localStorage.getItem("fieldsync-theme");return s==="light"||s==="dark"?s:window.matchMedia&&window.matchMedia("(prefers-color-scheme: light)").matches?"light":"dark"});y.useEffect(()=>{document.documentElement.setAttribute("data-theme",t),localStorage.setItem("fieldsync-theme",t)},[t]),y.useEffect(()=>{const s=window.matchMedia("(prefers-color-scheme: light)"),c=u=>{localStorage.getItem("fieldsync-theme")||r(u.matches?"light":"dark")};return s.addEventListener("change",c),()=>s.removeEventListener("change",c)},[]);const n=y.useCallback(()=>{r(s=>s==="dark"?"light":"dark")},[]),i=y.useMemo(()=>({theme:t,setTheme:r,toggleTheme:n}),[t,n]);return f.jsx(NN.Provider,{value:i,children:e})}function DL(){const e=y.useContext(NN);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e}const TL=y.createContext(null);function PL({children:e}){const[t,r]=y.useState(null),[n,i]=y.useState([]),s=y.useCallback(()=>{r(null)},[]),c=y.useCallback((w,j="info",S=3e3)=>{if(t){i(O=>[...O,{message:w,type:j,duration:S}]);return}r({message:w,type:j,duration:S}),S>0&&setTimeout(()=>{r(null)},S)},[t]),u=y.useCallback(()=>{if(n.length>0){const[w,...j]=n;i(j),setTimeout(()=>{c(w.message,w.type,w.duration)},300)}},[n,c]),m=y.useCallback(()=>{s(),u()},[s,u]),h=y.useCallback((w,j)=>{c(w,"success",j)},[c]),g=y.useCallback((w,j)=>{c(w,"error",j)},[c]),p=y.useCallback((w,j)=>{c(w,"warning",j)},[c]),_=y.useCallback((w,j)=>{c(w,"info",j)},[c]),x=y.useMemo(()=>({toast:t,showToast:c,hideToast:m,success:h,error:g,warning:p,info:_}),[t,c,m,h,g,p,_]);return f.jsxs(TL.Provider,{value:x,children:[e,t&&f.jsx("div",{className:"toast-container",children:f.jsx("div",{className:`toast ${t.type}`,onClick:m,children:t.message})})]})}function Lr({className:e="",showPoweredBy:t=!1}){const{branding:r}=kL();return f.jsxs("div",{className:`app-logo ${e}`,children:[r.logo_url?f.jsx("img",{src:r.logo_url,alt:r.custom_app_name||"Logo",className:"custom-logo"}):f.jsxs("div",{className:"logo",children:[r.custom_app_name||"Field",f.jsx("span",{children:"Sync"})]}),t&&!r.hide_fieldsync_branding&&f.jsx("div",{className:"powered-by",children:"Powered by FieldSync"})]})}function ML(e){if(!e)return{score:0,label:"",color:""};let t=0;return e.length>=6&&t++,e.length>=8&&t++,/[A-Z]/.test(e)&&/[a-z]/.test(e)&&t++,/\d/.test(e)&&t++,/[^A-Za-z0-9]/.test(e)&&t++,t<=1?{score:1,label:"Weak",color:"var(--accent-red)"}:t<=2?{score:2,label:"Fair",color:"var(--accent-orange)"}:t<=3?{score:3,label:"Good",color:"var(--accent-amber)"}:t<=4?{score:4,label:"Strong",color:"var(--accent-green)"}:{score:5,label:"Very strong",color:"var(--accent-green)"}}function HS(e=6){const t="ABCDEFGHJKLMNPQRSTUVWXYZ23456789",r=new Uint32Array(e);return crypto.getRandomValues(r),Array.from(r,n=>t[n%t.length]).join("")}function Ps(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}function ic({steps:e,currentStep:t}){return f.jsx("div",{className:"onboarding-step-indicator",children:e.map((r,n)=>{const i=n+1,s=i===t,c=i<t;return f.jsxs("div",{className:"onboarding-step-wrapper",children:[n>0&&f.jsx("div",{className:`onboarding-step-line ${c?"completed":""}`}),f.jsx("div",{className:`onboarding-step-circle ${s?"active":""} ${c?"completed":""}`,children:c?f.jsx(Hi,{size:14}):i}),f.jsx("span",{className:`onboarding-step-label ${s?"active":""} ${c?"completed":""}`,children:r})]},n)})})}function FS({value:e,onChange:t,placeholder:r,onKeyDown:n,autoFocus:i,showStrength:s}){const[c,u]=y.useState(!1),m=ML(e);return f.jsxs("div",{className:"password-field",children:[f.jsxs("div",{className:"password-input-wrapper",children:[f.jsx("input",{type:c?"text":"password",value:e,onChange:t,placeholder:r||"Password",onKeyDown:n,autoFocus:i}),f.jsx("button",{type:"button",className:"password-toggle",onClick:()=>u(!c),tabIndex:-1,"aria-label":c?"Hide password":"Show password",children:c?f.jsx(WR,{size:18}):f.jsx(XR,{size:18})})]}),s&&e&&f.jsxs("div",{className:"password-strength",children:[f.jsx("div",{className:"password-strength-bar",children:f.jsx("div",{className:"password-strength-fill",style:{width:`${m.score/5*100}%`,background:m.color}})}),f.jsx("span",{className:"password-strength-label",style:{color:m.color},children:m.label})]})]})}function RL({onForemanAccess:e,onOfficeLogin:t,onShowToast:r}){const[n,i]=y.useState(null),[s,c]=y.useState(""),[u,m]=y.useState(null),[h,g]=y.useState(""),[p,_]=y.useState(!1),[x,w]=y.useState(""),[j,S]=y.useState(null),[O,C]=y.useState(()=>{try{return localStorage.getItem("fieldsync_foreman_name")||""}catch{return""}}),A=y.useRef(null),k=y.useRef(null);y.useEffect(()=>()=>{A.current&&clearTimeout(A.current),k.current&&clearTimeout(k.current)},[]);const[D,M]=y.useState(""),[L,X]=y.useState(""),[re,ae]=y.useState(1),[G,B]=y.useState(null),[ce,ge]=y.useState(""),[q,R]=y.useState(""),[I,ee]=y.useState(""),[U,me]=y.useState(""),[we,J]=y.useState(!1),[H,je]=y.useState(1),[Te,Ue]=y.useState(""),[pe,Le]=y.useState(""),[Q,Ee]=y.useState(""),[xe,ie]=y.useState(""),[Be,ve]=y.useState(null),Ne=fe=>{const rt=fe.toUpperCase().replace(/[^A-Z0-9]/g,"").slice(0,20);c(rt)},Me=async()=>{if(s.length<2){r("Enter company code","error");return}_(!0);try{const fe=await be.getCompanyByCode(s);fe?m(fe):(r("Invalid company code","error"),c(""))}catch{r("Error checking code","error")}finally{_(!1)}},Ct=async fe=>{if(fe.length===4){_(!0),w("");try{const rt=await be.getProjectByPinSecure(fe,u.code);if(rt.rateLimited){w("error"),r("Too many attempts. Please wait 15 minutes.","error"),A.current&&clearTimeout(A.current),A.current=setTimeout(()=>{g(""),w("")},800);return}if(rt.success&&rt.project){S(rt.project);return}if(rt.error){console.error("[Foreman Auth] PIN validation failed:",rt.error),r(rt.error,"error"),g("");return}r("Invalid PIN","error"),g("")}catch{r("Error checking PIN. Please check your connection.","error"),g("")}finally{_(!1)}}},Re=()=>{if(!O.trim()){r("Enter your name to continue","error");return}try{localStorage.setItem("fieldsync_foreman_name",O.trim())}catch{}e(j,O.trim())},It=fe=>{if(h.length<4&&!p){const rt=h+fe;g(rt),w(""),rt.length===4&&(k.current&&clearTimeout(k.current),k.current=setTimeout(()=>Ct(rt),150))}},_t=()=>{p||(g(fe=>fe.slice(0,-1)),w(""))},At=()=>{m(null),g(""),w("")},Cr=()=>{if(!D.trim()||!L.trim()){r("Enter email and password","error");return}t(D,L)},jt=async()=>{if(s.length<2){r("Enter company code","error");return}_(!0);try{const fe=await be.getCompanyByCode(s);fe?(B(fe),ae(2)):(r("Invalid company code","error"),c(""))}catch{r("Error checking code","error")}finally{_(!1)}},Ye=async()=>{if(!ce.trim()){r("Enter office code","error");return}_(!0);try{const{data:fe,error:rt}=await T.rpc("verify_office_code",{company_id:G.id,code:ce.trim()});if(rt)throw rt;fe===!0?ae(3):(r("Invalid office code","error"),ge(""))}catch{r("Error verifying code","error")}finally{_(!1)}},Hr=async()=>{if(!p){if(!q.trim()){r("Enter your name","error");return}if(!I.trim()||!Ps(I)){r("Enter a valid email address","error");return}if(U.length<6){r("Password must be 6+ characters","error");return}_(!0);try{const fe=I.toLowerCase().trim(),{data:rt,error:en}=await T.auth.signUp({email:fe,password:U});let Mr;if(en?.message?.includes("already registered")||rt?.user&&rt.user.identities?.length===0){const{data:vt,error:Ut}=await T.auth.signInWithPassword({email:fe,password:U});if(Ut){r("Account exists with different password. Use your existing password.","error"),_(!1);return}Mr=vt.user.id;const{data:xt}=await T.from("user_companies").select("id, status").eq("user_id",Mr).eq("company_id",G.id).maybeSingle();if(xt){xt.status==="active"?(r("You already belong to this company. Logging you in...","success"),setTimeout(()=>window.location.reload(),1e3)):xt.status==="pending"?(r("Your request is still pending approval.","error"),await T.auth.signOut()):(r("Your membership was removed. Contact the company admin.","error"),await T.auth.signOut());return}const{error:xn}=await T.from("user_companies").insert({user_id:Mr,company_id:G.id,role:"member",status:"pending"});if(xn)throw console.error("Error adding to user_companies:",xn),await T.auth.signOut(),new Error("Failed to submit join request");await T.auth.signOut(),J(!0)}else{if(en)throw en;{if(Mr=rt.user?.id,!Mr)throw new Error("Failed to create user");const{error:vt}=await T.from("users").insert({id:Mr,email:fe,password_hash:"managed_by_supabase_auth",name:q.trim(),company_id:G.id,role:"member",is_active:!0});if(vt)throw vt;const{error:Ut}=await T.from("user_companies").insert({user_id:Mr,company_id:G.id,role:"member",status:"pending"});if(Ut)throw console.error("Error adding to user_companies:",Ut),new Error("Failed to submit join request");await T.auth.signOut(),J(!0)}}}catch(fe){console.error("Join error:",fe),r(fe.message||"Error creating account","error")}finally{_(!1)}}},_n=async()=>{if(!p){if(!pe.trim()){r("Enter your name","error");return}if(!Q.trim()||!Ps(Q)){r("Enter a valid email address","error");return}if(xe.length<6){r("Password must be 6+ characters","error");return}_(!0);try{const fe=Q.toLowerCase().trim(),rt=HS(6),en=HS(6),{data:Mr,error:Rr}=await T.auth.signUp({email:fe,password:xe});if(Rr){if(Rr.message?.includes("already registered"))r("An account with this email already exists. Sign in instead.","error");else throw Rr;return}const vt=Mr.user?.id;if(!vt)throw new Error("Failed to create account");const{data:Ut,error:xt}=await T.from("companies").insert({name:Te.trim(),code:rt,office_code:en,subscription_tier:"free",owner_user_id:vt}).select().single();if(xt)throw console.error("Company creation error:",xt),new Error("Failed to create company. Please try again.");const{error:xn}=await T.from("users").insert({id:vt,email:fe,password_hash:"managed_by_supabase_auth",name:pe.trim(),company_id:Ut.id,role:"admin",is_active:!0});if(xn)throw console.error("User record error:",xn),new Error("Failed to set up user profile");const{error:ci}=await T.from("user_companies").insert({user_id:vt,company_id:Ut.id,role:"admin",access_level:"administrator",status:"active"});if(ci)throw console.error("User-company link error:",ci),new Error("Failed to link account to company");ve({name:Ut.name,code:rt,officeCode:en}),je(3)}catch(fe){console.error("Registration error:",fe),r(fe.message||"Error creating company","error")}finally{_(!1)}}},Pr=()=>{ae(1),B(null),ge(""),R(""),ee(""),me(""),J(!1),c("")},Ar=()=>{je(1),Ue(""),Le(""),Ee(""),ie(""),ve(null)};if(n===null)return f.jsx("div",{className:"entry-container",children:f.jsxs("div",{className:"entry-card animate-fade-in-up",children:[f.jsx(Lr,{className:"entry-logo",showPoweredBy:!1}),f.jsxs("div",{className:"entry-buttons stagger-children",children:[f.jsxs("button",{className:"entry-mode-btn foreman",onClick:()=>i("foreman"),children:[f.jsx("span",{className:"entry-mode-icon",children:f.jsx(Po,{size:32})}),f.jsx("span",{className:"entry-mode-title",children:"Foreman"}),f.jsx("span",{className:"entry-mode-desc",children:"Enter project PIN"})]}),f.jsxs("button",{className:"entry-mode-btn office",onClick:()=>i("office"),children:[f.jsx("span",{className:"entry-mode-icon",children:f.jsx(GR,{size:32})}),f.jsx("span",{className:"entry-mode-title",children:"Office"}),f.jsx("span",{className:"entry-mode-desc",children:"Sign in to dashboard"})]})]})]})});if(n==="foreman")return j?f.jsx("div",{className:"entry-container",children:f.jsxs("div",{className:"entry-card animate-fade-in",children:[f.jsx(Lr,{className:"entry-logo",showPoweredBy:!1}),f.jsx("div",{className:"entry-company-badge",children:j.name}),f.jsx("p",{className:"entry-subtitle",children:"Who's checking in?"}),f.jsxs("div",{className:"entry-form",children:[f.jsx("input",{type:"text",value:O,onChange:fe=>C(fe.target.value),placeholder:"Your name",autoFocus:!0,onKeyDown:fe=>{fe.key==="Enter"&&Re()},style:{fontSize:"1.1rem",textAlign:"center"}}),f.jsx("button",{className:"entry-login-btn",onClick:Re,disabled:!O.trim(),children:"Enter Site"})]}),f.jsx("p",{className:"entry-hint",style:{marginTop:"0.75rem"},children:"Your name will appear on reports and submissions"}),f.jsxs("button",{className:"entry-join-link",style:{marginTop:"0.5rem",display:"flex",alignSelf:"center"},onClick:()=>{S(null),g(""),w("")},children:[f.jsx(sr,{size:16}),f.jsx("span",{children:"Back"})]})]})}):u?f.jsx("div",{className:"entry-container",children:f.jsxs("div",{className:"entry-card animate-fade-in",children:[f.jsx("button",{className:"entry-back",onClick:At,children:f.jsx(sr,{size:20})}),f.jsx(Lr,{className:"entry-logo",showPoweredBy:!1}),f.jsx("div",{className:"entry-company-badge",children:u.name}),f.jsx("p",{className:"entry-subtitle",children:"Enter project PIN"}),f.jsx("div",{className:`pin-display ${x==="error"?"shake":""}`,children:[0,1,2,3].map(fe=>f.jsx("div",{className:`pin-dot ${h.length>fe?"filled":""} ${x}`,children:h.length>fe?"":""},fe))}),f.jsxs("div",{className:"number-pad",role:"group","aria-label":"PIN entry keypad",children:[[1,2,3,4,5,6,7,8,9].map(fe=>f.jsx("button",{className:"num-btn",onClick:()=>It(fe.toString()),disabled:p,"aria-label":String(fe),children:fe},fe)),f.jsx("button",{className:"num-btn empty",disabled:!0,"aria-hidden":"true"}),f.jsx("button",{className:"num-btn",onClick:()=>It("0"),disabled:p,"aria-label":"0",children:"0"}),f.jsx("button",{className:"num-btn backspace",onClick:_t,disabled:p||h.length===0,"aria-label":"Delete last digit",children:f.jsx(sr,{size:18})})]}),p&&f.jsx("div",{className:"entry-loading",children:f.jsx("div",{className:"spinner"})})]})}):f.jsx("div",{className:"entry-container",children:f.jsxs("div",{className:"entry-card animate-fade-in",children:[f.jsx("button",{className:"entry-back",onClick:()=>i(null),children:f.jsx(sr,{size:20})}),f.jsx(Lr,{className:"entry-logo",showPoweredBy:!1}),f.jsx("p",{className:"entry-subtitle",children:"Enter company code"}),f.jsxs("div",{className:"entry-input-group",children:[f.jsx("input",{type:"text",value:s,onChange:fe=>Ne(fe.target.value),placeholder:"Company Code",disabled:p,autoFocus:!0,onKeyDown:fe=>{fe.key==="Enter"&&Me()}}),f.jsx("button",{className:"entry-submit-btn",onClick:Me,disabled:p||s.length<2,children:p?f.jsx("div",{className:"spinner-small"}):f.jsx(bc,{size:20})})]})]})});if(n==="office")return f.jsx("div",{className:"entry-container",children:f.jsxs("div",{className:"entry-card animate-fade-in",children:[f.jsx("button",{className:"entry-back",onClick:()=>i(null),children:f.jsx(sr,{size:20})}),f.jsx(Lr,{className:"entry-logo",showPoweredBy:!1}),f.jsx("p",{className:"entry-subtitle",children:"Sign in to your account"}),f.jsxs("div",{className:"entry-form",children:[f.jsx("input",{type:"email",value:D,onChange:fe=>M(fe.target.value),placeholder:"Email",autoFocus:!0,onKeyDown:fe=>{fe.key==="Enter"&&Cr()}}),f.jsx("input",{type:"password",value:L,onChange:fe=>X(fe.target.value),placeholder:"Password",onKeyDown:fe=>{fe.key==="Enter"&&Cr()}}),f.jsx("button",{className:"entry-login-btn",onClick:Cr,children:"Sign In"})]}),f.jsx("div",{className:"entry-signup-hint",children:f.jsxs("div",{className:"entry-signup-options",children:[f.jsxs("button",{className:"entry-join-link",onClick:()=>{Pr(),i("join")},children:[f.jsx(FA,{size:16}),f.jsx("span",{children:"Join your company"})]}),f.jsxs("button",{className:"entry-join-link",onClick:()=>{Ar(),i("register")},children:[f.jsx(VR,{size:16}),f.jsx("span",{children:"Register a new company"})]})]})})]})});if(n==="join")return we?f.jsx("div",{className:"entry-container",children:f.jsxs("div",{className:"entry-card animate-scale-in",children:[f.jsx("div",{className:"entry-success-icon",children:f.jsx(Hi,{size:32})}),f.jsx("h2",{className:"entry-success-title",children:"Request Submitted"}),f.jsxs("p",{className:"entry-success-message",children:["Your request to join ",f.jsx("strong",{children:G?.name})," has been submitted. A company admin will review and approve your access."]}),f.jsx("p",{className:"entry-success-detail",children:"You'll be able to sign in once approved."}),f.jsx("button",{className:"entry-login-btn",onClick:()=>{Pr(),i("office")},style:{marginTop:"1.5rem"},children:"Back to Sign In"})]})}):re===1?f.jsx("div",{className:"entry-container",children:f.jsxs("div",{className:"entry-card animate-fade-in",children:[f.jsx("button",{className:"entry-back",onClick:()=>{Pr(),i("office")},children:f.jsx(sr,{size:20})}),f.jsx(Lr,{className:"entry-logo",showPoweredBy:!1}),f.jsx(ic,{steps:["Company","Verify","Account"],currentStep:1}),f.jsx("p",{className:"entry-subtitle",children:"Enter your company code"}),f.jsx("p",{className:"entry-hint",children:"Ask your manager or admin for the code"}),f.jsxs("div",{className:"entry-input-group",children:[f.jsx("input",{type:"text",value:s,onChange:fe=>Ne(fe.target.value),placeholder:"Company Code",disabled:p,autoFocus:!0,onKeyDown:fe=>{fe.key==="Enter"&&jt()}}),f.jsx("button",{className:"entry-submit-btn",onClick:jt,disabled:p||s.length<2,children:p?f.jsx("div",{className:"spinner-small"}):f.jsx(bc,{size:20})})]})]})}):re===2?f.jsx("div",{className:"entry-container",children:f.jsxs("div",{className:"entry-card animate-fade-in",children:[f.jsx("button",{className:"entry-back",onClick:()=>{ae(1),B(null),ge("")},children:f.jsx(sr,{size:20})}),f.jsx(Lr,{className:"entry-logo",showPoweredBy:!1}),f.jsx(ic,{steps:["Company","Verify","Account"],currentStep:2}),f.jsx("div",{className:"entry-company-badge",children:G?.name}),f.jsx("p",{className:"entry-subtitle",children:"Enter office code"}),f.jsx("p",{className:"entry-hint",children:"This verifies your office access"}),f.jsxs("div",{className:"entry-input-group",children:[f.jsx("input",{type:"password",value:ce,onChange:fe=>ge(fe.target.value),placeholder:"Office Code",disabled:p,autoFocus:!0,onKeyDown:fe=>{fe.key==="Enter"&&Ye()}}),f.jsx("button",{className:"entry-submit-btn",onClick:Ye,disabled:p||!ce.trim(),children:p?f.jsx("div",{className:"spinner-small"}):f.jsx(bc,{size:20})})]})]})}):f.jsx("div",{className:"entry-container",children:f.jsxs("div",{className:"entry-card animate-fade-in",children:[f.jsx("button",{className:"entry-back",onClick:()=>{ae(2),ge("")},children:f.jsx(sr,{size:20})}),f.jsx(Lr,{className:"entry-logo",showPoweredBy:!1}),f.jsx(ic,{steps:["Company","Verify","Account"],currentStep:3}),f.jsx("div",{className:"entry-company-badge",children:G?.name}),f.jsx("p",{className:"entry-subtitle",children:"Create your account"}),f.jsxs("div",{className:"entry-form",children:[f.jsx("input",{type:"text",value:q,onChange:fe=>R(fe.target.value),placeholder:"Your Name",autoFocus:!0}),f.jsx("input",{type:"email",value:I,onChange:fe=>ee(fe.target.value),placeholder:"Email",className:I&&!Ps(I)?"input-error":""}),f.jsx(FS,{value:U,onChange:fe=>me(fe.target.value),placeholder:"Password (6+ characters)",onKeyDown:fe=>{fe.key==="Enter"&&Hr()},showStrength:!0}),f.jsx("button",{className:"entry-login-btn",onClick:Hr,disabled:p||!q.trim()||!Ps(I)||U.length<6,children:p?f.jsxs("span",{className:"btn-loading",children:[f.jsx("div",{className:"spinner-small"}),"Creating account..."]}):"Join Company"})]}),f.jsx("p",{className:"entry-join-note",children:"You'll join as a team member. Your admin can update your role."})]})});if(n==="register"){if(H===3&&Be)return f.jsx("div",{className:"entry-container",children:f.jsxs("div",{className:"entry-card entry-card-wide animate-scale-in",children:[f.jsx("div",{className:"entry-success-icon",children:f.jsx(Hi,{size:32})}),f.jsx("h2",{className:"entry-success-title",children:"Company Created"}),f.jsxs("p",{className:"entry-success-message",children:[f.jsx("strong",{children:Be.name})," is ready to go. Save these codes to share with your team."]}),f.jsxs("div",{className:"entry-codes-grid",children:[f.jsxs("div",{className:"entry-code-card",children:[f.jsx("span",{className:"entry-code-label",children:"Company Code"}),f.jsx("span",{className:"entry-code-value",children:Be.code}),f.jsx("span",{className:"entry-code-hint",children:"Share with all employees"})]}),f.jsxs("div",{className:"entry-code-card",children:[f.jsx("span",{className:"entry-code-label",children:"Office Code"}),f.jsx("span",{className:"entry-code-value",children:Be.officeCode}),f.jsx("span",{className:"entry-code-hint",children:"Office staff only"})]})]}),f.jsx("p",{className:"entry-codes-warning",children:"Save these codes now. You can also find them in your company settings later."}),f.jsx("button",{className:"entry-login-btn",onClick:()=>{window.location.reload()},style:{marginTop:"0.5rem"},children:"Go to Dashboard"})]})});if(H===1)return f.jsx("div",{className:"entry-container",children:f.jsxs("div",{className:"entry-card animate-fade-in",children:[f.jsx("button",{className:"entry-back",onClick:()=>{Ar(),i("office")},children:f.jsx(sr,{size:20})}),f.jsx(Lr,{className:"entry-logo",showPoweredBy:!1}),f.jsx(ic,{steps:["Company","Your Account"],currentStep:1}),f.jsx("p",{className:"entry-subtitle",children:"Register your company"}),f.jsx("p",{className:"entry-hint",children:"Set up your company on FieldSync"}),f.jsxs("div",{className:"entry-form",children:[f.jsx("input",{type:"text",value:Te,onChange:fe=>Ue(fe.target.value),placeholder:"Company Name",autoFocus:!0,onKeyDown:fe=>{fe.key==="Enter"&&Te.trim()&&je(2)}}),f.jsx("button",{className:"entry-login-btn",onClick:()=>je(2),disabled:!Te.trim(),children:"Continue"})]})]})});if(H===2)return f.jsx("div",{className:"entry-container",children:f.jsxs("div",{className:"entry-card animate-fade-in",children:[f.jsx("button",{className:"entry-back",onClick:()=>je(1),children:f.jsx(sr,{size:20})}),f.jsx(Lr,{className:"entry-logo",showPoweredBy:!1}),f.jsx(ic,{steps:["Company","Your Account"],currentStep:2}),f.jsx("div",{className:"entry-company-badge",children:Te}),f.jsx("p",{className:"entry-subtitle",children:"Create your admin account"}),f.jsxs("div",{className:"entry-form",children:[f.jsx("input",{type:"text",value:pe,onChange:fe=>Le(fe.target.value),placeholder:"Your Name",autoFocus:!0}),f.jsx("input",{type:"email",value:Q,onChange:fe=>Ee(fe.target.value),placeholder:"Email",className:Q&&!Ps(Q)?"input-error":""}),f.jsx(FS,{value:xe,onChange:fe=>ie(fe.target.value),placeholder:"Password (6+ characters)",onKeyDown:fe=>{fe.key==="Enter"&&_n()},showStrength:!0}),f.jsx("button",{className:"entry-login-btn",onClick:_n,disabled:p||!pe.trim()||!Ps(Q)||xe.length<6,children:p?f.jsxs("span",{className:"btn-loading",children:[f.jsx("div",{className:"spinner-small"}),"Setting up company..."]}):"Create Company"})]}),f.jsx("p",{className:"entry-join-note",children:"You'll be the administrator. Company and office codes will be generated for you."})]})})}}function kN({message:e,type:t="",onClose:r}){return y.useEffect(()=>{const n=setTimeout(r,3e3);return()=>clearTimeout(n)},[r]),f.jsx("div",{className:"toast-container",children:f.jsx("div",{className:`toast ${t}`,children:e})})}function KS({compact:e=!1}){const{theme:t,toggleTheme:r}=DL();return f.jsx("button",{className:`theme-toggle ${e?"theme-toggle-compact":""}`,onClick:r,title:`Switch to ${t==="dark"?"light":"dark"} mode`,"aria-label":`Switch to ${t==="dark"?"light":"dark"} mode`,children:t==="dark"?f.jsxs(f.Fragment,{children:[f.jsx(KA,{size:e?18:16}),!e&&f.jsx("span",{children:"Light"})]}):f.jsxs(f.Fragment,{children:[f.jsx(YA,{size:e?18:16}),!e&&f.jsx("span",{children:"Dark"})]})})}class xo extends y.Component{constructor(t){super(t),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(t){return{hasError:!0}}componentDidCatch(t,r){this.setState({error:t,errorInfo:r}),console.error("ErrorBoundary caught an error:",t,r),(t?.message?.includes("Failed to fetch dynamically imported module")||t?.message?.includes("Loading chunk")||t?.message?.includes("Loading CSS chunk"))&&(console.warn("[ErrorBoundary] Chunk load failure detected, clearing cache and reloading..."),"caches"in window?caches.keys().then(i=>{Promise.all(i.map(s=>caches.delete(s))).then(()=>{window.location.reload()})}).catch(i=>{console.warn("[ErrorBoundary] Cache clear failed, reloading anyway:",i.message),window.location.reload()}):window.location.reload())}handleRetry=()=>{this.setState({hasError:!1,error:null,errorInfo:null})};handleReload=()=>{window.location.reload()};render(){return this.state.hasError?f.jsx("div",{className:"error-boundary",children:f.jsxs("div",{className:"error-boundary-content",children:[f.jsx("div",{className:"error-icon",children:f.jsx(sm,{size:48})}),f.jsx("h2",{children:"Something went wrong"}),f.jsx("p",{children:"We're sorry, but something unexpected happened. Please try again."}),f.jsxs("div",{className:"error-actions",children:[f.jsx("button",{className:"btn btn-primary",onClick:this.handleRetry,children:"Try Again"}),f.jsx("button",{className:"btn btn-secondary",onClick:this.handleReload,children:"Reload Page"})]}),!1]})}):this.props.children}}function YS(){const[e,t]=y.useState(qn()),[r,n]=y.useState(0),[i,s]=y.useState(!1),c=y.useRef(!1),u=y.useRef(null);return y.useEffect(()=>{const m=Mb(async g=>{t(g),g&&c.current&&(s(!0),u.current&&clearTimeout(u.current),u.current=setTimeout(()=>s(!1),3e3),c.current=!1),g||(c.current=!0);const p=await tf();n(p)});tf().then(n);const h=setInterval(async()=>{if(!qn()){const g=await tf();n(g)}},5e3);return()=>{m(),clearInterval(h),u.current&&clearTimeout(u.current)}},[]),e&&r===0&&!i?null:f.jsxs("div",{className:`offline-indicator ${e?"online":"offline"} ${i?"synced":""}`,children:[f.jsx("div",{className:"offline-indicator-content",children:e?i?f.jsxs(f.Fragment,{children:[f.jsx("span",{className:"online-icon",children:f.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:f.jsx("polyline",{points:"20 6 9 17 4 12"})})}),f.jsx("span",{className:"offline-text",children:"Changes synced!"})]}):r>0?f.jsxs(f.Fragment,{children:[f.jsx("span",{className:"syncing-icon",children:f.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("polyline",{points:"23 4 23 10 17 10"}),f.jsx("polyline",{points:"1 20 1 14 7 14"}),f.jsx("path",{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"})]})}),f.jsxs("span",{className:"offline-text",children:["Syncing ",r,"..."]})]}):null:f.jsxs(f.Fragment,{children:[f.jsx("span",{className:"offline-icon",children:f.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"}),f.jsx("path",{d:"M16.72 11.06A10.94 10.94 0 0 1 19 12.55"}),f.jsx("path",{d:"M5 12.55a10.94 10.94 0 0 1 5.17-2.39"}),f.jsx("path",{d:"M10.71 5.05A16 16 0 0 1 22.58 9"}),f.jsx("path",{d:"M1.42 9a15.91 15.91 0 0 1 4.7-2.88"}),f.jsx("path",{d:"M8.53 16.11a6 6 0 0 1 6.95 0"}),f.jsx("line",{x1:"12",y1:"20",x2:"12.01",y2:"20"})]})}),f.jsxs("span",{className:"offline-text",children:["Offline",r>0&&f.jsxs("span",{className:"pending-badge",children:[r," pending"]})]})]})}),f.jsx("style",{children:`
        .offline-indicator {
          position: fixed;
          bottom: 20px;
          left: 50%;
          transform: translateX(-50%);
          z-index: 9999;
          padding: 10px 16px;
          border-radius: 24px;
          font-size: 14px;
          font-weight: 500;
          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
          animation: slideUp 0.3s ease-out;
        }

        @keyframes slideUp {
          from {
            transform: translateX(-50%) translateY(20px);
            opacity: 0;
          }
          to {
            transform: translateX(-50%) translateY(0);
            opacity: 1;
          }
        }

        .offline-indicator.offline {
          background: #1f2937;
          color: #fbbf24;
        }

        .offline-indicator.online {
          background: #065f46;
          color: #d1fae5;
        }

        .offline-indicator.synced {
          background: #065f46;
          color: #d1fae5;
        }

        .offline-indicator-content {
          display: flex;
          align-items: center;
          gap: 8px;
        }

        .offline-icon,
        .online-icon,
        .syncing-icon {
          display: flex;
          align-items: center;
        }

        .syncing-icon svg {
          animation: spin 1s linear infinite;
        }

        @keyframes spin {
          from { transform: rotate(0deg); }
          to { transform: rotate(360deg); }
        }

        .offline-text {
          display: flex;
          align-items: center;
          gap: 8px;
        }

        .pending-badge {
          background: rgba(251, 191, 36, 0.2);
          padding: 2px 8px;
          border-radius: 12px;
          font-size: 12px;
        }

        @media (max-width: 480px) {
          .offline-indicator {
            bottom: 70px; /* Above mobile nav */
            left: 16px;
            right: 16px;
            transform: none;
          }
        }
      `})]})}function qL(){const[e,t]=y.useState(null),[r,n]=y.useState(!1);y.useEffect(()=>{if(window.matchMedia("(display-mode: standalone)").matches)return;const c=localStorage.getItem("pwa-install-dismissed");if(c){const m=parseInt(c,10);if(Date.now()-m<10080*60*1e3)return}const u=m=>{m.preventDefault(),t(m),n(!0)};return window.addEventListener("beforeinstallprompt",u),()=>window.removeEventListener("beforeinstallprompt",u)},[]);const i=async()=>{if(!e)return;e.prompt();const{outcome:c}=await e.userChoice;c==="accepted"&&n(!1),t(null)},s=()=>{n(!1),localStorage.setItem("pwa-install-dismissed",Date.now().toString())};return r?f.jsxs("div",{className:"install-prompt",children:[f.jsxs("div",{className:"install-prompt-content",children:[f.jsx(GA,{size:20}),f.jsxs("div",{className:"install-prompt-text",children:[f.jsx("strong",{children:"Install FieldSync"}),f.jsx("span",{children:"Add to home screen for quick access"})]})]}),f.jsxs("div",{className:"install-prompt-actions",children:[f.jsx("button",{className:"btn btn-primary btn-small",onClick:i,children:"Install"}),f.jsx("button",{className:"install-prompt-dismiss",onClick:s,"aria-label":"Dismiss",children:f.jsx(jb,{size:18})})]})]}):null}function zL({factorId:e,onVerified:t,onCancel:r}){const[n,i]=y.useState(""),[s,c]=y.useState(!1),[u,m]=y.useState(null),h=async()=>{if(n.length===6){c(!0),m(null);try{const{data:p,error:_}=await T.auth.mfa.challenge({factorId:e});if(_)throw _;const{error:x}=await T.auth.mfa.verify({factorId:e,challengeId:p.id,code:n});if(x)throw x;t()}catch{m("Invalid code. Please try again."),i("")}finally{c(!1)}}},g=p=>{p.key==="Enter"&&n.length===6&&h()};return f.jsxs("div",{className:"mfa-challenge",children:[f.jsx("div",{className:"mfa-challenge-icon",children:f.jsx(VA,{size:40})}),f.jsx("h2",{children:"Two-Factor Authentication"}),f.jsx("p",{children:"Enter the 6-digit code from your authenticator app"}),f.jsx("div",{className:"mfa-code-input",children:f.jsx("input",{type:"text",value:n,onChange:p=>i(p.target.value.replace(/\D/g,"").slice(0,6)),onKeyDown:g,placeholder:"000000",maxLength:6,autoFocus:!0,inputMode:"numeric",pattern:"[0-9]*",className:"mfa-input-large","aria-label":"MFA verification code"})}),u&&f.jsx("p",{className:"mfa-error",children:u}),f.jsxs("div",{className:"mfa-challenge-actions",children:[f.jsx("button",{className:"btn btn-secondary",onClick:r,children:"Cancel"}),f.jsx("button",{className:"btn btn-primary",onClick:h,disabled:n.length!==6||s,children:s?f.jsxs(f.Fragment,{children:[f.jsx($s,{size:14,className:"spinner"})," Verifying..."]}):"Verify"})]})]})}function wZ(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e)}function LL(e){if(!e||e.length===0)return 0;let t=0;return e.forEach(r=>{r.status==="done"&&(t+=r.weight||0)}),Math.round(t)}function jZ(e){if(!e||e.length===0)return{progress:0,earnedValue:0,totalValue:0,isValueBased:!1};if(e.some(n=>n.scheduled_value>0)){const n=e.reduce((c,u)=>c+(u.scheduled_value||0),0),i=e.filter(c=>c.status==="done").reduce((c,u)=>c+(u.scheduled_value||0),0);return{progress:n>0?Math.round(i/n*100):0,earnedValue:i,totalValue:n,isValueBased:!0}}const r=e.filter(n=>n.status==="done").reduce((n,i)=>n+(i.weight||0),0);return{progress:Math.round(r),earnedValue:0,totalValue:0,isValueBased:!1}}function IL(e){if(!e||e.length===0)return"not_started";const t=e.some(i=>i.status==="working"),r=e.some(i=>i.status==="done");return e.every(i=>i.status==="done")?"done":t||r?"working":"not_started"}function SZ(e){const t=IL(e);return t==="done"?"Complete":t==="working"?"In Progress":"Not Started"}function EZ(e,t=0){const r=new Date;r.setHours(0,0,0,0);const n={scheduleStatus:"on_track",scheduleVariance:0,scheduleLabel:"On Track",laborStatus:"on_track",laborVariance:0,laborLabel:null,hasScheduleData:!1,hasLaborData:!1};if(e.start_date&&e.end_date){const i=new Date(e.start_date),s=new Date(e.end_date);i.setHours(0,0,0,0),s.setHours(0,0,0,0);const c=Math.max(1,Math.ceil((s-i)/(1e3*60*60*24))),u=Math.max(0,Math.ceil((r-i)/(1e3*60*60*24))),m=Math.min(100,u/c*100),g=(e.progress||0)-m;n.scheduleVariance=Math.round(g),n.hasScheduleData=!0,g>5?(n.scheduleStatus="ahead",n.scheduleLabel=`Ahead of Schedule (+${n.scheduleVariance}%)`):g<-5?(n.scheduleStatus="behind",n.scheduleLabel=`Behind Schedule (${n.scheduleVariance}%)`):(n.scheduleStatus="on_track",n.scheduleLabel="On Track")}if(e.planned_man_days&&e.planned_man_days>0){const s=(e.progress||0)/100*e.planned_man_days;if(s>0&&t>0){const c=(t-s)/s*100;n.laborVariance=Math.round(c),n.hasLaborData=!0,c>10?(n.laborStatus="over",n.laborLabel=`Over Planned (+${n.laborVariance}% man-days)`):c<-10?(n.laborStatus="under",n.laborLabel=`Under Planned (${n.laborVariance}% man-days)`):(n.laborStatus="on_track",n.laborLabel="Labor On Track")}else t>0&&(n.hasLaborData=!0,n.laborLabel=`${t} man-days used`)}return n}function OZ(e,t=30){if(e.status==="archived"||e.progress<100)return!1;const r=e.areas||[];if(r.length===0||!r.every(c=>c.status==="done"))return!1;const i=r.reduce((c,u)=>{const m=new Date(u.updated_at);return m>c?m:c},new Date(0));return i.getTime()===0?!1:Math.floor((Date.now()-i.getTime())/(1e3*60*60*24))>=t}const CZ=e=>{const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]:[59,130,246]},UL=(e,t=5e3,r=.85)=>new Promise(n=>{if(!e){n(null);return}const i=new Image;i.crossOrigin="anonymous";const s=setTimeout(()=>{i.src="",n(null)},t);i.onload=()=>{clearTimeout(s);try{const c=document.createElement("canvas");c.width=i.width,c.height=i.height,c.getContext("2d").drawImage(i,0,0);const m=c.toDataURL("image/jpeg",r);n(m)}catch{n(null)}},i.onerror=()=>{clearTimeout(s),n(null)},i.src=e}),AZ=async(e,t=5e3,r=.85)=>!e||e.length===0?[]:await Promise.all(e.map(i=>UL(i,t,r)));async function GS(e,t=1920,r=.8){return!e.type.startsWith("image/")||e.size<500*1024?e:new Promise(n=>{const i=document.createElement("canvas"),s=i.getContext("2d"),c=new Image;c.onload=()=>{let{width:u,height:m}=c;u>t&&(m=Math.round(m*t/u),u=t);const h=1920;m>h&&(u=Math.round(u*h/m),m=h),i.width=u,i.height=m,s.imageSmoothingEnabled=!0,s.imageSmoothingQuality="high",s.drawImage(c,0,0,u,m),i.toBlob(g=>{if(g){const p=e.name.replace(/\.[^/.]+$/,""),_=new File([g],`${p}.jpg`,{type:"image/jpeg",lastModified:Date.now()});n(_)}else console.warn("Image compression failed, using original"),n(e)},"image/jpeg",r),URL.revokeObjectURL(c.src)},c.onerror=()=>{console.warn("Failed to load image for compression, using original"),URL.revokeObjectURL(c.src),n(e)},c.src=URL.createObjectURL(e)})}function BL(e=5e3){return new Promise(t=>{if(!navigator.geolocation){t(null);return}navigator.geolocation.getCurrentPosition(r=>{t({latitude:r.coords.latitude,longitude:r.coords.longitude,accuracy:Math.round(r.coords.accuracy)})},()=>t(null),{enableHighAccuracy:!0,timeout:e,maximumAge:6e4})})}const Eg=["Containment","PPE","Disposal","Equipment"],DN={en:{workInfo:"Work Details",crewHours:"Crew & Hours",materialsEquipment:"Materials",evidence:"Evidence",review:"Review",quickActions:"Quick Actions",sameAsYesterday:"Same as Yesterday",setCrewHours:"Set Crew Hours",loading:"Loading...",supervision:"Supervision",operators:"Operators",laborers:"Laborers",addSupervision:"+ Add Supervision",addOperator:"+ Add Operator",addLaborer:"+ Add Laborer",foreman:"Foreman",superintendent:"Superintendent",firstLastName:"First & Last Name",start:"Start",end:"End",regHrs:"Reg Hrs",otHrs:"OT Hrs",selectCategory:"Select a category:",addCustomItem:"+ Add Custom Item",customItem:"Custom Item",itemName:"Item Name",category:"Category",quantity:"Quantity",addItem:"Add Item",cancel:"Cancel",noItemsCategory:"No items in this category yet",workDate:"Work Date",ceNumber:"CE/PCO #",optional:"optional",linkedCOR:"Link to Change Order",selectCOR:"Select COR (optional)",noCORs:"No pending CORs",laborSummary:"Labor Summary",worker:"worker",workers_plural:"workers",totalHours:"Total Hours",regular:"Regular",overtime:"Overtime",materials:"Materials",item:"item",items_plural:"items",noMaterials:"No materials added",notes:"Notes",addNotes:"Add notes about the work performed...",photos:"Photos",addPhotos:"Add Photos",maxPhotos:"max",noPhotos:"No photos added",certification:"Certification",certifyStatement:"I certify that this T&M ticket accurately reflects the work performed.",foremanSignature:"Foreman's Name (Signature)",yourName:"Your name",describeWork:"Describe the work performed",descriptionRequired:"Description is required",whatWorkPerformed:"What work was performed today?",searchMaterials:"Search materials & equipment...",noSearchResults:"No items found",orBrowse:"Or browse by category:",back:"Back",next:"Next",nextCrew:"Next: Crew",nextMaterials:"Next: Materials",reviewItems:"Review",skipNoMaterials:"Skip (no materials)",submitTM:"Submit T&M",submitting:"Submitting...",applySameHours:"Apply Same Hours",batchDescription:"Set start/end time and hours for all workers with names entered.",timeStarted:"Time Started",timeEnded:"Time Ended",regularHours:"Regular Hours",overtimeHours:"Overtime Hours",willApplyTo:"Will apply to",applyToAll:"Apply to All",preset8hr:"8hr Day",preset10hr:"10hr Day",preset4hr:"4hr Day",loadedWorkers:"Loaded {count} workers from {date}",noPreviousCrew:"No previous crew found for this project",appliedHours:"Applied hours to {count} worker(s)",assignedToCOR:"Assigned to COR",photoEvidence:"Photo Evidence",photosAdded:"photo(s) added",recommendedForBilling:"Recommended for billing",addMorePhotos:"Add More Photos",linkToChangeOrder:"Link to Change Order",linkedTo:"Linked to",optionalLinkCOR:"Optional - Link this T&M to a COR",selectCOROptional:"-- Select a COR (optional) --",noActiveCORs:"No active CORs available for this project",addWorkersFirst:"Add workers first",errorLoadingCrew:"Error loading previous crew",descriptionRecommended:"Description recommended",workersNoHours:"worker(s) have no hours entered",nameRequired:"Name required to submit",submitted:"Submitted",switchToSpanish:"Cambiar a Espanol",switchToEnglish:"Switch to English",reviewAndSubmit:"Review & Submit",enterNameToSubmit:"Enter name to submit",done:"Done",skipSignature:"Skip signature for now",total:"total",needHours:"need hours",customHours:"Custom hours",selectTMWorkers:"Select T&M Workers",tapToAdd:"Tap to add",removeClass:"Remove this labor class",add:"Add",addLaborClass:"Add Labor Class...",other:"Other",noCustomClasses:"No custom labor classes set up for this company. Using default categories.",loadingLaborClasses:"Loading labor classes...",noLaborClassesYet:"No labor classes added yet. Select from crew check-in above or add manually:",tmSubmitted:"T&M Ticket Submitted!",ticketSavedReady:"Your ticket has been saved and is ready for client signature.",workersLabel:"Workers",retry:"Retry",retryAllPhotos:"Retry All Failed Photos",getClientSignature:"Get Client Signature",signatureDescription:"Have the client sign this T&M ticket to verify the work performed.",clientSignatureCollected:"Client signature collected!",signNowOnSite:"Sign Now (On-Site)",clientSignsDevice:"Client signs on this device",sendSignatureLink:"Send Signature Link",clientSignsLater:"Client signs later via link",ticketSummary:"Ticket Summary",edit:"Edit",submittedBy:"Submitted By",enterYourName:"Enter your name",certifyAccurate:"By submitting, you certify this T&M is accurate."},es:{workInfo:"Info del Trabajo",crewHours:"Cuadrilla y Horas",materialsEquipment:"Materiales",evidence:"Evidencia",review:"Revisar",quickActions:"Acciones Rapidas",sameAsYesterday:"Igual que Ayer",setCrewHours:"Poner Horas",loading:"Cargando...",supervision:"Supervision",operators:"Operadores",laborers:"Trabajadores",addSupervision:"+ Agregar Supervision",addOperator:"+ Agregar Operador",addLaborer:"+ Agregar Trabajador",foreman:"Capataz",superintendent:"Superintendente",firstLastName:"Nombre y Apellido",start:"Inicio",end:"Fin",regHrs:"Hrs Reg",otHrs:"Hrs Extra",selectCategory:"Seleccione una categoria:",addCustomItem:"+ Agregar Articulo",customItem:"Articulo Personalizado",itemName:"Nombre del Articulo",category:"Categoria",quantity:"Cantidad",addItem:"Agregar",cancel:"Cancelar",noItemsCategory:"No hay articulos en esta categoria",workDate:"Fecha de Trabajo",ceNumber:"CE/PCO #",optional:"opcional",linkedCOR:"Vincular a Orden de Cambio",selectCOR:"Seleccionar COR (opcional)",noCORs:"No hay CORs pendientes",laborSummary:"Resumen de Mano de Obra",worker:"trabajador",workers_plural:"trabajadores",totalHours:"Horas Totales",regular:"Regular",overtime:"Extra",materials:"Materiales",item:"articulo",items_plural:"articulos",noMaterials:"No se agregaron materiales",notes:"Notas",addNotes:"Agregar notas sobre el trabajo realizado...",photos:"Fotos",addPhotos:"Agregar Fotos",maxPhotos:"max",noPhotos:"No se agregaron fotos",certification:"Certificacion",certifyStatement:"Certifico que este ticket T&M refleja con precision el trabajo realizado.",foremanSignature:"Nombre del Capataz (Firma)",yourName:"Su nombre",describeWork:"Describir el trabajo realizado",descriptionRequired:"Descripcion es requerida",whatWorkPerformed:"Que trabajo se realizo hoy?",searchMaterials:"Buscar materiales y equipo...",noSearchResults:"No se encontraron articulos",orBrowse:"O navegar por categoria:",back:"Atras",next:"Siguiente",nextCrew:"Siguiente: Cuadrilla",nextMaterials:"Siguiente: Materiales",reviewItems:"Revisar",skipNoMaterials:"Saltar (sin materiales)",submitTM:"Enviar T&M",submitting:"Enviando...",applySameHours:"Aplicar Mismas Horas",batchDescription:"Establezca hora de inicio/fin y horas para todos los trabajadores.",timeStarted:"Hora de Inicio",timeEnded:"Hora de Fin",regularHours:"Horas Regulares",overtimeHours:"Horas Extra",willApplyTo:"Se aplicara a",applyToAll:"Aplicar a Todos",preset8hr:"Dia 8hr",preset10hr:"Dia 10hr",preset4hr:"Dia 4hr",loadedWorkers:"Se cargaron {count} trabajadores del {date}",noPreviousCrew:"No se encontro equipo anterior para este proyecto",appliedHours:"Horas aplicadas a {count} trabajador(es)",assignedToCOR:"Asignado a COR",photoEvidence:"Evidencia Fotogrfica",photosAdded:"foto(s) agregada(s)",recommendedForBilling:"Recomendado para facturacin",addMorePhotos:"Agregar Ms Fotos",linkToChangeOrder:"Vincular a Orden de Cambio",linkedTo:"Vinculado a",optionalLinkCOR:"Opcional - Vincular este T&M a un COR",selectCOROptional:"-- Seleccionar COR (opcional) --",noActiveCORs:"No hay CORs activos para este proyecto",addWorkersFirst:"Agregue trabajadores primero",errorLoadingCrew:"Error cargando equipo anterior",descriptionRecommended:"Descripcion recomendada",workersNoHours:"trabajador(es) sin horas",nameRequired:"Nombre requerido",submitted:"Enviado",switchToSpanish:"Cambiar a Espanol",switchToEnglish:"Switch to English",reviewAndSubmit:"Revisar y Enviar",enterNameToSubmit:"Ingrese nombre",done:"Listo",skipSignature:"Saltar firma por ahora",total:"total",needHours:"sin horas",customHours:"Horas personalizadas",selectTMWorkers:"Seleccionar Trabajadores T&M",tapToAdd:"Toca para agregar",removeClass:"Eliminar esta clase",add:"Agregar",addLaborClass:"Agregar Clase de Trabajo...",other:"Otros",noCustomClasses:"No hay clases de trabajo personalizadas. Usando categorias predeterminadas.",loadingLaborClasses:"Cargando clases de trabajo...",noLaborClassesYet:"No hay clases de trabajo agregadas. Seleccione del check-in o agregue manualmente:",tmSubmitted:"Ticket T&M Enviado!",ticketSavedReady:"Su ticket ha sido guardado y est listo para la firma del cliente.",workersLabel:"Trabajadores",retry:"Reintentar",retryAllPhotos:"Reintentar Todas las Fotos",getClientSignature:"Obtener Firma del Cliente",signatureDescription:"Haga que el cliente firme este ticket T&M para verificar el trabajo realizado.",clientSignatureCollected:"Firma del cliente recopilada!",signNowOnSite:"Firmar Ahora",clientSignsDevice:"Cliente firma en este dispositivo",sendSignatureLink:"Enviar Enlace",clientSignsLater:"Cliente firma despus va enlace",ticketSummary:"Resumen del Ticket",edit:"Editar",submittedBy:"Enviado Por",enterYourName:"Ingrese su nombre",certifyAccurate:"Al enviar, certifica que este T&M es preciso."}},$L=e=>t=>DN[e]?.[t]||t;function HL({project:e,workDate:t,setWorkDate:r,cePcoNumber:n,setCePcoNumber:i,notes:s,setNotes:c,t:u,lang:m}){return f.jsxs("div",{className:"tm-step-content",children:[f.jsxs("div",{className:"tm-project-info",children:[e.job_number&&f.jsxs("div",{className:"tm-project-detail",children:[f.jsx("span",{className:"tm-project-label",children:"Job #"}),f.jsx("span",{className:"tm-project-value",children:e.job_number})]}),f.jsxs("div",{className:"tm-project-detail",children:[f.jsx("span",{className:"tm-project-label",children:"Project"}),f.jsx("span",{className:"tm-project-value",children:e.name})]}),e.address&&f.jsxs("div",{className:"tm-project-detail",children:[f.jsx("span",{className:"tm-project-label",children:"Address"}),f.jsx("span",{className:"tm-project-value",children:e.address})]}),e.general_contractor&&f.jsxs("div",{className:"tm-project-detail",children:[f.jsx("span",{className:"tm-project-label",children:"GC"}),f.jsx("span",{className:"tm-project-value",children:e.general_contractor})]})]}),f.jsxs("div",{className:"tm-field-row",children:[f.jsxs("div",{className:"tm-field tm-field-half",children:[f.jsx("label",{children:"Date"}),f.jsx("input",{type:"date",value:t,onChange:h=>r(h.target.value),className:"tm-date"})]}),f.jsxs("div",{className:"tm-field tm-field-half",children:[f.jsx("label",{children:"CE / PCO #"}),f.jsx("input",{type:"text",placeholder:"Change Event / PCO",value:n,onChange:h=>i(h.target.value),className:"tm-input"})]})]}),f.jsxs("div",{className:"tm-field tm-description-field",children:[f.jsxs("label",{children:[f.jsx(Fo,{size:16,className:"inline-icon"}),u("describeWork")," ",f.jsx("span",{className:"tm-required",children:"*"})]}),f.jsx("textarea",{placeholder:u("whatWorkPerformed"),value:s,onChange:h=>c(h.target.value),rows:4,className:`tm-description ${s.trim()?"":"tm-field-required"}`})]})]})}const FL=e=>{if(!e)return"empty";const t=e.name&&e.name.trim()!=="",r=parseFloat(e.hours)>0||parseFloat(e.overtimeHours)>0;return t?r?"complete":"incomplete":"empty"},VS=(e,t)=>{if(!e||!t)return null;const[r,n]=e.split(":").map(Number),[i,s]=t.split(":").map(Number);let c=i*60+s-(r*60+n);c<0&&(c+=1440);const u=c/60,m=Math.min(u,8),h=Math.max(0,u-8);return{hours:m.toFixed(1),overtimeHours:h>0?h.toFixed(1):""}};function oc({worker:e,index:t,onUpdate:r,onRemove:n,t:i,roleSelect:s}){const c=FL(e);return f.jsxs("div",{className:`tm-worker-card-expanded ${c!=="empty"?`worker-${c}`:""}`,children:[f.jsxs("div",{className:"tm-worker-row-top",children:[c==="complete"&&f.jsx("span",{className:"tm-worker-check",children:f.jsx(Hi,{size:14})}),s,f.jsx("input",{type:"text",placeholder:i("firstLastName"),value:e.name,onChange:u=>r(t,"name",u.target.value),className:"tm-worker-input"}),f.jsx("button",{className:"tm-remove",onClick:()=>n(t),children:""})]}),f.jsxs("div",{className:"tm-worker-row-bottom",children:[f.jsxs("div",{className:"tm-time-group",children:[f.jsx("label",{children:i("start")}),f.jsx("input",{type:"time",value:e.timeStarted,onChange:u=>r(t,"timeStarted",u.target.value)})]}),f.jsxs("div",{className:"tm-time-group",children:[f.jsx("label",{children:i("end")}),f.jsx("input",{type:"time",value:e.timeEnded,onChange:u=>r(t,"timeEnded",u.target.value)})]}),f.jsxs("div",{className:"tm-time-group",children:[f.jsx("label",{children:i("regHrs")}),f.jsx("input",{type:"number",placeholder:"0",value:e.hours,onChange:u=>r(t,"hours",u.target.value)})]}),f.jsxs("div",{className:"tm-time-group",children:[f.jsx("label",{children:i("otHrs")}),f.jsx("input",{type:"number",placeholder:"0",value:e.overtimeHours,onChange:u=>r(t,"overtimeHours",u.target.value)})]})]})]})}function KL({batchHours:e,setBatchHours:t,namedWorkerCount:r,onApply:n,onClose:i,t:s}){const c=u=>{let m,h,g,p;switch(u){case"full":m="07:00",h="15:30",g="8",p="";break;case"10hr":m="06:00",h="16:30",g="8",p="2";break;case"half":m="07:00",h="11:00",g="4",p="";break;default:return}t({timeStarted:m,timeEnded:h,hours:g,overtimeHours:p})};return f.jsx("div",{className:"tm-modal-overlay",onClick:i,children:f.jsxs("div",{className:"tm-batch-modal",onClick:u=>u.stopPropagation(),children:[f.jsxs("h3",{children:[f.jsx(Mo,{size:18})," ",s("applySameHours")]}),f.jsx("p",{className:"tm-batch-description",children:s("batchDescription")}),f.jsxs("div",{className:"tm-time-presets",children:[f.jsx("button",{type:"button",className:"tm-preset-btn",onClick:()=>c("full"),children:s("preset8hr")}),f.jsx("button",{type:"button",className:"tm-preset-btn",onClick:()=>c("10hr"),children:s("preset10hr")}),f.jsx("button",{type:"button",className:"tm-preset-btn",onClick:()=>c("half"),children:s("preset4hr")})]}),f.jsxs("div",{className:"tm-batch-form",children:[f.jsxs("div",{className:"tm-batch-row",children:[f.jsxs("div",{className:"tm-batch-field",children:[f.jsx("label",{children:s("timeStarted")}),f.jsx("input",{type:"time",value:e.timeStarted,onChange:u=>{const m=u.target.value,h=VS(m,e.timeEnded);t({...e,timeStarted:m,...h||{}})}})]}),f.jsxs("div",{className:"tm-batch-field",children:[f.jsx("label",{children:s("timeEnded")}),f.jsx("input",{type:"time",value:e.timeEnded,onChange:u=>{const m=u.target.value,h=VS(e.timeStarted,m);t({...e,timeEnded:m,...h||{}})}})]})]}),f.jsxs("div",{className:"tm-batch-row",children:[f.jsxs("div",{className:"tm-batch-field",children:[f.jsx("label",{children:s("regularHours")}),f.jsx("input",{type:"number",placeholder:"8",value:e.hours,onChange:u=>t({...e,hours:u.target.value})})]}),f.jsxs("div",{className:"tm-batch-field",children:[f.jsx("label",{children:s("overtimeHours")}),f.jsx("input",{type:"number",placeholder:"0",value:e.overtimeHours,onChange:u=>t({...e,overtimeHours:u.target.value})})]})]})]}),f.jsxs("div",{className:"tm-batch-preview",children:[f.jsxs("strong",{children:[s("willApplyTo"),":"]}),f.jsxs("span",{children:[r," ",s("workers_plural")]})]}),f.jsxs("div",{className:"tm-batch-actions",children:[f.jsx("button",{type:"button",className:"btn btn-secondary",onClick:i,children:s("cancel")}),f.jsx("button",{type:"button",className:"btn btn-primary",onClick:n,disabled:!e.hours&&!e.overtimeHours,children:s("applyToAll")})]})]})})}function YL({supervision:e,operators:t,laborers:r,dynamicWorkers:n,activeLaborClassIds:i,setActiveLaborClassIds:s,laborCategories:c,laborClasses:u,hasCustomLaborClasses:m,loadingLaborClasses:h,todaysCrew:g,showBatchHoursModal:p,setShowBatchHoursModal:_,batchHours:x,setBatchHours:w,loadingPreviousCrew:j,namedWorkers:S,workersNeedingHours:O,totalRegHours:C,totalOTHours:A,onLoadPreviousCrew:k,onApplyBatchHours:D,onApplyInlinePreset:M,onAddCrewWorker:L,onActivateLaborClass:X,onDeactivateLaborClass:re,addSupervision:ae,updateSupervision:G,removeSupervision:B,addOperator:ce,updateOperator:ge,removeOperator:q,addLaborer:R,updateLaborer:I,removeLaborer:ee,addDynamicWorker:U,updateDynamicWorker:me,removeDynamicWorker:we,getInactiveLaborClasses:J,t:H,lang:je,onShowToast:Te}){const Ue=S.length;return f.jsxs("div",{className:"tm-step-content",children:[f.jsxs("div",{className:"tm-crew-summary-bar",children:[f.jsxs("div",{className:"tm-summary-left",children:[f.jsx("span",{className:"tm-summary-count",children:S.length}),f.jsx("span",{className:"tm-summary-label",children:S.length===1?H("worker"):H("workers_plural")})]}),f.jsxs("div",{className:"tm-summary-middle",children:[f.jsxs("span",{className:"tm-summary-hours",children:[C+A,"h"]}),f.jsx("span",{className:"tm-summary-label",children:H("total")})]}),O>0&&f.jsxs("div",{className:"tm-summary-warning",children:[f.jsx(Sb,{size:14}),f.jsxs("span",{children:[O," ",H("needHours")]})]})]}),f.jsxs("div",{className:"tm-quick-actions-row",children:[f.jsxs("button",{className:"tm-quick-action",onClick:k,disabled:j,children:[f.jsx(ZR,{size:16}),f.jsx("span",{children:H(j?"loading":"sameAsYesterday")})]}),S.length>0&&f.jsxs("div",{className:"tm-time-presets-inline",children:[f.jsx("button",{className:"tm-preset-chip",onClick:()=>M("8hr"),children:"8h"}),f.jsx("button",{className:"tm-preset-chip",onClick:()=>M("10hr"),children:"10h"}),f.jsx("button",{className:"tm-preset-chip",onClick:()=>M("4hr"),children:"4h"}),f.jsx("button",{className:"tm-preset-chip more",onClick:()=>_(!0),title:H("customHours"),children:f.jsx(Mo,{size:14})})]})]}),g.length>0&&f.jsxs("div",{className:"tm-crew-select-section",children:[f.jsxs("div",{className:"tm-section-header",children:[f.jsxs("h4",{children:[f.jsx(Po,{size:16})," ",H("selectTMWorkers")]}),f.jsx("span",{className:"tm-section-hint",children:H("tapToAdd")})]}),f.jsx("div",{className:"tm-crew-grid",children:g.map((pe,Le)=>{const Q=e.some(ie=>ie.name.toLowerCase()===pe.name.toLowerCase())||t.some(ie=>ie.name.toLowerCase()===pe.name.toLowerCase())||r.some(ie=>ie.name.toLowerCase()===pe.name.toLowerCase()),Ee=Object.values(n).some(ie=>ie.some(Be=>Be.name.toLowerCase()===pe.name.toLowerCase())),xe=Q||Ee;return f.jsxs("button",{className:`tm-crew-item ${xe?"added":""}`,onClick:()=>{xe||L(pe)},disabled:xe,children:[f.jsx("span",{className:"tm-crew-item-name",children:pe.name}),f.jsx("span",{className:`tm-crew-item-role ${(pe.role||"laborer").toLowerCase()}`,children:pe.role||"Laborer"}),xe&&f.jsx("span",{className:"tm-crew-item-check",children:""})]},Le)})})]}),m&&!h&&f.jsxs(f.Fragment,{children:[c.map(pe=>{const Le=u.filter(Q=>Q.category_id===pe.id&&i.has(Q.id));return Le.length===0?null:f.jsxs("div",{className:"tm-labor-category-section",children:[f.jsx("div",{className:"tm-category-header",children:pe.name}),Le.map(Q=>f.jsxs("div",{className:"tm-field",children:[f.jsxs("div",{className:"tm-field-header",children:[f.jsx("label",{children:Q.name}),f.jsx("button",{type:"button",className:"tm-remove-class-btn",onClick:()=>re(Q.id),title:H("removeClass"),children:""})]}),f.jsx("div",{className:"tm-workers-list",children:(n[Q.id]||[]).map((Ee,xe)=>f.jsx(oc,{worker:Ee,index:xe,onUpdate:(ie,Be,ve)=>me(Q.id,ie,Be,ve),onRemove:ie=>we(Q.id,ie),t:H},xe))}),f.jsxs("button",{className:"tm-add-btn",onClick:()=>U(Q.id),children:["+ ",H("add")," ",Q.name]})]},Q.id))]},pe.id)}),u.filter(pe=>!pe.category_id&&i.has(pe.id)).map(pe=>f.jsxs("div",{className:"tm-field",children:[f.jsxs("div",{className:"tm-field-header",children:[f.jsx("label",{children:pe.name}),f.jsx("button",{type:"button",className:"tm-remove-class-btn",onClick:()=>re(pe.id),title:H("removeClass"),children:""})]}),f.jsx("div",{className:"tm-workers-list",children:(n[pe.id]||[]).map((Le,Q)=>f.jsx(oc,{worker:Le,index:Q,onUpdate:(Ee,xe,ie)=>me(pe.id,Ee,xe,ie),onRemove:Ee=>we(pe.id,Ee),t:H},Q))}),f.jsxs("button",{className:"tm-add-btn",onClick:()=>U(pe.id),children:["+ ",H("add")," ",pe.name]})]},pe.id)),J().length>0&&f.jsx("div",{className:"tm-add-labor-class-section",children:f.jsxs("select",{className:"tm-add-labor-class-select",value:"",onChange:pe=>{pe.target.value&&X(pe.target.value)},children:[f.jsxs("option",{value:"",children:["+ ",H("addLaborClass")]}),c.map(pe=>{const Le=J().filter(Q=>Q.category_id===pe.id);return Le.length===0?null:f.jsx("optgroup",{label:pe.name,children:Le.map(Q=>f.jsx("option",{value:Q.id,children:Q.name},Q.id))},pe.id)}),J().filter(pe=>!pe.category_id).length>0&&f.jsx("optgroup",{label:H("other"),children:J().filter(pe=>!pe.category_id).map(pe=>f.jsx("option",{value:pe.id,children:pe.name},pe.id))})]})}),i.size===0&&f.jsx("div",{className:"tm-no-labor-classes",children:f.jsx("p",{children:H("noLaborClassesYet")})})]}),h&&f.jsxs("div",{className:"tm-loading-labor-classes",children:[f.jsx($s,{size:20,className:"tm-spinner"}),f.jsx("span",{children:H("loadingLaborClasses")})]}),!m&&!h&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"tm-field",children:[f.jsx("label",{children:H("supervision")}),f.jsx("div",{className:"tm-workers-list",children:e.map((pe,Le)=>f.jsx(oc,{worker:pe,index:Le,onUpdate:G,onRemove:B,t:H,roleSelect:f.jsx("div",{className:"tm-role-select",children:f.jsxs("select",{value:pe.role,onChange:Q=>G(Le,"role",Q.target.value),children:[f.jsx("option",{value:"Foreman",children:H("foreman")}),f.jsx("option",{value:"Superintendent",children:H("superintendent")})]})})},Le))}),f.jsx("button",{className:"tm-add-btn",onClick:ae,children:H("addSupervision")})]}),f.jsxs("div",{className:"tm-field",children:[f.jsx("label",{children:H("operators")}),f.jsx("div",{className:"tm-workers-list",children:t.map((pe,Le)=>f.jsx(oc,{worker:pe,index:Le,onUpdate:ge,onRemove:q,t:H},Le))}),f.jsx("button",{className:"tm-add-btn",onClick:ce,children:H("addOperator")})]}),f.jsxs("div",{className:"tm-field",children:[f.jsx("label",{children:H("laborers")}),f.jsx("div",{className:"tm-workers-list",children:r.map((pe,Le)=>f.jsx(oc,{worker:pe,index:Le,onUpdate:I,onRemove:ee,t:H},Le))}),f.jsx("button",{className:"tm-add-btn",onClick:R,children:H("addLaborer")})]})]}),p&&f.jsx(KL,{batchHours:x,setBatchHours:w,namedWorkerCount:Ue,onApply:D,onClose:()=>_(!1),t:H})]})}function GL({companyId:e,items:t,setItems:r,t:n,lang:i,onShowToast:s}){const[c,u]=y.useState(null),[m,h]=y.useState([]),[g,p]=y.useState(!1),[_,x]=y.useState(""),[w,j]=y.useState([]),[S,O]=y.useState([]),[C,A]=y.useState(!1),[k,D]=y.useState({name:"",category:"",quantity:""}),M=y.useRef(null),L=y.useRef(null);y.useEffect(()=>{c&&e&&X(c)},[c,e]),y.useEffect(()=>(!c&&M.current&&(L.current=setTimeout(()=>{M.current?.focus()},100)),()=>{L.current&&clearTimeout(L.current)}),[c]);const X=async q=>{p(!0);try{const R=await be.getMaterialsEquipmentByCategory(e,q);h(R)}catch(R){console.error("Error loading items:",R),s("Error loading items","error")}finally{p(!1)}},re=async()=>{if(!(S.length>0))try{const q=[];for(const R of Eg){const I=await be.getMaterialsEquipmentByCategory(e,R);q.push(...I.map(ee=>({...ee,category:R})))}O(q)}catch(q){console.error("Error loading all materials:",q)}},ae=q=>{if(x(q),!q.trim()){j([]);return}const R=q.toLowerCase(),I=S.filter(ee=>ee.name.toLowerCase().includes(R)||ee.category.toLowerCase().includes(R));j(I.slice(0,10))},G=q=>{const R=t.findIndex(I=>I.material_equipment_id===q.id);R>=0?r(t.map((I,ee)=>ee===R?{...I,quantity:I.quantity+1}:I)):r([...t,{material_equipment_id:q.id,name:q.name,unit:q.unit,category:q.category,quantity:1,isCustom:!1}]),s(`Added ${q.name}`,"success")},B=()=>{if(!k.name||!k.category||!k.quantity){s("Fill in all fields","error");return}r([...t,{material_equipment_id:null,custom_name:k.name,custom_category:k.category,name:k.name,category:k.category,quantity:parseFloat(k.quantity),unit:"each",isCustom:!0}]),D({name:"",category:"",quantity:""}),A(!1),u(null),s("Custom item added","success")},ce=(q,R)=>{const I=parseFloat(R)||0;I<=0?r(t.filter((ee,U)=>U!==q)):r(t.map((ee,U)=>U===q?{...ee,quantity:I}:ee))},ge=()=>{C?A(!1):c&&(u(null),A(!1))};return c||C?f.jsxs("div",{className:"tm-step-content",children:[f.jsxs("div",{className:"tm-wizard-header",style:{margin:"-1rem -1rem 1rem -1rem",padding:"0.75rem 1rem"},children:[f.jsx("button",{className:"tm-back-btn",onClick:ge,children:""}),f.jsx("h2",{children:C?"Add Custom Item":c}),f.jsxs("div",{className:"tm-item-count",children:[t.length," items"]})]}),C?f.jsxs("div",{className:"tm-custom-form",children:[f.jsxs("div",{className:"tm-field",children:[f.jsx("label",{children:"Item Name"}),f.jsx("input",{type:"text",placeholder:"What did you use?",value:k.name,onChange:q=>D({...k,name:q.target.value}),autoFocus:!0})]}),f.jsxs("div",{className:"tm-field",children:[f.jsx("label",{children:"Category"}),f.jsx("div",{className:"tm-category-select",children:Eg.map(q=>f.jsx("button",{className:`tm-cat-chip ${k.category===q?"active":""}`,onClick:()=>D({...k,category:q}),children:q},q))})]}),f.jsxs("div",{className:"tm-field",children:[f.jsx("label",{children:"Quantity"}),f.jsx("input",{type:"number",placeholder:"How many?",value:k.quantity,onChange:q=>D({...k,quantity:q.target.value})})]}),f.jsx("button",{className:"tm-big-btn primary",onClick:B,children:"Add Custom Item"})]}):f.jsx("div",{className:"tm-item-grid",children:g?f.jsx("div",{className:"tm-loading",children:"Loading..."}):f.jsxs(f.Fragment,{children:[m.map(q=>{const R=t.find(I=>I.material_equipment_id===q.id);return f.jsxs("button",{className:`tm-item-card ${R?"added":""}`,onClick:()=>G(q),children:[f.jsx("span",{className:"tm-item-name",children:q.name}),f.jsx("span",{className:"tm-item-unit",children:q.unit}),R&&f.jsx("span",{className:"tm-item-badge",children:R.quantity})]},q.id)}),f.jsxs("button",{className:"tm-item-card custom",onClick:()=>A(!0),children:[f.jsx("span",{className:"tm-item-name",children:"+ Add Other"}),f.jsx("span",{className:"tm-item-unit",children:"Not on list"})]})]})}),!C&&t.length>0&&f.jsx("div",{className:"tm-wizard-footer",children:f.jsxs("button",{className:"tm-big-btn primary",onClick:()=>u(null),children:["Done Adding (",t.length," items)"]})})]}):f.jsxs("div",{className:"tm-step-content",children:[f.jsxs("div",{className:"tm-field tm-search-field",children:[f.jsxs("div",{className:"tm-search-input-wrapper",children:[f.jsx(QR,{size:18,className:"tm-search-icon"}),f.jsx("input",{ref:M,type:"text",placeholder:n("searchMaterials"),value:_,onChange:q=>ae(q.target.value),onFocus:()=>re(),className:"tm-search-input"}),_&&f.jsx("button",{className:"tm-search-clear",onClick:()=>{x(""),j([])},children:""})]}),_&&w.length>0&&f.jsx("div",{className:"tm-search-results",children:w.map((q,R)=>{const I=t.find(ee=>ee.id===q.id);return f.jsxs("button",{className:`tm-search-result-item ${I?"added":""}`,onClick:()=>{I?ce(t.indexOf(I),I.quantity+1):r([...t,{...q,quantity:1,isCustom:!1}]),x(""),j([])},children:[f.jsx("span",{className:"tm-search-result-name",children:q.name}),f.jsx("span",{className:"tm-search-result-category",children:q.category}),I&&f.jsxs("span",{className:"tm-search-result-qty",children:["",I.quantity]})]},R)})}),_&&w.length===0&&f.jsx("div",{className:"tm-search-no-results",children:n("noSearchResults")})]}),f.jsxs("div",{className:"tm-field",children:[f.jsx("label",{children:n("orBrowse")}),f.jsx("div",{className:"tm-category-grid",children:Eg.map(q=>{const R=t.filter(I=>I.category===q);return f.jsxs("button",{className:"tm-category-card",onClick:()=>u(q),children:[f.jsx("span",{className:"tm-cat-name",children:q}),R.length>0&&f.jsx("span",{className:"tm-cat-count",children:R.length})]},q)})})]}),t.length>0&&f.jsxs("div",{className:"tm-field",children:[f.jsxs("label",{children:["Added Items (",t.length,")"]}),f.jsx("div",{className:"tm-added-list",children:t.map((q,R)=>f.jsxs("div",{className:"tm-added-item",children:[f.jsxs("div",{className:"tm-added-info",children:[q.isCustom&&f.jsx("span",{className:"tm-custom-badge",children:"Custom"}),f.jsx("span",{className:"tm-added-name",children:q.name})]}),f.jsxs("div",{className:"tm-added-qty",children:[f.jsx("button",{onClick:()=>ce(R,q.quantity-1),children:""}),f.jsx("span",{children:q.quantity}),f.jsx("button",{onClick:()=>ce(R,q.quantity+1),children:"+"})]})]},R))})]})]})}function VL({photos:e,onPhotoAdd:t,onRemovePhoto:r,maxPhotos:n,selectedCorId:i,setSelectedCorId:s,assignableCORs:c,lang:u}){const m=$L(u);return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:`tm-action-card-prominent ${e.length>0?"has-content":"needs-action"}`,children:[f.jsxs("div",{className:"tm-action-card-header",children:[f.jsx("div",{className:"tm-action-card-icon",children:f.jsx(dy,{size:24})}),f.jsxs("div",{className:"tm-action-card-title",children:[f.jsx("h4",{children:m("photoEvidence")}),f.jsx("span",{className:"tm-action-card-status",children:e.length>0?`${e.length} ${m("photosAdded")}`:m("recommendedForBilling")})]})]}),e.length>0&&f.jsx("div",{className:"tm-photo-preview-row",children:e.map(h=>f.jsxs("div",{className:"tm-photo-preview-thumb",children:[f.jsx("img",{src:h.previewUrl,alt:h.name}),h.latitude&&f.jsx("span",{className:"tm-photo-gps-badge",title:`${h.latitude.toFixed(4)}, ${h.longitude.toFixed(4)}`,children:f.jsx(fy,{size:10})}),f.jsx("button",{className:"tm-photo-remove-x",onClick:()=>r(h.id),children:""})]},h.id))}),f.jsxs("label",{className:`tm-action-card-btn ${e.length===0?"primary":""}`,children:[f.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:t,style:{display:"none"}}),f.jsx(dy,{size:18}),f.jsx("span",{children:e.length>0?m("addMorePhotos"):m("addPhotos")})]})]}),f.jsxs("div",{className:`tm-action-card-prominent ${i?"has-content":""}`,children:[f.jsxs("div",{className:"tm-action-card-header",children:[f.jsx("div",{className:"tm-action-card-icon cor",children:f.jsx(JR,{size:24})}),f.jsxs("div",{className:"tm-action-card-title",children:[f.jsx("h4",{children:m("linkToChangeOrder")}),f.jsx("span",{className:"tm-action-card-status",children:i?`${m("linkedTo")}: ${c.find(h=>h.id===i)?.cor_number||""}`:m("optionalLinkCOR")})]})]}),f.jsxs("select",{value:i,onChange:h=>s(h.target.value),className:"tm-cor-select-prominent",children:[f.jsx("option",{value:"",children:m("selectCOROptional")}),c.map(h=>f.jsxs("option",{value:h.id,children:[h.cor_number,": ",h.title||"Untitled"," (",h.status,")"]},h.id))]}),c.length===0&&f.jsx("p",{className:"tm-cor-hint",children:m("noActiveCORs")})]})]})}const WL=y.lazy(()=>ei(()=>import("./SignatureLinkGenerator-DiMT4zoo.js"),__vite__mapDeps([0,1,2,3,4]))),XL=y.lazy(()=>ei(()=>import("./TMClientSignature-CN3vjZiT.js"),__vite__mapDeps([5,1,2,3,4])));function ZL({step:e,setStep:t,project:r,companyId:n,workDate:i,cePcoNumber:s,notes:c,photos:u,onPhotoAdd:m,onRemovePhoto:h,maxPhotos:g,selectedCorId:p,setSelectedCorId:_,assignableCORs:x,items:w,hasCustomLaborClasses:j,validDynamicWorkersList:S,validSupervision:O,validOperators:C,validLaborers:A,totalWorkers:k,totalRegHours:D,totalOTHours:M,submittedByName:L,setSubmittedByName:X,submittedTicket:re,submitting:ae,submitProgress:G,clientSigned:B,setClientSigned:ce,showSignatureLinkModal:ge,setShowSignatureLinkModal:q,showOnSiteSignature:R,setShowOnSiteSignature:I,onRetryPhotoUpload:ee,t:U,lang:me,onShowToast:we}){return e===5&&re?f.jsxs("div",{className:"tm-step-content tm-success-step",children:[f.jsxs("div",{className:"tm-success-header",children:[f.jsx("div",{className:"tm-success-icon",children:f.jsx(Zn,{size:48})}),f.jsx("h2",{children:U("tmSubmitted")}),f.jsx("p",{className:"tm-success-subtitle",children:U("ticketSavedReady")})]}),f.jsxs("div",{className:"tm-success-summary",children:[f.jsxs("div",{className:"tm-success-stat",children:[f.jsx("span",{className:"tm-success-stat-value",children:k}),f.jsx("span",{className:"tm-success-stat-label",children:U("workersLabel")})]}),f.jsxs("div",{className:"tm-success-stat",children:[f.jsx("span",{className:"tm-success-stat-value",children:D+M}),f.jsx("span",{className:"tm-success-stat-label",children:U("totalHours")})]}),f.jsxs("div",{className:"tm-success-stat",children:[f.jsx("span",{className:"tm-success-stat-value",children:new Date(i).toLocaleDateString("en-US",{month:"short",day:"numeric"})}),f.jsx("span",{className:"tm-success-stat-label",children:U("workDate")})]})]}),u.some(J=>J.status==="failed")&&f.jsxs("div",{className:"tm-failed-photos-section",children:[f.jsxs("div",{className:"tm-failed-photos-header",children:[f.jsx(Sb,{size:18}),f.jsx("span",{children:me==="en"?`${u.filter(J=>J.status==="failed").length} photo(s) failed to upload`:`${u.filter(J=>J.status==="failed").length} foto(s) no se subieron`})]}),f.jsx("div",{className:"tm-failed-photos-grid",children:u.filter(J=>J.status==="failed").map(J=>f.jsxs("div",{className:"tm-failed-photo-item",children:[f.jsx("img",{src:J.previewUrl,alt:J.name}),f.jsx("div",{className:"tm-failed-photo-overlay",children:f.jsx("button",{className:"tm-retry-photo-btn",onClick:()=>ee(J.id,re.id),disabled:J.status==="uploading"||J.status==="compressing",children:J.status==="uploading"||J.status==="compressing"?f.jsx($s,{size:16,className:"tm-spinner"}):f.jsxs(f.Fragment,{children:[f.jsx(_S,{size:16}),f.jsx("span",{children:U("retry")})]})})}),J.error&&f.jsxs("div",{className:"tm-failed-photo-error",title:J.error,children:[J.error.substring(0,20),J.error.length>20?"...":""]})]},J.id))}),f.jsxs("button",{className:"tm-retry-all-btn",onClick:async()=>{const J=u.filter(H=>H.status==="failed");for(const H of J)await ee(H.id,re.id)},children:[f.jsx(_S,{size:16}),U("retryAllPhotos")]})]}),u.length>0&&u.every(J=>J.status==="confirmed")&&f.jsxs("div",{className:"tm-photos-success",children:[f.jsx(Hi,{size:16}),f.jsx("span",{children:me==="en"?`All ${u.length} photo(s) uploaded successfully`:`${u.length} foto(s) subidas exitosamente`})]}),f.jsxs("div",{className:"tm-signature-options",children:[f.jsx("h3",{children:U("getClientSignature")}),f.jsx("p",{className:"tm-signature-description",children:U("signatureDescription")}),B?f.jsxs("div",{className:"tm-signed-confirmation",children:[f.jsx(Zn,{size:32,className:"tm-signed-icon"}),f.jsx("span",{children:U("clientSignatureCollected")})]}):f.jsxs("div",{className:"tm-signature-buttons",children:[f.jsxs("button",{className:"tm-signature-option-btn primary",onClick:()=>I(!0),children:[f.jsx("div",{className:"tm-signature-option-icon",children:f.jsx(_c,{size:24})}),f.jsxs("div",{className:"tm-signature-option-text",children:[f.jsx("span",{className:"tm-signature-option-title",children:U("signNowOnSite")}),f.jsx("span",{className:"tm-signature-option-desc",children:U("clientSignsDevice")})]})]}),f.jsxs("button",{className:"tm-signature-option-btn",onClick:()=>q(!0),children:[f.jsx("div",{className:"tm-signature-option-icon",children:f.jsx(_c,{size:24})}),f.jsxs("div",{className:"tm-signature-option-text",children:[f.jsx("span",{className:"tm-signature-option-title",children:U("sendSignatureLink")}),f.jsx("span",{className:"tm-signature-option-desc",children:U("clientSignsLater")})]})]})]})]}),ge&&f.jsx(y.Suspense,{fallback:f.jsx("div",{className:"loading",children:"Loading..."}),children:f.jsx(WL,{documentType:"tm_ticket",documentId:re.id,companyId:n,projectId:r.id,project:r,documentTitle:`T&M - ${new Date(i).toLocaleDateString()}`,onClose:()=>q(!1),onShowToast:we})}),R&&f.jsx(y.Suspense,{fallback:f.jsx("div",{className:"loading",children:"Loading..."}),children:f.jsx(XL,{ticketId:re.id,ticketSummary:{workDate:i,workerCount:k,totalHours:D+M},lang:me,onSave:()=>{I(!1),ce(!0)},onClose:()=>I(!1),onShowToast:we})})]}):f.jsxs("div",{className:"tm-step-content",children:[f.jsx(VL,{photos:u,onPhotoAdd:m,onRemovePhoto:h,maxPhotos:g,selectedCorId:p,setSelectedCorId:_,assignableCORs:x,lang:me}),f.jsx("div",{className:"tm-review-divider",children:f.jsx("span",{children:U("ticketSummary")})}),f.jsxs("div",{className:"tm-review-section",children:[f.jsxs("div",{className:"tm-review-section-header",children:[f.jsxs("h4",{children:[""," ",U("workDate")]}),f.jsx("button",{className:"tm-edit-link",onClick:()=>t(1),children:U("edit")})]}),f.jsxs("div",{className:"tm-review-row",children:[f.jsx("span",{children:new Date(i).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})}),s&&f.jsxs("span",{children:["CE/PCO: ",s]})]})]}),c&&f.jsxs("div",{className:"tm-review-section",children:[f.jsxs("div",{className:"tm-review-section-header",children:[f.jsxs("h4",{children:[f.jsx(Fo,{size:16,className:"inline-icon"})," ",U("notes")]}),f.jsx("button",{className:"tm-edit-link",onClick:()=>t(1),children:U("edit")})]}),f.jsx("div",{className:"tm-review-notes",children:c})]}),j&&S.length>0&&f.jsxs("div",{className:"tm-review-section",children:[f.jsxs("div",{className:"tm-review-section-header",children:[f.jsxs("h4",{children:[f.jsx(Po,{size:16,className:"inline-icon"})," ",U("workersLabel")," (",D+M," hrs)"]}),f.jsx("button",{className:"tm-edit-link",onClick:()=>t(2),children:U("edit")})]}),f.jsx("div",{className:"tm-review-list",children:S.map((J,H)=>f.jsxs("div",{className:"tm-review-row-detailed",children:[f.jsxs("div",{className:"tm-review-worker-name",children:[f.jsx("span",{className:"tm-role-badge",children:J.role})," ",J.name]}),f.jsxs("div",{className:"tm-review-worker-details",children:[J.time_started&&J.time_ended&&f.jsxs("span",{className:"tm-review-time",children:[J.time_started," - ",J.time_ended]}),f.jsxs("span",{className:"tm-review-hours",children:[J.hours||0," reg",J.overtime_hours>0?` + ${J.overtime_hours} OT`:""]})]})]},H))})]}),!j&&O.length>0&&f.jsxs("div",{className:"tm-review-section",children:[f.jsxs("div",{className:"tm-review-section-header",children:[f.jsxs("h4",{children:[f.jsx(eq,{size:16,className:"inline-icon"})," Supervision (",O.reduce((J,H)=>J+parseFloat(H.hours||0)+parseFloat(H.overtimeHours||0),0)," hrs)"]}),f.jsx("button",{className:"tm-edit-link",onClick:()=>t(2),children:U("edit")})]}),f.jsx("div",{className:"tm-review-list",children:O.map((J,H)=>f.jsxs("div",{className:"tm-review-row-detailed",children:[f.jsxs("div",{className:"tm-review-worker-name",children:[f.jsx("span",{className:"tm-role-badge",children:J.role})," ",J.name]}),f.jsxs("div",{className:"tm-review-worker-details",children:[J.timeStarted&&J.timeEnded&&f.jsxs("span",{className:"tm-review-time",children:[J.timeStarted," - ",J.timeEnded]}),f.jsxs("span",{className:"tm-review-hours",children:[J.hours||0," reg",parseFloat(J.overtimeHours)>0?` + ${J.overtimeHours} OT`:""]})]})]},H))})]}),!j&&C.length>0&&f.jsxs("div",{className:"tm-review-section",children:[f.jsxs("div",{className:"tm-review-section-header",children:[f.jsxs("h4",{children:[""," Operators (",C.reduce((J,H)=>J+parseFloat(H.hours||0)+parseFloat(H.overtimeHours||0),0)," hrs)"]}),f.jsx("button",{className:"tm-edit-link",onClick:()=>t(2),children:U("edit")})]}),f.jsx("div",{className:"tm-review-list",children:C.map((J,H)=>f.jsxs("div",{className:"tm-review-row-detailed",children:[f.jsx("div",{className:"tm-review-worker-name",children:J.name}),f.jsxs("div",{className:"tm-review-worker-details",children:[J.timeStarted&&J.timeEnded&&f.jsxs("span",{className:"tm-review-time",children:[J.timeStarted," - ",J.timeEnded]}),f.jsxs("span",{className:"tm-review-hours",children:[J.hours||0," reg",parseFloat(J.overtimeHours)>0?` + ${J.overtimeHours} OT`:""]})]})]},H))})]}),!j&&A.length>0&&f.jsxs("div",{className:"tm-review-section",children:[f.jsxs("div",{className:"tm-review-section-header",children:[f.jsxs("h4",{children:[f.jsx(Po,{size:16,className:"inline-icon"})," Laborers (",A.reduce((J,H)=>J+parseFloat(H.hours||0)+parseFloat(H.overtimeHours||0),0)," hrs)"]}),f.jsx("button",{className:"tm-edit-link",onClick:()=>t(2),children:U("edit")})]}),f.jsx("div",{className:"tm-review-list",children:A.map((J,H)=>f.jsxs("div",{className:"tm-review-row-detailed",children:[f.jsx("div",{className:"tm-review-worker-name",children:J.name}),f.jsxs("div",{className:"tm-review-worker-details",children:[J.timeStarted&&J.timeEnded&&f.jsxs("span",{className:"tm-review-time",children:[J.timeStarted," - ",J.timeEnded]}),f.jsxs("span",{className:"tm-review-hours",children:[J.hours||0," reg",parseFloat(J.overtimeHours)>0?` + ${J.overtimeHours} OT`:""]})]})]},H))})]}),w.length>0&&f.jsxs("div",{className:"tm-review-section",children:[f.jsxs("div",{className:"tm-review-section-header",children:[f.jsxs("h4",{children:[f.jsx(tq,{size:16,className:"inline-icon"})," Materials & Equipment (",w.length," items)"]}),f.jsx("button",{className:"tm-edit-link",onClick:()=>t(3),children:U("edit")})]}),f.jsx("div",{className:"tm-review-list",children:w.map((J,H)=>f.jsxs("div",{className:"tm-review-row",children:[f.jsxs("span",{children:[J.isCustom&&f.jsxs(f.Fragment,{children:[f.jsx(rq,{size:14,className:"inline-icon"})," "]}),J.name]}),f.jsxs("span",{children:[J.quantity," ",J.unit]})]},H))})]}),f.jsxs("div",{className:"tm-review-section tm-certification",children:[f.jsx("div",{className:"tm-review-header",children:f.jsxs("span",{children:[f.jsx(_c,{size:16,className:"inline-icon"})," ",U("submittedBy")]})}),f.jsx("input",{type:"text",className:"tm-certification-input",placeholder:U("enterYourName"),value:L,onChange:J=>X(J.target.value)}),f.jsx("p",{className:"tm-certification-note",children:U("certifyAccurate")})]})]})}const WS=()=>{const e=new Uint8Array(6);return crypto.getRandomValues(e),Array.from(e,t=>t.toString(36)).join("")},Dd=(e,t)=>{if(!e||!t)return null;const[r,n]=e.split(":").map(Number),[i,s]=t.split(":").map(Number);let c=i*60+s-(r*60+n);c<0&&(c+=1440);const u=c/60,m=Math.min(u,8),h=Math.max(0,u-8);return{hours:m.toFixed(1),overtimeHours:h>0?h.toFixed(1):""}};function QL({project:e,companyId:t,maxPhotos:r=10,onSubmit:n,onCancel:i,onShowToast:s}){const[c,u]=y.useState(1),[m,h]=y.useState(new Date().toISOString().split("T")[0]),[g,p]=y.useState(null),[_,x]=y.useState(!1),[w,j]=y.useState(!1),[S,O]=y.useState(!1),[C,A]=y.useState(""),[k,D]=y.useState(""),[M,L]=y.useState(""),[X,re]=y.useState([]),[ae,G]=y.useState(!1),[B,ce]=y.useState(!1),[ge,q]=y.useState({timeStarted:"",timeEnded:"",hours:"",overtimeHours:""}),[R,I]=y.useState([{name:"",hours:"",overtimeHours:"",timeStarted:"",timeEnded:"",role:"Foreman"}]),[ee,U]=y.useState([{name:"",hours:"",overtimeHours:"",timeStarted:"",timeEnded:""}]),[me,we]=y.useState([{name:"",hours:"",overtimeHours:"",timeStarted:"",timeEnded:""}]),[J,H]=y.useState([]),[je,Te]=y.useState(""),[Ue,pe]=y.useState([]),[Le,Q]=y.useState(!1),[Ee,xe]=y.useState(""),[ie,Be]=y.useState([]),[ve,Ne]=y.useState(!1),[Me,Ct]=y.useState("en"),Re=K=>DN[Me][K]||K,[It,_t]=y.useState([]),[At,Cr]=y.useState([]),[jt,Ye]=y.useState({}),[Hr,_n]=y.useState(!0),[Pr,Ar]=y.useState(new Set),fe=At.length>0;y.useEffect(()=>{Rr(),rt();const K=be.subscribeToCORs?.(e.id,()=>{rt()});return()=>{K?.unsubscribe?.()}},[e.id]),y.useEffect(()=>{(async()=>{if(!t){_n(!1);return}try{const le=await be.getLaborClassesForField(t);_t(le.categories||[]),Cr(le.classes||[])}catch(le){console.error("Error loading labor classes:",le)}finally{_n(!1)}})()},[t]),y.useEffect(()=>{if(Hr||At.length===0)return;const K=new Set;ie.forEach(se=>{se.labor_class_id&&K.add(se.labor_class_id)});const le={},he=new Set;K.forEach(se=>{At.some(ne=>ne.id===se)&&(le[se]=[{name:"",hours:"",overtimeHours:"",timeStarted:"",timeEnded:""}],he.add(se))}),Ye(se=>Object.keys(se).length===0?le:se),Ar(se=>se.size===0?he:se)},[At,ie,Hr]);const rt=async()=>{G(!0);try{const K=await be.getAssignableCORs(e.id);re(K||[])}catch(K){console.error("Error loading assignable CORs:",K)}finally{G(!1)}},en=()=>{const{timeStarted:K,timeEnded:le,hours:he,overtimeHours:se}=ge;let ne=0;if(fe){const Se={};Object.entries(jt).forEach(([Ie,Fe])=>{Se[Ie]=Fe.map(lt=>lt&&lt.name&&lt.name.trim()?(ne++,{...lt,timeStarted:K,timeEnded:le,hours:he,overtimeHours:se}):lt)}),Ye(Se)}else I(R.map(Se=>Se&&Se.name&&Se.name.trim()?(ne++,{...Se,timeStarted:K,timeEnded:le,hours:he,overtimeHours:se}):Se)),U(ee.map(Se=>Se&&Se.name&&Se.name.trim()?(ne++,{...Se,timeStarted:K,timeEnded:le,hours:he,overtimeHours:se}):Se)),we(me.map(Se=>Se&&Se.name&&Se.name.trim()?(ne++,{...Se,timeStarted:K,timeEnded:le,hours:he,overtimeHours:se}):Se));ce(!1),q({timeStarted:"",timeEnded:"",hours:"",overtimeHours:""}),ne>0?s(Re("appliedHours").replace("{count}",ne),"success"):s(Re("addWorkersFirst"),"info")},Mr=K=>{let le,he,se,ne;switch(K){case"8hr":le="07:00",he="15:30",se="8",ne="";break;case"10hr":le="06:00",he="16:30",se="8",ne="2";break;case"4hr":le="07:00",he="11:00",se="4",ne="";break;default:return}let Se=0;if(fe){const Ie={};Object.entries(jt).forEach(([Fe,lt])=>{Ie[Fe]=lt.map(qr=>qr&&qr.name&&qr.name.trim()?(Se++,{...qr,timeStarted:le,timeEnded:he,hours:se,overtimeHours:ne}):qr)}),Ye(Ie)}else I(Ie=>Ie.map(Fe=>Fe&&Fe.name&&Fe.name.trim()?(Se++,{...Fe,timeStarted:le,timeEnded:he,hours:se,overtimeHours:ne}):Fe)),U(Ie=>Ie.map(Fe=>Fe&&Fe.name&&Fe.name.trim()?(Se++,{...Fe,timeStarted:le,timeEnded:he,hours:se,overtimeHours:ne}):Fe)),we(Ie=>Ie.map(Fe=>Fe&&Fe.name&&Fe.name.trim()?(Se++,{...Fe,timeStarted:le,timeEnded:he,hours:se,overtimeHours:ne}):Fe));Se>0?s(Re("appliedHours").replace("{count}",Se),"success"):s(Re("addWorkersFirst"),"info")},Rr=async()=>{try{const K=await be.getCrewCheckin(e.id);K?.workers&&Be(K.workers)}catch(K){console.error("Error loading crew:",K)}},vt=async()=>{Ne(!0);try{const K=await be.getPreviousTicketCrew(e.id,m);if(!K||K.totalWorkers===0){s(Re("noPreviousCrew"),"info");return}fe&&K.dynamicWorkers?Ye(K.dynamicWorkers):(K.supervision&&I(K.supervision),K.operators&&U(K.operators),K.laborers&&we(K.laborers));const le=new Date(K.workDate).toLocaleDateString();s(Re("loadedWorkers").replace("{count}",K.totalWorkers).replace("{date}",le),"success")}catch(K){console.error("Error loading previous crew:",K),s(Re("errorLoadingCrew"),"error")}finally{Ne(!1)}},Ut=()=>{I([...R,{name:"",hours:"",overtimeHours:"",timeStarted:"",timeEnded:"",role:"Foreman"}])},xt=(K,le,he)=>{I(R.map((se,ne)=>{if(ne!==K)return se;const Se={...se,[le]:he};if(le==="timeStarted"||le==="timeEnded"){const Ie=le==="timeStarted"?he:se.timeStarted,Fe=le==="timeEnded"?he:se.timeEnded,lt=Dd(Ie,Fe);lt&&(Se.hours=lt.hours,Se.overtimeHours=lt.overtimeHours)}return Se}))},xn=K=>{R.length>1?I(R.filter((le,he)=>he!==K)):I([{name:"",hours:"",overtimeHours:"",timeStarted:"",timeEnded:"",role:"Foreman"}])},ci=()=>{we([...me,{name:"",hours:"",overtimeHours:"",timeStarted:"",timeEnded:""}])},Qi=(K,le,he)=>{we(me.map((se,ne)=>{if(ne!==K)return se;const Se={...se,[le]:he};if(le==="timeStarted"||le==="timeEnded"){const Ie=le==="timeStarted"?he:se.timeStarted,Fe=le==="timeEnded"?he:se.timeEnded,lt=Dd(Ie,Fe);lt&&(Se.hours=lt.hours,Se.overtimeHours=lt.overtimeHours)}return Se}))},ui=K=>{me.length>1?we(me.filter((le,he)=>he!==K)):we([{name:"",hours:"",overtimeHours:"",timeStarted:"",timeEnded:""}])},di=()=>{U([...ee,{name:"",hours:"",overtimeHours:"",timeStarted:"",timeEnded:""}])},ya=(K,le,he)=>{U(ee.map((se,ne)=>{if(ne!==K)return se;const Se={...se,[le]:he};if(le==="timeStarted"||le==="timeEnded"){const Ie=le==="timeStarted"?he:se.timeStarted,Fe=le==="timeEnded"?he:se.timeEnded,lt=Dd(Ie,Fe);lt&&(Se.hours=lt.hours,Se.overtimeHours=lt.overtimeHours)}return Se}))},wn=K=>{ee.length>1?U(ee.filter((le,he)=>he!==K)):U([{name:"",hours:"",overtimeHours:"",timeStarted:"",timeEnded:""}])},fi=K=>{Ye(le=>({...le,[K]:[...le[K]||[],{name:"",hours:"",overtimeHours:"",timeStarted:"",timeEnded:""}]}))},ba=(K,le,he,se)=>{Ye(ne=>({...ne,[K]:(ne[K]||[]).map((Se,Ie)=>{if(Ie!==le)return Se;const Fe={...Se,[he]:se};if(he==="timeStarted"||he==="timeEnded"){const lt=he==="timeStarted"?se:Se.timeStarted,qr=he==="timeEnded"?se:Se.timeEnded,Je=Dd(lt,qr);Je&&(Fe.hours=Je.hours,Fe.overtimeHours=Je.overtimeHours)}return Fe})}))},ll=(K,le)=>{Ye(he=>{const se=he[K]||[];return se.length>1?{...he,[K]:se.filter((ne,Se)=>Se!==le)}:{...he,[K]:[{name:"",hours:"",overtimeHours:"",timeStarted:"",timeEnded:""}]}})},ye=K=>{K&&(Ar(le=>new Set([...le,K])),Ye(le=>!le[K]||le[K].length===0?{...le,[K]:[{name:"",hours:"",overtimeHours:"",timeStarted:"",timeEnded:""}]}:le))},Bn=K=>{Ar(le=>{const he=new Set(le);return he.delete(K),he}),Ye(le=>{const he={...le};return delete he[K],he})},_a=()=>At.filter(K=>!Pr.has(K.id)),cl=()=>{if(!jt||typeof jt!="object")return[];const K=[];return Object.entries(jt).forEach(([le,he])=>{if(!Array.isArray(he))return;const se=At.find(ne=>ne.id===le);he.forEach(ne=>{ne&&ne.name&&ne.name.trim()&&(parseFloat(ne.hours)>0||parseFloat(ne.overtimeHours)>0)&&K.push({name:ne.name.trim(),hours:parseFloat(ne.hours)||0,overtime_hours:parseFloat(ne.overtimeHours)||0,time_started:ne.timeStarted||null,time_ended:ne.timeEnded||null,role:se?.name||"Worker",labor_class_id:le})})}),K},fu=K=>{if(K.labor_class_id&&fe&&At.some(he=>he.id===K.labor_class_id)){Pr.has(K.labor_class_id)||Ar(ne=>new Set([...ne,K.labor_class_id]));const he=jt[K.labor_class_id]||[],se=he.findIndex(ne=>!ne||!ne.name||!ne.name.trim());if(se>=0){const ne=[...he];ne[se]={...ne[se],name:K.name},Ye(Se=>({...Se,[K.labor_class_id]:ne}))}else Ye(ne=>({...ne,[K.labor_class_id]:[...ne[K.labor_class_id]||[],{name:K.name,hours:"",overtimeHours:"",timeStarted:"",timeEnded:""}]}))}else if(fe){const se=[...Pr][0]||At[0]?.id;if(se){Pr.has(se)||Ar(Ie=>new Set([...Ie,se]));const ne=jt[se]||[],Se=ne.findIndex(Ie=>!Ie||!Ie.name||!Ie.name.trim());if(Se>=0){const Ie=[...ne];Ie[Se]={...Ie[Se],name:K.name},Ye(Fe=>({...Fe,[se]:Ie}))}else Ye(Ie=>({...Ie,[se]:[...Ie[se]||[],{name:K.name,hours:"",overtimeHours:"",timeStarted:"",timeEnded:""}]}))}}else{const he=(K.role||"").toLowerCase();if(he.includes("foreman")||he.includes("supervisor")||he.includes("superintendent")){const se=R.findIndex(ne=>!ne||!ne.name||!ne.name.trim());se>=0?(xt(se,"name",K.name),xt(se,"role",he.includes("superintendent")?"Superintendent":"Foreman")):I([...R,{name:K.name,hours:"",overtimeHours:"",timeStarted:"",timeEnded:"",role:he.includes("superintendent")?"Superintendent":"Foreman"}])}else if(he.includes("operator")){const se=ee.findIndex(ne=>!ne||!ne.name||!ne.name.trim());se>=0?ya(se,"name",K.name):U([...ee,{name:K.name,hours:"",overtimeHours:"",timeStarted:"",timeEnded:""}])}else{const se=me.findIndex(ne=>!ne||!ne.name||!ne.name.trim());se>=0?Qi(se,"name",K.name):we([...me,{name:K.name,hours:"",overtimeHours:"",timeStarted:"",timeEnded:""}])}}s(`Added ${K.name}`,"success")},mu=async K=>{const le=Array.from(K.target.files);if(le.length===0)return;const he=r===-1?1/0:r-Ue.length;if(he<=0){s(`Photo limit reached (${r} max)`,"error"),K.target.value="";return}const se=le.slice(0,he);se.length<le.length&&s(`Only ${se.length} photo(s) added (${r} max)`,"error");const ne=await BL(),Se=10*1024*1024;se.forEach(Ie=>{if(!Ie.type.startsWith("image/")){s("Please select an image file","error");return}if(Ie.size>Se){s(`Photo too large: ${Ie.name} (max 10MB)`,"error");return}const Fe=URL.createObjectURL(Ie),lt=`photo-${Date.now()}-${WS()}`;pe(qr=>[...qr,{id:`${Date.now()}-${WS()}`,tempId:lt,file:Ie,previewUrl:Fe,name:Ie.name,status:"pending",attempts:0,error:null,uploadedUrl:null,latitude:ne?.latitude||null,longitude:ne?.longitude||null,gpsAccuracy:ne?.accuracy||null}])}),K.target.value=""},$n=(K,le)=>{pe(he=>he.map(se=>se.id===K?{...se,...le}:se))},ul=async(K,le)=>{const he=Ue.find(se=>se.id===K);if(!(!he||he.status!=="failed")){$n(K,{status:"compressing",error:null});try{let se=he.file;try{se=await GS(he.file)}catch(Se){console.warn("Compression failed, using original:",Se)}$n(K,{status:"uploading"});const ne=await be.uploadPhoto(t,e.id,le,se);$n(K,{status:"confirmed",uploadedUrl:ne,attempts:he.attempts+1}),await be.updateTMTicketPhotos(le,[...Ue.filter(Se=>Se.uploadedUrl).map(Se=>Se.uploadedUrl),ne]),s("Photo uploaded successfully","success")}catch(se){console.error("Retry failed:",se),$n(K,{status:"failed",error:se.message||"Upload failed",attempts:he.attempts+1}),s("Photo retry failed","error")}}},dl=K=>{const le=Ue.find(he=>he.id===K);le?.previewUrl&&URL.revokeObjectURL(le.previewUrl),pe(Ue.filter(he=>he.id!==K))},Ji=R.filter(K=>K&&K.name&&K.name.trim()&&(parseFloat(K.hours)>0||parseFloat(K.overtimeHours)>0)),eo=ee.filter(K=>K&&K.name&&K.name.trim()&&(parseFloat(K.hours)>0||parseFloat(K.overtimeHours)>0)),tn=me.filter(K=>K&&K.name&&K.name.trim()&&(parseFloat(K.hours)>0||parseFloat(K.overtimeHours)>0)),Bt=cl(),ir=fe?Bt.length:Ji.length+eo.length+tn.length,aa=fe?Bt.reduce((K,le)=>K+(le.hours||0),0):[...Ji,...eo,...tn].reduce((K,le)=>K+parseFloat(le.hours||0),0),to=fe?Bt.reduce((K,le)=>K+(le.overtime_hours||0),0):[...Ji,...eo,...tn].reduce((K,le)=>K+parseFloat(le.overtimeHours||0),0),hu=fe?Object.values(jt||{}).flat().filter(K=>K&&K.name&&K.name.trim()):[...R.filter(K=>K&&K.name&&K.name.trim()),...ee.filter(K=>K&&K.name&&K.name.trim()),...me.filter(K=>K&&K.name&&K.name.trim())],fl=hu.length-ir,ml=()=>{if(c===1)return je.trim().length>0;if(c===2){if(fe)return cl().length>0;const K=R.some(se=>se&&se.name&&se.name.trim()&&(parseFloat(se.hours)>0||parseFloat(se.overtimeHours)>0)),le=ee.some(se=>se&&se.name&&se.name.trim()&&(parseFloat(se.hours)>0||parseFloat(se.overtimeHours)>0)),he=me.some(se=>se&&se.name&&se.name.trim()&&(parseFloat(se.hours)>0||parseFloat(se.overtimeHours)>0));return K||le||he}return!0},Qo=(()=>{const K=[];return c===1&&!je.trim()&&K.push(Re("descriptionRecommended")),c===2&&fl>0&&K.push(`${fl} ${Re("workersNoHours")}`),c===4&&!k.trim()&&K.push(Re("nameRequired")),K})(),Hn=()=>{c<4&&u(c+1)},mi=()=>{c>1?u(c-1):i()},ro=async()=>{if(!k.trim()){s("Enter your name to submit","error");return}let K=[];if(fe){if(K=cl(),K.length===0){s("Add at least one worker","error");return}}else{const le=R.filter(ne=>ne&&ne.name&&ne.name.trim()&&(parseFloat(ne.hours)>0||parseFloat(ne.overtimeHours)>0)),he=ee.filter(ne=>ne&&ne.name&&ne.name.trim()&&(parseFloat(ne.hours)>0||parseFloat(ne.overtimeHours)>0)),se=me.filter(ne=>ne&&ne.name&&ne.name.trim()&&(parseFloat(ne.hours)>0||parseFloat(ne.overtimeHours)>0));if(le.length===0&&he.length===0&&se.length===0){s("Add at least one worker","error");return}K=[...le.map(ne=>({name:ne.name.trim(),hours:parseFloat(ne.hours)||0,overtime_hours:parseFloat(ne.overtimeHours)||0,time_started:ne.timeStarted||null,time_ended:ne.timeEnded||null,role:ne.role})),...he.map(ne=>({name:ne.name.trim(),hours:parseFloat(ne.hours)||0,overtime_hours:parseFloat(ne.overtimeHours)||0,time_started:ne.timeStarted||null,time_ended:ne.timeEnded||null,role:"Operator"})),...se.map(ne=>({name:ne.name.trim(),hours:parseFloat(ne.hours)||0,overtime_hours:parseFloat(ne.overtimeHours)||0,time_started:ne.timeStarted||null,time_ended:ne.timeEnded||null,role:"Laborer"}))]}Q(!0),xe("Creating ticket...");try{const le=await be.createTMTicket({project_id:e.id,work_date:m,ce_pco_number:C.trim()||null,assigned_cor_id:M||null,notes:je.trim()||null,photos:[],created_by_name:k.trim()});if(!le||!le.id)throw new Error("Failed to create ticket - no ticket ID returned");let he=[];const se=Ue.filter(ne=>ne.status==="pending");if(se.length>0){xe(`Compressing ${se.length} photo${se.length>1?"s":""}...`),se.forEach(Je=>$n(Je.id,{status:"compressing"}));const ne=await Promise.all(se.map(async Je=>{try{const Yt=await GS(Je.file);return{...Je,file:Yt}}catch(Yt){return console.warn(`Failed to compress photo ${Je.name}, using original:`,Yt),Je}}));xe(`Uploading ${se.length} photo${se.length>1?"s":""}...`),se.forEach(Je=>$n(Je.id,{status:"uploading"}));let Se=0,Ie=0;const Fe=ne.map(async Je=>{try{const Yt=await be.uploadPhoto(t,e.id,le.id,Je.file);return Se++,xe(`Uploading ${Se}/${se.length} photos...`),$n(Je.id,{status:"confirmed",uploadedUrl:Yt,attempts:(Je.attempts||0)+1}),{id:Je.id,url:Yt}}catch(Yt){return console.error(`Photo ${Je.name} upload failed:`,Yt),Ie++,$n(Je.id,{status:"failed",error:Yt.message||"Upload failed",attempts:(Je.attempts||0)+1}),{id:Je.id,url:null,error:Yt.message}}}),lt=await Promise.all(Fe);he=lt.filter(Je=>Je.url!==null).map(Je=>Je.url);const qr={};for(const Je of lt)if(Je.url){const Yt=se.find(Fn=>Fn.id===Je.id);Yt?.latitude&&Yt?.longitude&&(qr[Je.url]={lat:Yt.latitude,lng:Yt.longitude,accuracy:Yt.gpsAccuracy})}Ie>0&&he.length>0?s(`${he.length}/${se.length} photos uploaded. ${Ie} failed - can retry later.`,"warning"):Ie>0&&he.length===0&&s(`All ${Ie} photos failed to upload - can retry after submission.`,"error"),he.length>0&&(xe("Saving photos..."),await be.updateTMTicketPhotos(le.id,he,Object.keys(qr).length>0?qr:null))}else he.length>0&&(xe("Saving photos..."),await be.updateTMTicketPhotos(le.id,he));if(xe("Saving workers..."),await be.addTMWorkers(le.id,K),J.length>0&&(xe("Saving materials..."),await be.addTMItems(le.id,J.map(ne=>({material_equipment_id:ne.material_equipment_id,custom_name:ne.custom_name||null,custom_category:ne.custom_category||null,quantity:ne.quantity})))),M){xe("Importing to COR...");try{await be.importTicketDataToCOR(le.id,M,t,e.work_type||"demolition",e.job_type||"standard")}catch(ne){console.error("Error importing to COR:",ne);try{await be.markImportFailed(le.id,M,ne?.message||"Import failed")}catch(Se){console.error("Error marking import failed:",Se)}s("T&M saved. COR data sync failed - retry from ticket list.","warning")}}Ue.forEach(ne=>{ne.previewUrl&&URL.revokeObjectURL(ne.previewUrl)}),p(le),s("T&M submitted!","success"),u(5)}catch(le){console.error("Error submitting T&M:",le),s("Error submitting T&M","error")}finally{Q(!1),xe("")}};return f.jsxs("div",{className:"tm-wizard",children:[f.jsxs("div",{className:"tm-wizard-header",children:[c<5?f.jsx("button",{className:"tm-back-btn",onClick:mi,children:""}):f.jsx("div",{className:"tm-success-check",children:f.jsx(Zn,{size:24})}),f.jsxs("h2",{children:[c===1&&Re("workInfo"),c===2&&Re("crewHours"),c===3&&Re("materialsEquipment"),c===4&&Re("review"),c===5&&Re("submitted")]}),f.jsxs("div",{className:"tm-header-right",children:[c<4&&f.jsxs("button",{className:"tm-lang-toggle",onClick:()=>Ct(Me==="en"?"es":"en"),title:Re(Me==="en"?"switchToSpanish":"switchToEnglish"),children:[f.jsx(nq,{size:16}),Me==="en"?"ES":"EN"]}),c<5&&f.jsxs("div",{className:"tm-step-dots",children:[f.jsx("span",{className:`tm-dot ${c>=1?"active":""}`}),f.jsx("span",{className:`tm-dot ${c>=2?"active":""}`}),f.jsx("span",{className:`tm-dot ${c>=3?"active":""}`}),f.jsx("span",{className:`tm-dot ${c>=4?"active":""}`})]})]})]}),c===1&&f.jsx(HL,{project:e,workDate:m,setWorkDate:h,cePcoNumber:C,setCePcoNumber:A,notes:je,setNotes:Te,t:Re,lang:Me}),c===2&&f.jsx(YL,{supervision:R,operators:ee,laborers:me,dynamicWorkers:jt,activeLaborClassIds:Pr,setActiveLaborClassIds:Ar,laborCategories:It,laborClasses:At,hasCustomLaborClasses:fe,loadingLaborClasses:Hr,todaysCrew:ie,showBatchHoursModal:B,setShowBatchHoursModal:ce,batchHours:ge,setBatchHours:q,loadingPreviousCrew:ve,namedWorkers:hu,workersNeedingHours:fl,totalRegHours:aa,totalOTHours:to,onLoadPreviousCrew:vt,onApplyBatchHours:en,onApplyInlinePreset:Mr,onAddCrewWorker:fu,onActivateLaborClass:ye,onDeactivateLaborClass:Bn,addSupervision:Ut,updateSupervision:xt,removeSupervision:xn,addOperator:di,updateOperator:ya,removeOperator:wn,addLaborer:ci,updateLaborer:Qi,removeLaborer:ui,addDynamicWorker:fi,updateDynamicWorker:ba,removeDynamicWorker:ll,getInactiveLaborClasses:_a,t:Re,lang:Me,onShowToast:s}),c===3&&f.jsx(GL,{companyId:t,items:J,setItems:H,t:Re,lang:Me,onShowToast:s}),(c===4||c===5)&&f.jsx(ZL,{step:c,setStep:u,project:e,companyId:t,workDate:m,cePcoNumber:C,notes:je,photos:Ue,onPhotoAdd:mu,onRemovePhoto:dl,maxPhotos:r,selectedCorId:M,setSelectedCorId:L,assignableCORs:X,items:J,hasCustomLaborClasses:fe,validDynamicWorkersList:Bt,validSupervision:Ji,validOperators:eo,validLaborers:tn,totalWorkers:ir,totalRegHours:aa,totalOTHours:to,submittedByName:k,setSubmittedByName:D,submittedTicket:g,submitting:Le,submitProgress:Ee,clientSigned:S,setClientSigned:O,showSignatureLinkModal:_,setShowSignatureLinkModal:x,showOnSiteSignature:w,setShowOnSiteSignature:j,onRetryPhotoUpload:ul,t:Re,lang:Me,onShowToast:s}),c<5&&f.jsxs("div",{className:"tm-wizard-footer",children:[Qo.length>0&&f.jsxs("div",{className:"tm-validation-summary",children:[f.jsx(Sb,{size:16}),f.jsx("span",{children:Qo[0]})]}),c===1&&f.jsx("button",{className:"tm-big-btn primary",onClick:Hn,disabled:!ml(),children:Re("nextCrew")}),c===2&&f.jsxs("button",{className:"tm-big-btn primary",onClick:Hn,disabled:!ml(),children:[Re("nextMaterials")," (",ir," ",Re(ir===1?"worker":"workers_plural"),", ",aa+to," hrs)"]}),c===3&&f.jsxs(f.Fragment,{children:[f.jsxs("button",{className:"tm-big-btn primary",onClick:Hn,children:[Re("reviewAndSubmit")," (",J.length," ",J.length===1?Re("item"):Re("items_plural"),")"]}),f.jsx("button",{className:"tm-skip-btn",onClick:Hn,children:Re("skipNoMaterials")})]}),c===4&&f.jsx("button",{className:`tm-big-btn submit ${Le?"submitting":""} ${k.trim()?"ready":"needs-name"}`,onClick:ro,disabled:Le||!k.trim(),children:Le?f.jsxs(f.Fragment,{children:[f.jsx($s,{size:20,className:"tm-spinner"}),f.jsx("span",{className:"tm-submit-text",children:Ee||Re("submitting")})]}):k.trim()?f.jsxs(f.Fragment,{children:[f.jsx(Hi,{size:20}),f.jsx("span",{children:Re("submitTM")})]}):f.jsxs(f.Fragment,{children:[f.jsx(_c,{size:18}),f.jsx("span",{children:Re("enterNameToSubmit")})]})})]}),c===5&&f.jsxs("div",{className:"tm-wizard-footer",children:[f.jsxs("button",{className:"tm-big-btn primary",onClick:n,children:[f.jsx(Hi,{size:20}),f.jsx("span",{children:Re("done")})]}),f.jsx("button",{className:"tm-skip-btn",onClick:n,children:Re("skipSignature")})]})]})}function JL({project:e,companyId:t,onShowToast:r}){const[n,i]=y.useState([]),[s,c]=y.useState(!0),[u,m]=y.useState(!1),[h,g]=y.useState(!1),[p,_]=y.useState({name:"",role:"",labor_class_id:null}),[x,w]=y.useState([]),[j,S]=y.useState(!0),[O,C]=y.useState([]),[A,k]=y.useState([]),[D,M]=y.useState(!0),L=["Foreman","Laborer","Supervisor","Operator"],X=y.useCallback(async()=>{try{const U=await be.getCrewCheckin(e.id);U?.workers&&i(U.workers)}catch(U){console.error("Error loading crew:",U),r?.("Error loading today's crew","error")}finally{c(!1)}},[e?.id,r]),re=y.useCallback(async()=>{try{const U=await be.getRecentWorkers(e.id,30);w(U)}catch(U){console.error("Error loading recent workers:",U)}finally{S(!1)}},[e?.id]),ae=y.useCallback(async()=>{try{const U=await be.getLaborClassesForField(t);C(U.categories||[]),k(U.classes||[]),U.classes&&U.classes.length>0&&_(me=>({...me,role:U.classes[0].name,labor_class_id:U.classes[0].id}))}catch(U){console.error("Error loading labor classes:",U),r?.("Using default roles - custom labor classes unavailable","info")}finally{M(!1)}},[t,r]);y.useEffect(()=>{e?.id&&(X(),re(),t?ae():M(!1))},[e?.id,t,X,re,ae]);const G=U=>{const me=A.find(we=>we.id===U);_(me?{...p,role:me.name,labor_class_id:me.id}:{...p,role:U,labor_class_id:null})},B=async()=>{if(!p.name.trim()){r("Enter worker name","error");return}if(!p.role){r("Select a role","error");return}if(n.find(U=>U.name.toLowerCase()===p.name.trim().toLowerCase())){r("Worker already added","error");return}m(!0);try{const U=[...n,{name:p.name.trim(),role:p.role,labor_class_id:p.labor_class_id}];await be.saveCrewCheckin(e.id,U),i(U),_({...p,name:""}),g(!1),r("Crew member added","success")}catch(U){console.error("Error adding worker:",U),r("Error adding crew member","error")}finally{m(!1)}},ce=async U=>{m(!0);try{const me=n.filter(we=>we.name.toLowerCase()!==U.toLowerCase());await be.saveCrewCheckin(e.id,me),i(me),r("Crew member removed","success")}catch(me){console.error("Error removing worker:",me),r("Error removing crew member","error")}finally{m(!1)}},ge=async U=>{if(n.find(me=>me.name.toLowerCase()===U.name.toLowerCase())){r("Already checked in","info");return}m(!0);try{const me=[...n,{name:U.name,role:U.role,labor_class_id:U.labor_class_id}];await be.saveCrewCheckin(e.id,me),i(me),r(`${U.name} checked in`,"success")}catch(me){console.error("Error adding worker:",me),r("Error adding crew member","error")}finally{m(!1)}},q=x.filter(U=>!n.find(me=>me.name.toLowerCase()===U.name.toLowerCase())),R=new Date().toLocaleDateString("en-US",{weekday:"long",month:"short",day:"numeric"}),I=()=>{const U={};O.forEach(we=>{U[we.id]={name:we.name,classes:A.filter(J=>J.category_id===we.id)}});const me=A.filter(we=>!we.category_id);return me.length>0&&(U.uncategorized={name:"Other",classes:me}),U},ee=A.length>0;return s||D?f.jsxs("div",{className:"crew-checkin",children:[f.jsxs("div",{className:"crew-header",children:[f.jsxs("h3",{children:[f.jsx(Po,{size:18,className:"inline-icon"})," Today's Crew"]}),f.jsx("span",{className:"crew-date",children:R})]}),f.jsx("div",{className:"crew-loading",children:"Loading..."})]}):f.jsxs("div",{className:"crew-checkin",children:[f.jsxs("div",{className:"crew-header",children:[f.jsxs("h3",{children:[f.jsx(Po,{size:18,className:"inline-icon"})," Today's Crew"]}),f.jsx("span",{className:"crew-date",children:R})]}),n.length===0?f.jsxs("div",{className:"crew-empty",children:[f.jsx("p",{children:"No crew checked in yet"}),f.jsx("p",{className:"crew-empty-hint",children:"Add your crew for the day"})]}):f.jsx("div",{className:"crew-list",children:n.map(U=>f.jsxs("div",{className:"crew-member",children:[f.jsxs("div",{className:"crew-member-info",children:[f.jsx("span",{className:"crew-member-name",children:U.name}),f.jsx("span",{className:`crew-member-role ${(U.role||"laborer").toLowerCase().replace(/\s+/g,"-")}`,children:U.role})]}),f.jsx("button",{className:"crew-remove-btn",onClick:()=>ce(U.name),disabled:u,children:""})]},U.name))}),!j&&q.length>0&&f.jsxs("div",{className:"crew-quick-add",children:[f.jsx("div",{className:"crew-quick-add-header",children:f.jsx("span",{children:"Tap to add"})}),f.jsx("div",{className:"crew-quick-add-grid",children:q.map(U=>f.jsxs("button",{className:"crew-quick-add-btn",onClick:()=>ge(U),disabled:u,children:[f.jsx("span",{className:"crew-quick-add-name",children:U.name}),f.jsx("span",{className:"crew-quick-add-role",children:U.role})]},U.name))})]}),h?f.jsxs("div",{className:"crew-add-form",children:[f.jsx("input",{type:"text",value:p.name,onChange:U=>_({...p,name:U.target.value}),placeholder:"Name",autoFocus:!0}),f.jsx("select",{value:p.labor_class_id||p.role,onChange:U=>G(U.target.value),children:ee?Object.entries(I()).map(([U,me])=>f.jsx("optgroup",{label:me.name,children:me.classes.map(we=>f.jsx("option",{value:we.id,children:we.name},we.id))},U)):L.map(U=>f.jsx("option",{value:U,children:U},U))}),f.jsxs("div",{className:"crew-add-buttons",children:[f.jsx("button",{className:"crew-add-confirm",onClick:B,disabled:u,children:u?"...":"Add"}),f.jsx("button",{className:"crew-add-cancel",onClick:()=>{g(!1),_({name:"",role:A[0]?.name||"Laborer",labor_class_id:A[0]?.id||null})},children:"Cancel"})]})]}):f.jsxs("button",{className:"crew-add-btn",onClick:()=>g(!0),children:[f.jsx(FA,{size:18}),f.jsx("span",{children:"Add New Person"})]}),f.jsxs("div",{className:"crew-count",children:[n.length," ",n.length===1?"person":"people"," on site"]})]})}function e3({project:e,onShowToast:t,onClose:r}){const[n,i]=y.useState(!0),[s,c]=y.useState(!1),[u,m]=y.useState(null),[h,g]=y.useState(""),[p,_]=y.useState("");y.useEffect(()=>{e?.id&&x()},[e?.id]);const x=async()=>{try{const O=await be.getDailyReport(e.id);if(O)m(O),g(O.field_notes||""),_(O.issues||"");else{const C=await be.compileDailyReport(e.id);m({...C,status:"draft"})}}catch(O){console.error("Error loading report:",O),t("Error loading report","error")}finally{i(!1)}},w=async()=>{if(!P){t("Demo Mode: Report saved locally only - won't reach office","info"),r();return}c(!0);try{await be.saveDailyReport(e.id,{field_notes:h,issues:p}),await be.submitDailyReport(e.id,"Field")?(t("Daily report submitted!","success"),r()):t("Report not sent - check connection","error")}catch(O){console.error("Error submitting report:",O),t("Error submitting report","error")}finally{c(!1)}},j=new Date().toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"});if(n)return f.jsxs("div",{className:"daily-report",children:[f.jsxs("div",{className:"daily-report-header",children:[f.jsx("button",{className:"back-btn-simple",onClick:r,children:""}),f.jsx("h2",{children:"Daily Report"})]}),f.jsx("div",{className:"daily-report-loading",children:"Compiling report..."})]});if(!u)return f.jsxs("div",{className:"daily-report",children:[f.jsxs("div",{className:"daily-report-header",children:[f.jsx("button",{className:"back-btn-simple",onClick:r,children:""}),f.jsx("h2",{children:"Daily Report"})]}),f.jsxs("div",{className:"daily-report-error",children:[f.jsx("p",{children:"Unable to load report data."}),f.jsx("button",{className:"btn btn-secondary",onClick:x,children:"Retry"})]})]});const S=u.status==="submitted";return f.jsxs("div",{className:"daily-report",children:[f.jsxs("div",{className:"daily-report-header",children:[f.jsx("button",{className:"back-btn-simple",onClick:r,children:""}),f.jsxs("div",{children:[f.jsx("h2",{children:"Daily Report"}),f.jsx("p",{className:"daily-report-date",children:j})]})]}),S&&f.jsxs("div",{className:"daily-report-submitted-banner",children:[" Submitted ",new Date(u.submitted_at).toLocaleTimeString()]}),f.jsxs("div",{className:"daily-report-content",children:[f.jsxs("div",{className:"daily-report-summary",children:[f.jsxs("div",{className:"daily-report-card",children:[f.jsx("div",{className:"daily-report-card-value",children:u.crew_count||0}),f.jsx("div",{className:"daily-report-card-label",children:"Crew on Site"})]}),f.jsxs("div",{className:"daily-report-card",children:[f.jsx("div",{className:"daily-report-card-value",children:u.tasks_completed||0}),f.jsx("div",{className:"daily-report-card-label",children:"Tasks Done"})]}),f.jsxs("div",{className:"daily-report-card",children:[f.jsx("div",{className:"daily-report-card-value",children:u.tm_tickets_count||0}),f.jsx("div",{className:"daily-report-card-label",children:"T&M Tickets"})]}),f.jsxs("div",{className:"daily-report-card",children:[f.jsx("div",{className:"daily-report-card-value",children:u.photos_count||0}),f.jsx("div",{className:"daily-report-card-label",children:"Photos"})]})]}),u.crew_list?.length>0&&f.jsxs("div",{className:"daily-report-section",children:[f.jsxs("h3",{children:[f.jsx(Po,{size:18,className:"inline-icon"})," Crew"]}),f.jsx("div",{className:"daily-report-crew",children:u.crew_list.map((O,C)=>f.jsxs("div",{className:"daily-report-crew-item",children:[f.jsx("span",{children:O.name}),f.jsx("span",{className:"daily-report-crew-role",children:O.role})]},C))})]}),u.completed_tasks?.length>0&&f.jsxs("div",{className:"daily-report-section",children:[f.jsxs("h3",{children:[f.jsx(aq,{size:18,className:"inline-icon"})," Completed Today"]}),f.jsx("ul",{className:"daily-report-tasks",children:u.completed_tasks.map((O,C)=>f.jsxs("li",{children:[O.name,O.group&&f.jsx("span",{className:"daily-report-task-group",children:O.group})]},C))})]}),f.jsxs("div",{className:"daily-report-section",children:[f.jsxs("h3",{children:[f.jsx(Fo,{size:18,className:"inline-icon"})," Notes"]}),f.jsx("textarea",{value:h,onChange:O=>g(O.target.value),placeholder:"Any notes about today's work...",rows:3,disabled:S})]}),f.jsxs("div",{className:"daily-report-section",children:[f.jsxs("h3",{children:[f.jsx(sm,{size:18,className:"inline-icon"})," Issues / Concerns"]}),f.jsx("textarea",{value:p,onChange:O=>_(O.target.value),placeholder:"Any problems, delays, or concerns...",rows:3,disabled:S})]})]}),!S&&f.jsxs("div",{className:"daily-report-footer",children:[f.jsx("button",{className:"btn btn-primary daily-report-submit",onClick:w,disabled:s,children:s?"Submitting...":f.jsxs(f.Fragment,{children:[f.jsx(iq,{size:16,className:"inline-icon"})," Submit Report"]})}),f.jsx("p",{className:"daily-report-hint",children:"This will be sent to the office"})]})]})}function t3({project:e,companyId:t,user:r,onClose:n,onReportCreated:i}){const[s,c]=y.useState(!1),[u,m]=y.useState(null),[h,g]=y.useState(1),[p,_]=y.useState(new Date().toISOString().split("T")[0]),[x,w]=y.useState(new Date().toTimeString().split(" ")[0].substring(0,5)),[j,S]=y.useState(""),[O,C]=y.useState(""),[A,k]=y.useState("minor"),[D,M]=y.useState(""),[L,X]=y.useState(""),[re,ae]=y.useState(""),[G,B]=y.useState(""),[ce,ge]=y.useState(""),[q,R]=y.useState(""),[I,ee]=y.useState(""),[U,me]=y.useState(r?.name||""),[we,J]=y.useState(""),[H,je]=y.useState(""),[Te,Ue]=y.useState(r?.email||""),[pe,Le]=y.useState([]),[Q,Ee]=y.useState(""),[xe,ie]=y.useState(""),[Be,ve]=y.useState(""),[Ne,Me]=y.useState(""),[Ct,Re]=y.useState(!1),[It,_t]=y.useState(""),[At,Cr]=y.useState(""),[jt,Ye]=y.useState(!1),[Hr,_n]=y.useState(""),[Pr,Ar]=y.useState(""),[fe,rt]=y.useState(""),[en,Mr]=y.useState(""),[Rr,vt]=y.useState(!1),[Ut,xt]=y.useState(!1),[xn,ci]=y.useState(0),[Qi,ui]=y.useState(0),di=()=>{if(!Q.trim()){m({type:"error",message:"Please enter witness name"});return}const ye={name:Q,phone:xe,email:Be,testimony:Ne};Le([...pe,ye]),Ee(""),ie(""),ve(""),Me(""),m({type:"success",message:"Witness added"})},ya=ye=>{Le(pe.filter((Bn,_a)=>_a!==ye))},wn=ye=>{switch(ye){case 1:if(!j.trim()||!O.trim())return m({type:"error",message:"Please fill in all incident details"}),!1;break;case 2:if(!L.trim()||!q.trim())return m({type:"error",message:"Please fill in employee name and job title"}),!1;break;case 3:if(!U.trim()||!we.trim())return m({type:"error",message:"Please fill in supervisor name and title"}),!1;break}return!0},fi=()=>{wn(h)&&g(h+1)},ba=()=>{g(h-1)},ll=async()=>{if(wn(h)){if(!P){m({type:"info",message:"Demo Mode: Report saved locally only - won't reach office"}),setTimeout(()=>{n()},1500);return}c(!0);try{const ye={project_id:e.id,company_id:t,incident_date:p,incident_time:x,incident_location:j,incident_description:O,injury_type:A,body_part_affected:D||null,employee_name:L,employee_phone:re||null,employee_email:G||null,employee_address:ce||null,employee_job_title:q,employee_hire_date:I||null,medical_treatment_required:Ct,medical_facility_name:It||null,medical_facility_address:At||null,hospitalized:jt,reported_by_name:U,reported_by_title:we,reported_by_phone:H||null,reported_by_email:Te||null,witnesses:pe,immediate_actions_taken:Hr||null,corrective_actions_planned:Pr||null,safety_equipment_used:fe||null,safety_equipment_failed:en||null,osha_recordable:Rr,workers_comp_claim:Ut,days_away_from_work:parseInt(xn)||0,restricted_work_days:parseInt(Qi)||0,status:"reported",created_by:r?.id},Bn=await be.createInjuryReport(ye);m({type:"success",message:"Injury report submitted successfully"}),i&&i(Bn),setTimeout(()=>{n()},1500)}catch(ye){console.error("Error submitting injury report:",ye),m({type:"error",message:"Failed to submit injury report"})}finally{c(!1)}}};return f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"modal-overlay",onClick:n,children:f.jsxs("div",{className:"modal-content injury-report-modal",onClick:ye=>ye.stopPropagation(),children:[f.jsxs("div",{className:"modal-header",children:[f.jsx("h2",{children:"Workplace Injury/Incident Report"}),f.jsx("button",{className:"close-btn",onClick:n,children:""})]}),f.jsxs("div",{className:"progress-steps",children:[f.jsx("div",{className:`step ${h>=1?"active":""}`,children:"1. Incident"}),f.jsx("div",{className:`step ${h>=2?"active":""}`,children:"2. Employee"}),f.jsx("div",{className:`step ${h>=3?"active":""}`,children:"3. Supervisor"}),f.jsx("div",{className:`step ${h>=4?"active":""}`,children:"4. Witnesses"}),f.jsx("div",{className:`step ${h>=5?"active":""}`,children:"5. Medical & Safety"})]}),f.jsxs("div",{className:"modal-body",children:[h===1&&f.jsxs("div",{className:"form-step",children:[f.jsx("h3",{children:"Incident Details"}),f.jsxs("div",{className:"form-row",children:[f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Date of Incident *"}),f.jsx("input",{type:"date",value:p,onChange:ye=>_(ye.target.value),max:new Date().toISOString().split("T")[0]})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Time of Incident *"}),f.jsx("input",{type:"time",value:x,onChange:ye=>w(ye.target.value)})]})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Location on Site *"}),f.jsx("input",{type:"text",value:j,onChange:ye=>S(ye.target.value),placeholder:"e.g., Floor 2, near elevator shaft"})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Incident Description *"}),f.jsx("textarea",{value:O,onChange:ye=>C(ye.target.value),rows:4,placeholder:"Describe what happened in detail..."})]}),f.jsxs("div",{className:"form-row",children:[f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Injury Type *"}),f.jsxs("select",{value:A,onChange:ye=>k(ye.target.value),children:[f.jsx("option",{value:"minor",children:"Minor Injury"}),f.jsx("option",{value:"serious",children:"Serious Injury"}),f.jsx("option",{value:"critical",children:"Critical Injury"}),f.jsx("option",{value:"near_miss",children:"Near Miss (No Injury)"})]})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Body Part Affected"}),f.jsx("input",{type:"text",value:D,onChange:ye=>M(ye.target.value),placeholder:"e.g., Left hand, lower back"})]})]})]}),h===2&&f.jsxs("div",{className:"form-step",children:[f.jsx("h3",{children:"Injured Employee Information"}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Full Name *"}),f.jsx("input",{type:"text",value:L,onChange:ye=>X(ye.target.value),placeholder:"First and last name"})]}),f.jsxs("div",{className:"form-row",children:[f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Phone Number"}),f.jsx("input",{type:"tel",value:re,onChange:ye=>ae(ye.target.value),placeholder:"(555) 123-4567"})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Email Address"}),f.jsx("input",{type:"email",value:G,onChange:ye=>B(ye.target.value),placeholder:"email@example.com"})]})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Home Address"}),f.jsx("input",{type:"text",value:ce,onChange:ye=>ge(ye.target.value),placeholder:"Street address, city, state, zip"})]}),f.jsxs("div",{className:"form-row",children:[f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Job Title *"}),f.jsx("input",{type:"text",value:q,onChange:ye=>R(ye.target.value),placeholder:"e.g., Carpenter, Electrician"})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Hire Date"}),f.jsx("input",{type:"date",value:I,onChange:ye=>ee(ye.target.value)})]})]})]}),h===3&&f.jsxs("div",{className:"form-step",children:[f.jsx("h3",{children:"Foreman/Supervisor Making Report"}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Your Name *"}),f.jsx("input",{type:"text",value:U,onChange:ye=>me(ye.target.value),placeholder:"Full name"})]}),f.jsxs("div",{className:"form-row",children:[f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Your Title *"}),f.jsx("input",{type:"text",value:we,onChange:ye=>J(ye.target.value),placeholder:"e.g., Site Foreman, Project Manager"})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Your Phone Number"}),f.jsx("input",{type:"tel",value:H,onChange:ye=>je(ye.target.value),placeholder:"(555) 123-4567"})]})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Your Email Address"}),f.jsx("input",{type:"email",value:Te,onChange:ye=>Ue(ye.target.value),placeholder:"email@example.com"})]})]}),h===4&&f.jsxs("div",{className:"form-step",children:[f.jsx("h3",{children:"Witness Testimonies (Optional)"}),pe.length>0&&f.jsx("div",{className:"witnesses-list",children:pe.map((ye,Bn)=>f.jsxs("div",{className:"witness-item",children:[f.jsxs("div",{className:"witness-info",children:[f.jsx("strong",{children:ye.name}),ye.phone&&f.jsxs("span",{children:["  ",ye.phone]}),ye.testimony&&f.jsxs("p",{className:"witness-testimony",children:['"',ye.testimony,'"']})]}),f.jsx("button",{className:"btn-danger btn-small",onClick:()=>ya(Bn),children:"Remove"})]},Bn))}),f.jsxs("div",{className:"add-witness-form",children:[f.jsxs("div",{className:"form-row",children:[f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Witness Name"}),f.jsx("input",{type:"text",value:Q,onChange:ye=>Ee(ye.target.value),placeholder:"Full name"})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Phone Number"}),f.jsx("input",{type:"tel",value:xe,onChange:ye=>ie(ye.target.value),placeholder:"(555) 123-4567"})]})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Email Address"}),f.jsx("input",{type:"email",value:Be,onChange:ye=>ve(ye.target.value),placeholder:"email@example.com"})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Witness Testimony"}),f.jsx("textarea",{value:Ne,onChange:ye=>Me(ye.target.value),rows:3,placeholder:"What did the witness see or hear?"})]}),f.jsx("button",{className:"btn-secondary",onClick:di,children:"+ Add Witness"})]})]}),h===5&&f.jsxs("div",{className:"form-step",children:[f.jsx("h3",{children:"Medical Treatment & Safety"}),f.jsx("div",{className:"form-group checkbox-group",children:f.jsxs("label",{children:[f.jsx("input",{type:"checkbox",checked:Ct,onChange:ye=>Re(ye.target.checked)}),"Medical treatment required"]})}),Ct&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Medical Facility Name"}),f.jsx("input",{type:"text",value:It,onChange:ye=>_t(ye.target.value),placeholder:"Hospital or clinic name"})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Medical Facility Address"}),f.jsx("input",{type:"text",value:At,onChange:ye=>Cr(ye.target.value),placeholder:"Street address"})]}),f.jsx("div",{className:"form-group checkbox-group",children:f.jsxs("label",{children:[f.jsx("input",{type:"checkbox",checked:jt,onChange:ye=>Ye(ye.target.checked)}),"Employee was hospitalized"]})})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Immediate Actions Taken"}),f.jsx("textarea",{value:Hr,onChange:ye=>_n(ye.target.value),rows:2,placeholder:"What was done immediately after the incident?"})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Corrective Actions Planned"}),f.jsx("textarea",{value:Pr,onChange:ye=>Ar(ye.target.value),rows:2,placeholder:"What will be done to prevent this in the future?"})]}),f.jsxs("div",{className:"form-row",children:[f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Safety Equipment Used"}),f.jsx("input",{type:"text",value:fe,onChange:ye=>rt(ye.target.value),placeholder:"e.g., Hard hat, gloves, harness"})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Safety Equipment Failed"}),f.jsx("input",{type:"text",value:en,onChange:ye=>Mr(ye.target.value),placeholder:"Equipment that failed, if any"})]})]}),f.jsxs("div",{className:"form-row",children:[f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Days Away From Work"}),f.jsx("input",{type:"number",min:"0",value:xn,onChange:ye=>ci(ye.target.value)})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Restricted Work Days"}),f.jsx("input",{type:"number",min:"0",value:Qi,onChange:ye=>ui(ye.target.value)})]})]}),f.jsx("div",{className:"form-group checkbox-group",children:f.jsxs("label",{children:[f.jsx("input",{type:"checkbox",checked:Rr,onChange:ye=>vt(ye.target.checked)}),"OSHA Recordable Incident"]})}),f.jsx("div",{className:"form-group checkbox-group",children:f.jsxs("label",{children:[f.jsx("input",{type:"checkbox",checked:Ut,onChange:ye=>xt(ye.target.checked)}),"Workers' Compensation Claim Filed"]})})]})]}),f.jsx("div",{className:"modal-footer",children:f.jsxs("div",{className:"form-actions",children:[h>1&&f.jsx("button",{className:"btn-secondary",onClick:ba,children:" Back"}),f.jsx("button",{className:"btn-secondary",onClick:n,children:"Cancel"}),h<5?f.jsx("button",{className:"btn-primary",onClick:fi,children:"Next "}):f.jsx("button",{className:"btn-primary",onClick:ll,disabled:s,children:s?"Submitting...":"Submit Report"})]})})]})}),u&&f.jsx(kN,{message:u.message,type:u.type,onClose:()=>m(null)}),f.jsx("style",{children:`
        .injury-report-modal {
          max-width: 800px;
          max-height: 90vh;
          overflow-y: auto;
        }

        .progress-steps {
          display: flex;
          justify-content: space-between;
          padding: 1rem 1.5rem;
          border-bottom: 1px solid var(--border-color);
          background-color: var(--bg-elevated);
          overflow-x: auto;
        }

        .progress-steps .step {
          font-size: 0.875rem;
          color: var(--text-muted);
          font-weight: 500;
          white-space: nowrap;
          padding: 0.5rem;
        }

        .progress-steps .step.active {
          color: var(--accent-primary);
          font-weight: 600;
        }

        .form-step h3 {
          margin-top: 0;
          margin-bottom: 1.5rem;
          color: var(--text-primary);
          font-size: 1.25rem;
        }

        .form-row {
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 1rem;
        }

        .form-group {
          margin-bottom: 1rem;
        }

        .form-group label {
          display: block;
          margin-bottom: 0.5rem;
          font-weight: 500;
          color: var(--text-secondary);
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
          width: 100%;
          padding: 0.5rem;
          border: 1px solid var(--border-color);
          border-radius: 4px;
          font-size: 1rem;
          background: var(--bg-card);
          color: var(--text-primary);
        }

        .form-group textarea {
          resize: vertical;
        }

        .checkbox-group label {
          display: flex;
          align-items: center;
          gap: 0.5rem;
          font-weight: normal;
          cursor: pointer;
        }

        .checkbox-group input[type="checkbox"] {
          width: auto;
          margin: 0;
        }

        .witnesses-list {
          margin-bottom: 1.5rem;
        }

        .witness-item {
          border: 1px solid var(--border-color);
          border-radius: 6px;
          padding: 1rem;
          margin-bottom: 0.5rem;
          display: flex;
          justify-content: space-between;
          align-items: flex-start;
        }

        .witness-info {
          flex: 1;
          color: var(--text-primary);
        }

        .witness-testimony {
          margin-top: 0.5rem;
          color: var(--text-secondary);
          font-style: italic;
          font-size: 0.875rem;
        }

        .add-witness-form {
          border: 2px dashed var(--border-color);
          border-radius: 6px;
          padding: 1rem;
          background-color: var(--bg-elevated);
        }

        .modal-footer {
          border-top: 1px solid var(--border-color);
          padding: 1rem 1.5rem;
        }

        .form-actions {
          display: flex;
          justify-content: space-between;
          gap: 0.5rem;
        }

        .btn-primary,
        .btn-secondary,
        .btn-danger {
          padding: 0.5rem 1rem;
          border-radius: 6px;
          font-weight: 500;
          cursor: pointer;
          border: none;
        }

        .btn-primary {
          background-color: var(--primary-color, #3b82f6);
          color: white;
        }

        .btn-primary:hover:not(:disabled) {
          opacity: 0.9;
        }

        .btn-primary:disabled {
          opacity: 0.5;
          cursor: not-allowed;
        }

        .btn-secondary {
          background-color: var(--bg-elevated);
          color: var(--text-primary);
          border: 1px solid var(--border-color);
        }

        .btn-secondary:hover {
          background-color: var(--bg-tertiary);
        }

        .btn-danger {
          background-color: #ef4444;
          color: white;
        }

        .btn-danger:hover {
          background-color: #dc2626;
        }

        .btn-small {
          padding: 0.25rem 0.75rem;
          font-size: 0.875rem;
        }

        @media (max-width: 768px) {
          .injury-report-modal {
            max-width: 100%;
            height: 100vh;
            max-height: 100vh;
            border-radius: 0;
          }

          .form-row {
            grid-template-columns: 1fr;
          }

          .progress-steps .step {
            font-size: 0.75rem;
            padding: 0.25rem;
          }
        }
      `})]})}const af=[{value:"concrete",label:"Concrete",icon:""},{value:"trash",label:"Trash",icon:""},{value:"metals",label:"Metals",icon:""},{value:"hazardous_waste",label:"Hazardous",icon:""}],r3=e=>af.find(t=>t.value===e)||{label:e,icon:""};function n3({project:e,user:t=null,date:r,onShowToast:n}){const[i,s]=y.useState([]),[c,u]=y.useState([]),[m,h]=y.useState(!0),[g,p]=y.useState(!1),[_,x]=y.useState(!1),[w,j]=y.useState(!1),[S,O]=y.useState({type:"concrete",count:1}),C=new Date(r).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"});y.useEffect(()=>{A(),k()},[e.id,r]);const A=async()=>{try{h(!0);const B=await be.getDisposalLoads(e.id,r);s(B||[])}catch(B){console.error("Error loading disposal loads:",B)}finally{h(!1)}},k=async()=>{try{const ce=(await be.getDisposalLoadsHistory(e.id,14)||[]).filter(q=>q.load_date!==r).reduce((q,R)=>(q[R.load_date]||(q[R.load_date]=[]),q[R.load_date].push(R),q),{}),ge=Object.entries(ce).map(([q,R])=>({date:q,loads:R,totalLoads:R.reduce((I,ee)=>I+ee.load_count,0)})).sort((q,R)=>new Date(R.date)-new Date(q.date));u(ge)}catch(B){console.error("Error loading disposal history:",B)}},D=async()=>{if(!(S.count<1)){p(!0);try{await be.addDisposalLoad(e.id,t?.id||null,r,S.type,S.count),await A(),O({type:"concrete",count:1}),x(!1),n?.("Disposal load added","success")}catch(B){console.error("Error adding disposal load:",B),n?.("Error adding load","error")}finally{p(!1)}}},M=async B=>{p(!0);try{await be.deleteDisposalLoad(B),await A(),n?.("Load removed","success")}catch(ce){console.error("Error deleting disposal load:",ce),n?.("Error removing load","error")}finally{p(!1)}},L=async B=>{p(!0);try{await be.addDisposalLoad(e.id,t?.id||null,r,B,1),await A(),n?.("Load added","success")}catch(ce){console.error("Error adding disposal load:",ce),n?.("Error adding load","error")}finally{p(!1)}},X=async B=>{p(!0);try{await be.updateDisposalLoad(B.id,B.load_type,B.load_count+1),await A()}catch(ce){console.error("Error updating load:",ce),n?.("Error updating load","error")}finally{p(!1)}},re=async B=>{if(B.load_count<=1){await M(B.id);return}p(!0);try{await be.updateDisposalLoad(B.id,B.load_type,B.load_count-1),await A()}catch(ce){console.error("Error updating load:",ce),n?.("Error updating load","error")}finally{p(!1)}},ae=i.reduce((B,ce)=>(B[ce.load_type]||(B[ce.load_type]={items:[],total:0}),B[ce.load_type].items.push(ce),B[ce.load_type].total+=ce.load_count,B),{}),G=i.reduce((B,ce)=>B+ce.load_count,0);return m?f.jsxs("div",{className:"disposal-load-input",children:[f.jsxs("div",{className:"disposal-header",children:[f.jsx(df,{size:20}),f.jsx("span",{children:"Disposal Loads"})]}),f.jsx("div",{className:"disposal-loading",children:"Loading..."})]}):f.jsxs("div",{className:"disposal-load-input",children:[f.jsxs("div",{className:"disposal-header",children:[f.jsxs("div",{className:"disposal-title",children:[f.jsx(df,{size:20}),f.jsx("span",{children:"Disposal Loads"}),G>0&&f.jsx("span",{className:"disposal-badge",children:G})]}),f.jsx("span",{className:"disposal-date",children:C})]}),f.jsx("div",{className:"disposal-quick-add",children:af.map(B=>f.jsxs("button",{className:"quick-add-btn",onClick:()=>L(B.value),disabled:g,children:[f.jsx("span",{className:"quick-add-icon",children:B.icon}),f.jsxs("span",{className:"quick-add-label",children:["+ ",B.label]})]},B.value))}),Object.keys(ae).length>0?f.jsx("div",{className:"disposal-loads-list",children:af.map(B=>{const ce=ae[B.value];return ce?f.jsxs("div",{className:"disposal-load-row",children:[f.jsxs("div",{className:"load-info",children:[f.jsx("span",{className:"load-icon",children:B.icon}),f.jsx("span",{className:"load-label",children:B.label})]}),f.jsxs("div",{className:"load-controls",children:[f.jsx("button",{className:"load-btn decrement",onClick:()=>re(ce.items[0]),disabled:g,children:f.jsx(xS,{size:16})}),f.jsx("span",{className:"load-count",children:ce.total}),f.jsx("button",{className:"load-btn increment",onClick:()=>X(ce.items[0]),disabled:g,children:f.jsx(Zd,{size:16})})]})]},B.value):null})}):f.jsxs("div",{className:"disposal-empty",children:[f.jsxs("p",{children:["No disposal loads recorded for ",C]}),f.jsx("p",{className:"disposal-hint",children:"Tap a button above to add loads"})]}),_&&f.jsxs("div",{className:"disposal-add-form",children:[f.jsxs("div",{className:"add-form-row",children:[f.jsx("select",{value:S.type,onChange:B=>O({...S,type:B.target.value}),className:"load-type-select",children:af.map(B=>f.jsxs("option",{value:B.value,children:[B.icon," ",B.label]},B.value))}),f.jsxs("div",{className:"count-input-group",children:[f.jsx("button",{className:"count-btn",onClick:()=>O({...S,count:Math.max(1,S.count-1)}),children:f.jsx(xS,{size:16})}),f.jsx("input",{type:"number",min:"1",value:S.count,onChange:B=>O({...S,count:parseInt(B.target.value)||1}),className:"count-input"}),f.jsx("button",{className:"count-btn",onClick:()=>O({...S,count:S.count+1}),children:f.jsx(Zd,{size:16})})]})]}),f.jsxs("div",{className:"add-form-actions",children:[f.jsxs("button",{className:"btn btn-secondary btn-small",onClick:()=>x(!1),children:[f.jsx(jb,{size:16})," Cancel"]}),f.jsxs("button",{className:"btn btn-primary btn-small",onClick:D,disabled:g,children:[f.jsx(Hi,{size:16})," Add"]})]})]}),!_&&f.jsxs("button",{className:"disposal-add-custom",onClick:()=>x(!0),children:[f.jsx(Zd,{size:16}),"Add multiple loads"]}),G>0&&f.jsxs("div",{className:"disposal-summary",children:[f.jsx("strong",{children:G})," total load",G!==1?"s":""," today"]}),c.length>0&&f.jsxs("div",{className:"disposal-history-section",children:[f.jsxs("button",{className:"disposal-history-toggle",onClick:()=>j(!w),children:[f.jsx(oq,{size:16}),f.jsxs("span",{children:["View History (",c.length," days)"]}),w?f.jsx(WA,{size:16}):f.jsx(ff,{size:16})]}),w&&f.jsx("div",{className:"disposal-history-list",children:c.map(B=>{const ce=new Date(B.date).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}),ge=B.loads.reduce((q,R)=>(q[R.load_type]||(q[R.load_type]=0),q[R.load_type]+=R.load_count,q),{});return f.jsxs("div",{className:"disposal-history-day",children:[f.jsxs("div",{className:"disposal-history-header",children:[f.jsx("span",{className:"disposal-history-date",children:ce}),f.jsxs("span",{className:"disposal-history-total",children:[B.totalLoads," load",B.totalLoads!==1?"s":""]})]}),f.jsx("div",{className:"disposal-history-types",children:Object.entries(ge).map(([q,R])=>{const I=r3(q);return f.jsxs("span",{className:"disposal-history-type",children:[I.icon," ",R," ",I.label]},q)})})]},B.date)})})]})]})}const XS={folder:pc,plans:uq,specs:Fo,permits:VA,contracts:cq,submittals:lq,rfis:sq,photos:dy,reports:XA,safety:sm},Td={blue:"#3b82f6",green:"#10b981",yellow:"#f59e0b",red:"#ef4444",purple:"#8b5cf6",pink:"#ec4899",gray:"#6b7280",orange:"#f97316"},a3=e=>e?.startsWith("image/")?dq:e?.includes("spreadsheet")||e?.includes("excel")?fq:e?.includes("pdf")?Fo:mq,i3=e=>{if(!e)return"0 B";const t=["B","KB","MB","GB"];let r=e,n=0;for(;r>=1024&&n<t.length-1;)r/=1024,n++;return`${r.toFixed(r<10?1:0)} ${t[n]}`};function o3({projectId:e,onShowToast:t}){const[r,n]=y.useState([]),[i,s]=y.useState(!0),[c,u]=y.useState(null),[m,h]=y.useState([]),[g,p]=y.useState(!1),_=y.useRef(null),x=y.useCallback(async()=>{s(!0);try{const C=await be.getProjectFolders(e);n(C)}catch(C){console.error("Error loading folders:",C),t?.("Failed to load folders","error")}finally{s(!1)}},[e,t]),w=y.useCallback(async C=>{if(C){p(!0);try{const A=await be.getFolderDocuments(C);h(A.documents)}catch(A){console.error("Error loading documents:",A),t?.("Failed to load documents","error")}finally{p(!1)}}},[t]);y.useEffect(()=>{x();const C=be.subscribeToDocumentFolders?.(e,()=>{x()}),A=be.subscribeToDocuments?.(e,()=>{x(),_.current&&w(_.current.id)});return()=>{C?.unsubscribe?.(),A?.unsubscribe?.()}},[e,x,w]);const j=async C=>{u(C),_.current=C,await w(C.id)},S=async C=>{try{await be.logDocumentAccess(C.id,"downloaded");const A=C.url||`/storage/v1/object/public/project-documents/${C.storage_path}`;window.open(A,"_blank")}catch(A){console.error("Download error:",A)}},O=()=>{u(null),_.current=null,h([])};if(i)return f.jsx("div",{className:"field-docs",children:f.jsxs("div",{className:"field-docs-loading",children:[f.jsx($s,{size:24,className:"spinner"}),f.jsx("span",{children:"Loading..."})]})});if(c){const C=XS[c.icon]||pc,A=Td[c.color]||Td.blue;return f.jsxs("div",{className:"field-docs",children:[f.jsxs("div",{className:"field-docs-header",children:[f.jsx("button",{className:"field-docs-back",onClick:O,children:f.jsx(sr,{size:20})}),f.jsxs("div",{className:"field-docs-title",children:[f.jsx("div",{className:"field-docs-title-icon",style:{backgroundColor:`${A}15`},children:f.jsx(C,{size:20,style:{color:A}})}),f.jsxs("div",{className:"field-docs-title-text",children:[f.jsx("h2",{children:c.name}),f.jsxs("span",{children:[m.length," files"]})]})]})]}),f.jsx("div",{className:"field-docs-list",children:g?f.jsxs("div",{className:"field-docs-loading",children:[f.jsx($s,{size:24,className:"spinner"}),f.jsx("span",{children:"Loading..."})]}):m.length===0?f.jsxs("div",{className:"field-docs-empty",children:[f.jsx(pc,{size:48,style:{color:A,opacity:.3}}),f.jsx("p",{children:"No documents yet"})]}):m.map(k=>{const D=a3(k.mime_type);return f.jsxs("button",{className:"field-doc-item",onClick:()=>S(k),children:[f.jsx("div",{className:"field-doc-icon",children:f.jsx(D,{size:22})}),f.jsxs("div",{className:"field-doc-info",children:[f.jsx("span",{className:"field-doc-name",children:k.name}),f.jsx("span",{className:"field-doc-size",children:i3(k.file_size_bytes)})]}),f.jsx(GA,{size:20,className:"field-doc-download"})]},k.id)})})]})}return f.jsx("div",{className:"field-docs",children:f.jsx("div",{className:"field-docs-grid",children:r.length===0?f.jsxs("div",{className:"field-docs-empty",children:[f.jsx(pc,{size:56}),f.jsx("h3",{children:"No documents"}),f.jsx("p",{children:"Documents will appear here when added"})]}):r.map(C=>{const A=XS[C.icon]||pc,k=Td[C.color]||Td.blue,D=C.document_count||0;return f.jsxs("button",{className:"field-folder-card",onClick:()=>j(C),children:[f.jsx("div",{className:"field-folder-icon",style:{backgroundColor:`${k}12`},children:f.jsx(A,{size:28,style:{color:k}})}),f.jsxs("div",{className:"field-folder-info",children:[f.jsx("span",{className:"field-folder-name",children:C.name}),f.jsxs("span",{className:"field-folder-count",children:[D," ",D===1?"file":"files"]})]}),f.jsx(bc,{size:20,className:"field-folder-arrow"})]},C.id)})})})}function TN(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=TN(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function st(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=TN(e))&&(n&&(n+=" "),n+=t);return n}var s3=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function zb(e){if(typeof e!="string")return!1;var t=s3;return t.includes(e)}var l3=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],c3=new Set(l3);function PN(e){return typeof e!="string"?!1:c3.has(e)}function MN(e){return typeof e=="string"&&e.startsWith("data-")}function vn(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(PN(r)||MN(r))&&(t[r]=e[r]);return t}function Ro(e){if(e==null)return null;if(y.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return vn(t)}return typeof e=="object"&&!Array.isArray(e)?vn(e):null}function Br(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(PN(r)||MN(r)||zb(r))&&(t[r]=e[r]);return t}function u3(e){return e==null?null:y.isValidElement(e)?Br(e.props):typeof e=="object"&&!Array.isArray(e)?Br(e):null}var d3=["children","width","height","viewBox","className","style","title","desc"];function _y(){return _y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_y.apply(null,arguments)}function f3(e,t){if(e==null)return{};var r,n,i=m3(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function m3(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var RN=y.forwardRef((e,t)=>{var{children:r,width:n,height:i,viewBox:s,className:c,style:u,title:m,desc:h}=e,g=f3(e,d3),p=s||{width:n,height:i,x:0,y:0},_=st("recharts-surface",c);return y.createElement("svg",_y({},Br(g),{className:_,width:n,height:i,style:u,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:t}),y.createElement("title",null,m),y.createElement("desc",null,h),r)}),h3=["children","className"];function xy(){return xy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xy.apply(null,arguments)}function p3(e,t){if(e==null)return{};var r,n,i=g3(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function g3(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var yr=y.forwardRef((e,t)=>{var{children:r,className:n}=e,i=p3(e,h3),s=st("recharts-layer",n);return y.createElement("g",xy({className:s},Br(i),{ref:t}),r)}),qN=y.createContext(null),NZ=()=>y.useContext(qN);function wt(e){return function(){return e}}const zN=Math.cos,pf=Math.sin,na=Math.sqrt,gf=Math.PI,fm=2*gf,wy=Math.PI,jy=2*wy,wo=1e-6,v3=jy-wo;function LN(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function y3(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return LN;const r=10**t;return function(n){this._+=n[0];for(let i=1,s=n.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class b3{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?LN:y3(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,s,c){this._append`C${+t},${+r},${+n},${+i},${this._x1=+s},${this._y1=+c}`}arcTo(t,r,n,i,s){if(t=+t,r=+r,n=+n,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let c=this._x1,u=this._y1,m=n-t,h=i-r,g=c-t,p=u-r,_=g*g+p*p;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(_>wo)if(!(Math.abs(p*m-h*g)>wo)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let x=n-c,w=i-u,j=m*m+h*h,S=x*x+w*w,O=Math.sqrt(j),C=Math.sqrt(_),A=s*Math.tan((wy-Math.acos((j+_-S)/(2*O*C)))/2),k=A/C,D=A/O;Math.abs(k-1)>wo&&this._append`L${t+k*g},${r+k*p}`,this._append`A${s},${s},0,0,${+(p*x>g*w)},${this._x1=t+D*m},${this._y1=r+D*h}`}}arc(t,r,n,i,s,c){if(t=+t,r=+r,n=+n,c=!!c,n<0)throw new Error(`negative radius: ${n}`);let u=n*Math.cos(i),m=n*Math.sin(i),h=t+u,g=r+m,p=1^c,_=c?i-s:s-i;this._x1===null?this._append`M${h},${g}`:(Math.abs(this._x1-h)>wo||Math.abs(this._y1-g)>wo)&&this._append`L${h},${g}`,n&&(_<0&&(_=_%jy+jy),_>v3?this._append`A${n},${n},0,1,${p},${t-u},${r-m}A${n},${n},0,1,${p},${this._x1=h},${this._y1=g}`:_>wo&&this._append`A${n},${n},0,${+(_>=wy)},${p},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function Lb(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new b3(t)}function Ib(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function IN(e){this._context=e}IN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function mm(e){return new IN(e)}function UN(e){return e[0]}function BN(e){return e[1]}function $N(e,t){var r=wt(!0),n=null,i=mm,s=null,c=Lb(u);e=typeof e=="function"?e:e===void 0?UN:wt(e),t=typeof t=="function"?t:t===void 0?BN:wt(t);function u(m){var h,g=(m=Ib(m)).length,p,_=!1,x;for(n==null&&(s=i(x=c())),h=0;h<=g;++h)!(h<g&&r(p=m[h],h,m))===_&&((_=!_)?s.lineStart():s.lineEnd()),_&&s.point(+e(p,h,m),+t(p,h,m));if(x)return s=null,x+""||null}return u.x=function(m){return arguments.length?(e=typeof m=="function"?m:wt(+m),u):e},u.y=function(m){return arguments.length?(t=typeof m=="function"?m:wt(+m),u):t},u.defined=function(m){return arguments.length?(r=typeof m=="function"?m:wt(!!m),u):r},u.curve=function(m){return arguments.length?(i=m,n!=null&&(s=i(n)),u):i},u.context=function(m){return arguments.length?(m==null?n=s=null:s=i(n=m),u):n},u}function Pd(e,t,r){var n=null,i=wt(!0),s=null,c=mm,u=null,m=Lb(h);e=typeof e=="function"?e:e===void 0?UN:wt(+e),t=typeof t=="function"?t:wt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?BN:wt(+r);function h(p){var _,x,w,j=(p=Ib(p)).length,S,O=!1,C,A=new Array(j),k=new Array(j);for(s==null&&(u=c(C=m())),_=0;_<=j;++_){if(!(_<j&&i(S=p[_],_,p))===O)if(O=!O)x=_,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),w=_-1;w>=x;--w)u.point(A[w],k[w]);u.lineEnd(),u.areaEnd()}O&&(A[_]=+e(S,_,p),k[_]=+t(S,_,p),u.point(n?+n(S,_,p):A[_],r?+r(S,_,p):k[_]))}if(C)return u=null,C+""||null}function g(){return $N().defined(i).curve(c).context(s)}return h.x=function(p){return arguments.length?(e=typeof p=="function"?p:wt(+p),n=null,h):e},h.x0=function(p){return arguments.length?(e=typeof p=="function"?p:wt(+p),h):e},h.x1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:wt(+p),h):n},h.y=function(p){return arguments.length?(t=typeof p=="function"?p:wt(+p),r=null,h):t},h.y0=function(p){return arguments.length?(t=typeof p=="function"?p:wt(+p),h):t},h.y1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:wt(+p),h):r},h.lineX0=h.lineY0=function(){return g().x(e).y(t)},h.lineY1=function(){return g().x(e).y(r)},h.lineX1=function(){return g().x(n).y(t)},h.defined=function(p){return arguments.length?(i=typeof p=="function"?p:wt(!!p),h):i},h.curve=function(p){return arguments.length?(c=p,s!=null&&(u=c(s)),h):c},h.context=function(p){return arguments.length?(p==null?s=u=null:u=c(s=p),h):s},h}class HN{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function _3(e){return new HN(e,!0)}function x3(e){return new HN(e,!1)}const Ub={draw(e,t){const r=na(t/gf);e.moveTo(r,0),e.arc(0,0,r,0,fm)}},w3={draw(e,t){const r=na(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},FN=na(1/3),j3=FN*2,S3={draw(e,t){const r=na(t/j3),n=r*FN;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},E3={draw(e,t){const r=na(t),n=-r/2;e.rect(n,n,r,r)}},O3=.8908130915292852,KN=pf(gf/10)/pf(7*gf/10),C3=pf(fm/10)*KN,A3=-zN(fm/10)*KN,N3={draw(e,t){const r=na(t*O3),n=C3*r,i=A3*r;e.moveTo(0,-r),e.lineTo(n,i);for(let s=1;s<5;++s){const c=fm*s/5,u=zN(c),m=pf(c);e.lineTo(m*r,-u*r),e.lineTo(u*n-m*i,m*n+u*i)}e.closePath()}},Og=na(3),k3={draw(e,t){const r=-na(t/(Og*3));e.moveTo(0,r*2),e.lineTo(-Og*r,-r),e.lineTo(Og*r,-r),e.closePath()}},Pn=-.5,Mn=na(3)/2,Sy=1/na(12),D3=(Sy/2+1)*3,T3={draw(e,t){const r=na(t/D3),n=r/2,i=r*Sy,s=n,c=r*Sy+r,u=-s,m=c;e.moveTo(n,i),e.lineTo(s,c),e.lineTo(u,m),e.lineTo(Pn*n-Mn*i,Mn*n+Pn*i),e.lineTo(Pn*s-Mn*c,Mn*s+Pn*c),e.lineTo(Pn*u-Mn*m,Mn*u+Pn*m),e.lineTo(Pn*n+Mn*i,Pn*i-Mn*n),e.lineTo(Pn*s+Mn*c,Pn*c-Mn*s),e.lineTo(Pn*u+Mn*m,Pn*m-Mn*u),e.closePath()}};function P3(e,t){let r=null,n=Lb(i);e=typeof e=="function"?e:wt(e||Ub),t=typeof t=="function"?t:wt(t===void 0?64:+t);function i(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return i.type=function(s){return arguments.length?(e=typeof s=="function"?s:wt(s),i):e},i.size=function(s){return arguments.length?(t=typeof s=="function"?s:wt(+s),i):t},i.context=function(s){return arguments.length?(r=s??null,i):r},i}function vf(){}function yf(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function YN(e){this._context=e}YN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:yf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:yf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function M3(e){return new YN(e)}function GN(e){this._context=e}GN.prototype={areaStart:vf,areaEnd:vf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:yf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function R3(e){return new GN(e)}function VN(e){this._context=e}VN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:yf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function q3(e){return new VN(e)}function WN(e){this._context=e}WN.prototype={areaStart:vf,areaEnd:vf,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function z3(e){return new WN(e)}function ZS(e){return e<0?-1:1}function QS(e,t,r){var n=e._x1-e._x0,i=t-e._x1,s=(e._y1-e._y0)/(n||i<0&&-0),c=(r-e._y1)/(i||n<0&&-0),u=(s*i+c*n)/(n+i);return(ZS(s)+ZS(c))*Math.min(Math.abs(s),Math.abs(c),.5*Math.abs(u))||0}function JS(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Cg(e,t,r){var n=e._x0,i=e._y0,s=e._x1,c=e._y1,u=(s-n)/3;e._context.bezierCurveTo(n+u,i+u*t,s-u,c-u*r,s,c)}function bf(e){this._context=e}bf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Cg(this,this._t0,JS(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Cg(this,JS(this,r=QS(this,e,t)),r);break;default:Cg(this,this._t0,r=QS(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function XN(e){this._context=new ZN(e)}(XN.prototype=Object.create(bf.prototype)).point=function(e,t){bf.prototype.point.call(this,t,e)};function ZN(e){this._context=e}ZN.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,s){this._context.bezierCurveTo(t,e,n,r,s,i)}};function L3(e){return new bf(e)}function I3(e){return new XN(e)}function QN(e){this._context=e}QN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=e1(e),i=e1(t),s=0,c=1;c<r;++s,++c)this._context.bezierCurveTo(n[0][s],i[0][s],n[1][s],i[1][s],e[c],t[c]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function e1(e){var t,r=e.length-1,n,i=new Array(r),s=new Array(r),c=new Array(r);for(i[0]=0,s[0]=2,c[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,s[t]=4,c[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,s[r-1]=7,c[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/s[t-1],s[t]-=n,c[t]-=n*c[t-1];for(i[r-1]=c[r-1]/s[r-1],t=r-2;t>=0;--t)i[t]=(c[t]-i[t+1])/s[t];for(s[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-i[t+1];return[i,s]}function U3(e){return new QN(e)}function hm(e,t){this._context=e,this._t=t}hm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function B3(e){return new hm(e,.5)}function $3(e){return new hm(e,0)}function H3(e){return new hm(e,1)}function qo(e,t){if((c=e.length)>1)for(var r=1,n,i,s=e[t[0]],c,u=s.length;r<c;++r)for(i=s,s=e[t[r]],n=0;n<u;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function Ey(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function F3(e,t){return e[t]}function K3(e){const t=[];return t.key=e,t}function Y3(){var e=wt([]),t=Ey,r=qo,n=F3;function i(s){var c=Array.from(e.apply(this,arguments),K3),u,m=c.length,h=-1,g;for(const p of s)for(u=0,++h;u<m;++u)(c[u][h]=[0,+n(p,c[u].key,h,s)]).data=p;for(u=0,g=Ib(t(c));u<m;++u)c[g[u]].index=u;return r(c,g),c}return i.keys=function(s){return arguments.length?(e=typeof s=="function"?s:wt(Array.from(s)),i):e},i.value=function(s){return arguments.length?(n=typeof s=="function"?s:wt(+s),i):n},i.order=function(s){return arguments.length?(t=s==null?Ey:typeof s=="function"?s:wt(Array.from(s)),i):t},i.offset=function(s){return arguments.length?(r=s??qo,i):r},i}function G3(e,t){if((n=e.length)>0){for(var r,n,i=0,s=e[0].length,c;i<s;++i){for(c=r=0;r<n;++r)c+=e[r][i][1]||0;if(c)for(r=0;r<n;++r)e[r][i][1]/=c}qo(e,t)}}function V3(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,s=n.length;r<s;++r){for(var c=0,u=0;c<i;++c)u+=e[c][r][1]||0;n[r][1]+=n[r][0]=-u/2}qo(e,t)}}function W3(e,t){if(!(!((c=e.length)>0)||!((s=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,s,c;n<s;++n){for(var u=0,m=0,h=0;u<c;++u){for(var g=e[t[u]],p=g[n][1]||0,_=g[n-1][1]||0,x=(p-_)/2,w=0;w<u;++w){var j=e[t[w]],S=j[n][1]||0,O=j[n-1][1]||0;x+=S-O}m+=p,h+=x*p}i[n-1][1]+=i[n-1][0]=r,m&&(r-=h/m)}i[n-1][1]+=i[n-1][0]=r,qo(e,t)}}var Ag={},Ng={},t1;function X3(){return t1||(t1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(Ng)),Ng}var kg={},r1;function JN(){return r1||(r1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(kg)),kg}var Dg={},n1;function Bb(){return n1||(n1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="string"||typeof r=="symbol"?r:Object.is(r?.valueOf?.(),-0)?"-0":String(r)}e.toKey=t})(Dg)),Dg}var Tg={},Pg={},a1;function Z3(){return a1||(a1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(Pg)),Pg}var i1;function $b(){return i1||(i1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Z3(),r=Bb();function n(i){if(Array.isArray(i))return i.map(r.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const s=[],c=i.length;if(c===0)return s;let u=0,m="",h="",g=!1;for(i.charCodeAt(0)===46&&(s.push(""),u++);u<c;){const p=i[u];h?p==="\\"&&u+1<c?(u++,m+=i[u]):p===h?h="":m+=p:g?p==='"'||p==="'"?h=p:p==="]"?(g=!1,s.push(m),m=""):m+=p:p==="["?(g=!0,m&&(s.push(m),m="")):p==="."?m&&(s.push(m),m=""):m+=p,u++}return m&&s.push(m),s}e.toPath=n})(Tg)),Tg}var o1;function Hb(){return o1||(o1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=X3(),r=JN(),n=Bb(),i=$b();function s(u,m,h){if(u==null)return h;switch(typeof m){case"string":{if(t.isUnsafeProperty(m))return h;const g=u[m];return g===void 0?r.isDeepKey(m)?s(u,i.toPath(m),h):h:g}case"number":case"symbol":{typeof m=="number"&&(m=n.toKey(m));const g=u[m];return g===void 0?h:g}default:{if(Array.isArray(m))return c(u,m,h);if(Object.is(m?.valueOf(),-0)?m="-0":m=String(m),t.isUnsafeProperty(m))return h;const g=u[m];return g===void 0?h:g}}}function c(u,m,h){if(m.length===0)return h;let g=u;for(let p=0;p<m.length;p++){if(g==null||t.isUnsafeProperty(m[p]))return h;g=g[m[p]]}return g===void 0?h:g}e.get=s})(Ag)),Ag}var Mg,s1;function Q3(){return s1||(s1=1,Mg=Hb().get),Mg}var J3=Q3();const zo=Ja(J3);var eI=4;function Bi(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:eI,r=10**t,n=Math.round(e*r)/r;return Object.is(n,-0)?0:n}function Ft(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.reduce((i,s,c)=>{var u=r[c-1];return typeof u=="string"?i+u+s:u!==void 0?i+Bi(u)+s:i+s},"")}var vr=e=>e===0?0:e>0?1:-1,ea=e=>typeof e=="number"&&e!=+e,Ya=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,ke=e=>(typeof e=="number"||e instanceof Number)&&!ea(e),ha=e=>ke(e)||typeof e=="string",tI=0,jc=e=>{var t=++tI;return"".concat(e||"").concat(t)},Dr=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ke(t)&&typeof t!="string")return n;var s;if(Ya(t)){if(r==null)return n;var c=t.indexOf("%");s=r*parseFloat(t.slice(0,c))/100}else s=+t;return ea(s)&&(s=n),i&&r!=null&&s>r&&(s=r),s},ek=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[String(e[n])])r[String(e[n])]=!0;else return!0;return!1};function Dt(e,t,r){return ke(e)&&ke(t)?Bi(e+r*(t-e)):t}function tk(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):zo(n,t))===r)}var Mt=e=>e===null||typeof e>"u",Hc=e=>Mt(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function rI(e){return e!=null}function Fc(){}var nI=["type","size","sizeType"];function Oy(){return Oy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Oy.apply(null,arguments)}function l1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function c1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?l1(Object(r),!0).forEach(function(n){aI(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aI(e,t,r){return(t=iI(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iI(e){var t=oI(e,"string");return typeof t=="symbol"?t:t+""}function oI(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sI(e,t){if(e==null)return{};var r,n,i=lI(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function lI(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var rk={symbolCircle:Ub,symbolCross:w3,symbolDiamond:S3,symbolSquare:E3,symbolStar:N3,symbolTriangle:k3,symbolWye:T3},cI=Math.PI/180,uI=e=>{var t="symbol".concat(Hc(e));return rk[t]||Ub},dI=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*cI;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},fI=(e,t)=>{rk["symbol".concat(Hc(e))]=t},nk=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,i=sI(e,nI),s=c1(c1({},i),{},{type:t,size:r,sizeType:n}),c="circle";typeof t=="string"&&(c=t);var u=()=>{var _=uI(c),x=P3().type(_).size(dI(r,n,c)),w=x();if(w!==null)return w},{className:m,cx:h,cy:g}=s,p=Br(s);return ke(h)&&ke(g)&&ke(r)?y.createElement("path",Oy({},p,{className:st("recharts-symbols",m),transform:"translate(".concat(h,", ").concat(g,")"),d:u()})):null};nk.registerSymbol=fI;var ak=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,Fb=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(y.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{zb(i)&&(n[i]=(s=>r[i](r,s)))}),n},mI=(e,t,r)=>n=>(e(t,r,n),null),pm=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(i=>{var s=e[i];zb(i)&&typeof s=="function"&&(n||(n={}),n[i]=mI(s,t,r))}),n};function u1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function hI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u1(Object(r),!0).forEach(function(n){pI(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pI(e,t,r){return(t=gI(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gI(e){var t=vI(e,"string");return typeof t=="symbol"?t:t+""}function vI(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function br(e,t){var r=hI({},e),n=t,i=Object.keys(t),s=i.reduce((c,u)=>(c[u]===void 0&&n[u]!==void 0&&(c[u]=n[u]),c),r);return s}var Rg={},qg={},d1;function yI(){return d1||(d1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const i=new Map;for(let s=0;s<r.length;s++){const c=r[s],u=n(c);i.has(u)||i.set(u,c)}return Array.from(i.values())}e.uniqBy=t})(qg)),qg}var zg={},f1;function ik(){return f1||(f1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(zg)),zg}var Lg={},Ig={},Ug={},m1;function bI(){return m1||(m1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(Ug)),Ug}var h1;function Kb(){return h1||(h1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bI();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(Ig)),Ig}var Bg={},p1;function _I(){return p1||(p1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(Bg)),Bg}var g1;function xI(){return g1||(g1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Kb(),r=_I();function n(i){return r.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=n})(Lg)),Lg}var $g={},Hg={},v1;function wI(){return v1||(v1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Hb();function r(n){return function(i){return t.get(i,n)}}e.property=r})(Hg)),Hg}var Fg={},Kg={},Yg={},Gg={},y1;function ok(){return y1||(y1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(Gg)),Gg}var Vg={},b1;function sk(){return b1||(b1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(Vg)),Vg}var Wg={},_1;function lk(){return _1||(_1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(Wg)),Wg}var x1;function jI(){return x1||(x1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ok(),r=sk(),n=lk();function i(g,p,_){return typeof _!="function"?i(g,p,()=>{}):s(g,p,function x(w,j,S,O,C,A){const k=_(w,j,S,O,C,A);return k!==void 0?!!k:s(w,j,x,A)},new Map)}function s(g,p,_,x){if(p===g)return!0;switch(typeof p){case"object":return c(g,p,_,x);case"function":return Object.keys(p).length>0?s(g,{...p},_,x):n.eq(g,p);default:return t.isObject(g)?typeof p=="string"?p==="":!0:n.eq(g,p)}}function c(g,p,_,x){if(p==null)return!0;if(Array.isArray(p))return m(g,p,_,x);if(p instanceof Map)return u(g,p,_,x);if(p instanceof Set)return h(g,p,_,x);const w=Object.keys(p);if(g==null||r.isPrimitive(g))return w.length===0;if(w.length===0)return!0;if(x?.has(p))return x.get(p)===g;x?.set(p,g);try{for(let j=0;j<w.length;j++){const S=w[j];if(!r.isPrimitive(g)&&!(S in g)||p[S]===void 0&&g[S]!==void 0||p[S]===null&&g[S]!==null||!_(g[S],p[S],S,g,p,x))return!1}return!0}finally{x?.delete(p)}}function u(g,p,_,x){if(p.size===0)return!0;if(!(g instanceof Map))return!1;for(const[w,j]of p.entries()){const S=g.get(w);if(_(S,j,w,g,p,x)===!1)return!1}return!0}function m(g,p,_,x){if(p.length===0)return!0;if(!Array.isArray(g))return!1;const w=new Set;for(let j=0;j<p.length;j++){const S=p[j];let O=!1;for(let C=0;C<g.length;C++){if(w.has(C))continue;const A=g[C];let k=!1;if(_(A,S,j,g,p,x)&&(k=!0),k){w.add(C),O=!0;break}}if(!O)return!1}return!0}function h(g,p,_,x){return p.size===0?!0:g instanceof Set?m([...g],[...p],_,x):!1}e.isMatchWith=i,e.isSetMatch=h})(Yg)),Yg}var w1;function ck(){return w1||(w1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jI();function r(n,i){return t.isMatchWith(n,i,()=>{})}e.isMatch=r})(Kg)),Kg}var Xg={},Zg={},Qg={},j1;function SI(){return j1||(j1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(Qg)),Qg}var Jg={},S1;function uk(){return S1||(S1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(Jg)),Jg}var ev={},E1;function dk(){return E1||(E1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",s="[object Arguments]",c="[object Symbol]",u="[object Date]",m="[object Map]",h="[object Set]",g="[object Array]",p="[object Function]",_="[object ArrayBuffer]",x="[object Object]",w="[object Error]",j="[object DataView]",S="[object Uint8Array]",O="[object Uint8ClampedArray]",C="[object Uint16Array]",A="[object Uint32Array]",k="[object BigUint64Array]",D="[object Int8Array]",M="[object Int16Array]",L="[object Int32Array]",X="[object BigInt64Array]",re="[object Float32Array]",ae="[object Float64Array]";e.argumentsTag=s,e.arrayBufferTag=_,e.arrayTag=g,e.bigInt64ArrayTag=X,e.bigUint64ArrayTag=k,e.booleanTag=i,e.dataViewTag=j,e.dateTag=u,e.errorTag=w,e.float32ArrayTag=re,e.float64ArrayTag=ae,e.functionTag=p,e.int16ArrayTag=M,e.int32ArrayTag=L,e.int8ArrayTag=D,e.mapTag=m,e.numberTag=n,e.objectTag=x,e.regexpTag=t,e.setTag=h,e.stringTag=r,e.symbolTag=c,e.uint16ArrayTag=C,e.uint32ArrayTag=A,e.uint8ArrayTag=S,e.uint8ClampedArrayTag=O})(ev)),ev}var tv={},O1;function EI(){return O1||(O1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(tv)),tv}var C1;function fk(){return C1||(C1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=SI(),r=uk(),n=dk(),i=sk(),s=EI();function c(g,p){return u(g,void 0,g,new Map,p)}function u(g,p,_,x=new Map,w=void 0){const j=w?.(g,p,_,x);if(j!==void 0)return j;if(i.isPrimitive(g))return g;if(x.has(g))return x.get(g);if(Array.isArray(g)){const S=new Array(g.length);x.set(g,S);for(let O=0;O<g.length;O++)S[O]=u(g[O],O,_,x,w);return Object.hasOwn(g,"index")&&(S.index=g.index),Object.hasOwn(g,"input")&&(S.input=g.input),S}if(g instanceof Date)return new Date(g.getTime());if(g instanceof RegExp){const S=new RegExp(g.source,g.flags);return S.lastIndex=g.lastIndex,S}if(g instanceof Map){const S=new Map;x.set(g,S);for(const[O,C]of g)S.set(O,u(C,O,_,x,w));return S}if(g instanceof Set){const S=new Set;x.set(g,S);for(const O of g)S.add(u(O,void 0,_,x,w));return S}if(typeof Buffer<"u"&&Buffer.isBuffer(g))return g.subarray();if(s.isTypedArray(g)){const S=new(Object.getPrototypeOf(g)).constructor(g.length);x.set(g,S);for(let O=0;O<g.length;O++)S[O]=u(g[O],O,_,x,w);return S}if(g instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&g instanceof SharedArrayBuffer)return g.slice(0);if(g instanceof DataView){const S=new DataView(g.buffer.slice(0),g.byteOffset,g.byteLength);return x.set(g,S),m(S,g,_,x,w),S}if(typeof File<"u"&&g instanceof File){const S=new File([g],g.name,{type:g.type});return x.set(g,S),m(S,g,_,x,w),S}if(typeof Blob<"u"&&g instanceof Blob){const S=new Blob([g],{type:g.type});return x.set(g,S),m(S,g,_,x,w),S}if(g instanceof Error){const S=new g.constructor;return x.set(g,S),S.message=g.message,S.name=g.name,S.stack=g.stack,S.cause=g.cause,m(S,g,_,x,w),S}if(g instanceof Boolean){const S=new Boolean(g.valueOf());return x.set(g,S),m(S,g,_,x,w),S}if(g instanceof Number){const S=new Number(g.valueOf());return x.set(g,S),m(S,g,_,x,w),S}if(g instanceof String){const S=new String(g.valueOf());return x.set(g,S),m(S,g,_,x,w),S}if(typeof g=="object"&&h(g)){const S=Object.create(Object.getPrototypeOf(g));return x.set(g,S),m(S,g,_,x,w),S}return g}function m(g,p,_=g,x,w){const j=[...Object.keys(p),...t.getSymbols(p)];for(let S=0;S<j.length;S++){const O=j[S],C=Object.getOwnPropertyDescriptor(g,O);(C==null||C.writable)&&(g[O]=u(p[O],O,_,x,w))}}function h(g){switch(r.getTag(g)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=c,e.cloneDeepWithImpl=u,e.copyProperties=m})(Zg)),Zg}var A1;function OI(){return A1||(A1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fk();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(Xg)),Xg}var N1;function CI(){return N1||(N1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ck(),r=OI();function n(i){return i=r.cloneDeep(i),s=>t.isMatch(s,i)}e.matches=n})(Fg)),Fg}var rv={},nv={},av={},k1;function AI(){return k1||(k1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fk(),r=dk();function n(i,s){return t.cloneDeepWith(i,(c,u,m,h)=>{const g=s?.(c,u,m,h);if(g!==void 0)return g;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const p=new i.constructor(i?.valueOf());return t.copyProperties(p,i),p}case r.argumentsTag:{const p={};return t.copyProperties(p,i),p.length=i.length,p[Symbol.iterator]=i[Symbol.iterator],p}default:return}})}e.cloneDeepWith=n})(av)),av}var D1;function NI(){return D1||(D1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=AI();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(nv)),nv}var iv={},ov={},T1;function mk(){return T1||(T1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(ov)),ov}var sv={},P1;function kI(){return P1||(P1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uk();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(sv)),sv}var M1;function DI(){return M1||(M1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=JN(),r=mk(),n=kI(),i=$b();function s(c,u){let m;if(Array.isArray(u)?m=u:typeof u=="string"&&t.isDeepKey(u)&&c?.[u]==null?m=i.toPath(u):m=[u],m.length===0)return!1;let h=c;for(let g=0;g<m.length;g++){const p=m[g];if((h==null||!Object.hasOwn(h,p))&&!((Array.isArray(h)||n.isArguments(h))&&r.isIndex(p)&&p<h.length))return!1;h=h[p]}return!0}e.has=s})(iv)),iv}var R1;function TI(){return R1||(R1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ck(),r=Bb(),n=NI(),i=Hb(),s=DI();function c(u,m){switch(typeof u){case"object":{Object.is(u?.valueOf(),-0)&&(u="-0");break}case"number":{u=r.toKey(u);break}}return m=n.cloneDeep(m),function(h){const g=i.get(h,u);return g===void 0?s.has(h,u):m===void 0?g===void 0:t.isMatch(g,m)}}e.matchesProperty=c})(rv)),rv}var q1;function PI(){return q1||(q1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ik(),r=wI(),n=CI(),i=TI();function s(c){if(c==null)return t.identity;switch(typeof c){case"function":return c;case"object":return Array.isArray(c)&&c.length===2?i.matchesProperty(c[0],c[1]):n.matches(c);case"string":case"symbol":case"number":return r.property(c)}}e.iteratee=s})($g)),$g}var z1;function MI(){return z1||(z1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yI(),r=ik(),n=xI(),i=PI();function s(c,u=r.identity){return n.isArrayLikeObject(c)?t.uniqBy(Array.from(c),i.iteratee(u)):[]}e.uniqBy=s})(Rg)),Rg}var lv,L1;function RI(){return L1||(L1=1,lv=MI().uniqBy),lv}var qI=RI();const I1=Ja(qI);function zI(e,t,r){return t===!0?I1(e,r):typeof t=="function"?I1(e,t):e}var cv={exports:{}},uv={},dv={exports:{}},fv={};var U1;function LI(){if(U1)return fv;U1=1;var e=lm();function t(p,_){return p===_&&(p!==0||1/p===1/_)||p!==p&&_!==_}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,i=e.useEffect,s=e.useLayoutEffect,c=e.useDebugValue;function u(p,_){var x=_(),w=n({inst:{value:x,getSnapshot:_}}),j=w[0].inst,S=w[1];return s(function(){j.value=x,j.getSnapshot=_,m(j)&&S({inst:j})},[p,x,_]),i(function(){return m(j)&&S({inst:j}),p(function(){m(j)&&S({inst:j})})},[p]),c(x),x}function m(p){var _=p.getSnapshot;p=p.value;try{var x=_();return!r(p,x)}catch{return!0}}function h(p,_){return _()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:u;return fv.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:g,fv}var B1;function II(){return B1||(B1=1,dv.exports=LI()),dv.exports}var $1;function UI(){if($1)return uv;$1=1;var e=lm(),t=II();function r(h,g){return h===g&&(h!==0||1/h===1/g)||h!==h&&g!==g}var n=typeof Object.is=="function"?Object.is:r,i=t.useSyncExternalStore,s=e.useRef,c=e.useEffect,u=e.useMemo,m=e.useDebugValue;return uv.useSyncExternalStoreWithSelector=function(h,g,p,_,x){var w=s(null);if(w.current===null){var j={hasValue:!1,value:null};w.current=j}else j=w.current;w=u(function(){function O(M){if(!C){if(C=!0,A=M,M=_(M),x!==void 0&&j.hasValue){var L=j.value;if(x(L,M))return k=L}return k=M}if(L=k,n(A,M))return L;var X=_(M);return x!==void 0&&x(L,X)?(A=M,L):(A=M,k=X)}var C=!1,A,k,D=p===void 0?null:p;return[function(){return O(g())},D===null?void 0:function(){return O(D())}]},[g,p,_,x]);var S=i(h,w[0],w[1]);return c(function(){j.hasValue=!0,j.value=S},[S]),m(S),S},uv}var H1;function BI(){return H1||(H1=1,cv.exports=UI()),cv.exports}var $I=BI(),Yb=y.createContext(null),HI=e=>e,Rt=()=>{var e=y.useContext(Yb);return e?e.store.dispatch:HI},of=()=>{},FI=()=>of,KI=(e,t)=>e===t;function De(e){var t=y.useContext(Yb);return $I.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:FI,t?t.store.getState:of,t?t.store.getState:of,t?e:of,KI)}function YI(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function GI(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function VI(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var F1=e=>Array.isArray(e)?e:[e];function WI(e){const t=Array.isArray(e[0])?e[0]:e;return VI(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function XI(e,t){const r=[],{length:n}=e;for(let i=0;i<n;i++)r.push(e[i].apply(null,t));return r}var ZI=class{constructor(e){this.value=e}deref(){return this.value}},QI=typeof WeakRef<"u"?WeakRef:ZI,JI=0,K1=1;function Md(){return{s:JI,v:void 0,o:null,p:null}}function hk(e,t={}){let r=Md();const{resultEqualityCheck:n}=t;let i,s=0;function c(){let u=r;const{length:m}=arguments;for(let p=0,_=m;p<_;p++){const x=arguments[p];if(typeof x=="function"||typeof x=="object"&&x!==null){let w=u.o;w===null&&(u.o=w=new WeakMap);const j=w.get(x);j===void 0?(u=Md(),w.set(x,u)):u=j}else{let w=u.p;w===null&&(u.p=w=new Map);const j=w.get(x);j===void 0?(u=Md(),w.set(x,u)):u=j}}const h=u;let g;if(u.s===K1)g=u.v;else if(g=e.apply(null,arguments),s++,n){const p=i?.deref?.()??i;p!=null&&n(p,g)&&(g=p,s!==0&&s--),i=typeof g=="object"&&g!==null||typeof g=="function"?new QI(g):g}return h.s=K1,h.v=g,g}return c.clearCache=()=>{r=Md(),c.resetResultsCount()},c.resultsCount=()=>s,c.resetResultsCount=()=>{s=0},c}function e4(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...i)=>{let s=0,c=0,u,m={},h=i.pop();typeof h=="object"&&(m=h,h=i.pop()),YI(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const g={...r,...m},{memoize:p,memoizeOptions:_=[],argsMemoize:x=hk,argsMemoizeOptions:w=[]}=g,j=F1(_),S=F1(w),O=WI(i),C=p(function(){return s++,h.apply(null,arguments)},...j),A=x(function(){c++;const D=XI(O,arguments);return u=C.apply(null,D),u},...S);return Object.assign(A,{resultFunc:h,memoizedResultFunc:C,dependencies:O,dependencyRecomputations:()=>c,resetDependencyRecomputations:()=>{c=0},lastResult:()=>u,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:p,argsMemoize:x})};return Object.assign(n,{withTypes:()=>n}),n}var W=e4(hk),t4=Object.assign((e,t=W)=>{GI(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(s=>e[s]);return t(n,(...s)=>s.reduce((c,u,m)=>(c[r[m]]=u,c),{}))},{withTypes:()=>t4}),mv={},hv={},pv={},Y1;function r4(){return Y1||(Y1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,s)=>{if(n!==i){const c=t(n),u=t(i);if(c===u&&c===0){if(n<i)return s==="desc"?1:-1;if(n>i)return s==="desc"?-1:1}return s==="desc"?u-c:c-u}return 0};e.compareValues=r})(pv)),pv}var gv={},vv={},G1;function pk(){return G1||(G1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(vv)),vv}var V1;function n4(){return V1||(V1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pk(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(s,c){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||t.isSymbol(s)?!0:typeof s=="string"&&(n.test(s)||!r.test(s))||c!=null&&Object.hasOwn(c,s)}e.isKey=i})(gv)),gv}var W1;function a4(){return W1||(W1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=r4(),r=n4(),n=$b();function i(s,c,u,m){if(s==null)return[];u=m?void 0:u,Array.isArray(s)||(s=Object.values(s)),Array.isArray(c)||(c=c==null?[null]:[c]),c.length===0&&(c=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(x=>String(x));const h=(x,w)=>{let j=x;for(let S=0;S<w.length&&j!=null;++S)j=j[w[S]];return j},g=(x,w)=>w==null||x==null?w:typeof x=="object"&&"key"in x?Object.hasOwn(w,x.key)?w[x.key]:h(w,x.path):typeof x=="function"?x(w):Array.isArray(x)?h(w,x):typeof w=="object"?w[x]:w,p=c.map(x=>(Array.isArray(x)&&x.length===1&&(x=x[0]),x==null||typeof x=="function"||Array.isArray(x)||r.isKey(x)?x:{key:x,path:n.toPath(x)}));return s.map(x=>({original:x,criteria:p.map(w=>g(w,x))})).slice().sort((x,w)=>{for(let j=0;j<p.length;j++){const S=t.compareValues(x.criteria[j],w.criteria[j],u[j]);if(S!==0)return S}return 0}).map(x=>x.original)}e.orderBy=i})(hv)),hv}var yv={},X1;function i4(){return X1||(X1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const i=[],s=Math.floor(n),c=(u,m)=>{for(let h=0;h<u.length;h++){const g=u[h];Array.isArray(g)&&m<s?c(g,m+1):i.push(g)}};return c(r,0),i}e.flatten=t})(yv)),yv}var bv={},Z1;function gk(){return Z1||(Z1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mk(),r=Kb(),n=ok(),i=lk();function s(c,u,m){return n.isObject(m)&&(typeof u=="number"&&r.isArrayLike(m)&&t.isIndex(u)&&u<m.length||typeof u=="string"&&u in m)?i.eq(m[u],c):!1}e.isIterateeCall=s})(bv)),bv}var Q1;function o4(){return Q1||(Q1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=a4(),r=i4(),n=gk();function i(s,...c){const u=c.length;return u>1&&n.isIterateeCall(s,c[0],c[1])?c=[]:u>2&&n.isIterateeCall(c[0],c[1],c[2])&&(c=[c[0]]),t.orderBy(s,r.flatten(c),["asc"])}e.sortBy=i})(mv)),mv}var _v,J1;function s4(){return J1||(J1=1,_v=o4().sortBy),_v}var l4=s4();const gm=Ja(l4);var vk=e=>e.legend.settings,c4=e=>e.legend.size,u4=e=>e.legend.payload,kZ=W([u4,vk],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?gm(n,r):n}),Rd=1;function d4(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=y.useState({height:0,left:0,top:0,width:0}),n=y.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),c={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(c.height-t.height)>Rd||Math.abs(c.left-t.left)>Rd||Math.abs(c.top-t.top)>Rd||Math.abs(c.width-t.width)>Rd)&&r({height:c.height,left:c.left,top:c.top,width:c.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Er(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var f4=typeof Symbol=="function"&&Symbol.observable||"@@observable",eE=f4,xv=()=>Math.random().toString(36).substring(7).split("").join("."),m4={INIT:`@@redux/INIT${xv()}`,REPLACE:`@@redux/REPLACE${xv()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${xv()}`},_f=m4;function Gb(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function yk(e,t,r){if(typeof e!="function")throw new Error(Er(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Er(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Er(1));return r(yk)(e,t)}let n=e,i=t,s=new Map,c=s,u=0,m=!1;function h(){c===s&&(c=new Map,s.forEach((S,O)=>{c.set(O,S)}))}function g(){if(m)throw new Error(Er(3));return i}function p(S){if(typeof S!="function")throw new Error(Er(4));if(m)throw new Error(Er(5));let O=!0;h();const C=u++;return c.set(C,S),function(){if(O){if(m)throw new Error(Er(6));O=!1,h(),c.delete(C),s=null}}}function _(S){if(!Gb(S))throw new Error(Er(7));if(typeof S.type>"u")throw new Error(Er(8));if(typeof S.type!="string")throw new Error(Er(17));if(m)throw new Error(Er(9));try{m=!0,i=n(i,S)}finally{m=!1}return(s=c).forEach(C=>{C()}),S}function x(S){if(typeof S!="function")throw new Error(Er(10));n=S,_({type:_f.REPLACE})}function w(){const S=p;return{subscribe(O){if(typeof O!="object"||O===null)throw new Error(Er(11));function C(){const k=O;k.next&&k.next(g())}return C(),{unsubscribe:S(C)}},[eE](){return this}}}return _({type:_f.INIT}),{dispatch:_,subscribe:p,getState:g,replaceReducer:x,[eE]:w}}function h4(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:_f.INIT})>"u")throw new Error(Er(12));if(typeof r(void 0,{type:_f.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Er(13))})}function bk(e){const t=Object.keys(e),r={};for(let s=0;s<t.length;s++){const c=t[s];typeof e[c]=="function"&&(r[c]=e[c])}const n=Object.keys(r);let i;try{h4(r)}catch(s){i=s}return function(c={},u){if(i)throw i;let m=!1;const h={};for(let g=0;g<n.length;g++){const p=n[g],_=r[p],x=c[p],w=_(x,u);if(typeof w>"u")throw u&&u.type,new Error(Er(14));h[p]=w,m=m||w!==x}return m=m||n.length!==Object.keys(c).length,m?h:c}}function xf(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function p4(...e){return t=>(r,n)=>{const i=t(r,n);let s=()=>{throw new Error(Er(15))};const c={getState:i.getState,dispatch:(m,...h)=>s(m,...h)},u=e.map(m=>m(c));return s=xf(...u)(i.dispatch),{...i,dispatch:s}}}function _k(e){return Gb(e)&&"type"in e&&typeof e.type=="string"}var xk=Symbol.for("immer-nothing"),tE=Symbol.for("immer-draftable"),$r=Symbol.for("immer-state");function Vn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var pn=Object,Hs=pn.getPrototypeOf,wf="constructor",vm="prototype",Cy="configurable",jf="enumerable",sf="writable",Sc="value",Ga=e=>!!e&&!!e[$r];function ta(e){return e?wk(e)||bm(e)||!!e[tE]||!!e[wf]?.[tE]||_m(e)||xm(e):!1}var g4=pn[vm][wf].toString(),rE=new WeakMap;function wk(e){if(!e||!Vb(e))return!1;const t=Hs(e);if(t===null||t===pn[vm])return!0;const r=pn.hasOwnProperty.call(t,wf)&&t[wf];if(r===Object)return!0;if(!zs(r))return!1;let n=rE.get(r);return n===void 0&&(n=Function.toString.call(r),rE.set(r,n)),n===g4}function ym(e,t,r=!0){Kc(e)===0?(r?Reflect.ownKeys(e):pn.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function Kc(e){const t=e[$r];return t?t.type_:bm(e)?1:_m(e)?2:xm(e)?3:0}var nE=(e,t,r=Kc(e))=>r===2?e.has(t):pn[vm].hasOwnProperty.call(e,t),Ay=(e,t,r=Kc(e))=>r===2?e.get(t):e[t],Sf=(e,t,r,n=Kc(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function v4(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var bm=Array.isArray,_m=e=>e instanceof Map,xm=e=>e instanceof Set,Vb=e=>typeof e=="object",zs=e=>typeof e=="function",wv=e=>typeof e=="boolean";function y4(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var La=e=>e.copy_||e.base_,Wb=e=>e.modified_?e.copy_:e.base_;function Ny(e,t){if(_m(e))return new Map(e);if(xm(e))return new Set(e);if(bm(e))return Array[vm].slice.call(e);const r=wk(e);if(t===!0||t==="class_only"&&!r){const n=pn.getOwnPropertyDescriptors(e);delete n[$r];let i=Reflect.ownKeys(n);for(let s=0;s<i.length;s++){const c=i[s],u=n[c];u[sf]===!1&&(u[sf]=!0,u[Cy]=!0),(u.get||u.set)&&(n[c]={[Cy]:!0,[sf]:!0,[jf]:u[jf],[Sc]:e[c]})}return pn.create(Hs(e),n)}else{const n=Hs(e);if(n!==null&&r)return{...e};const i=pn.create(n);return pn.assign(i,e)}}function Xb(e,t=!1){return wm(e)||Ga(e)||!ta(e)||(Kc(e)>1&&pn.defineProperties(e,{set:qd,add:qd,clear:qd,delete:qd}),pn.freeze(e),t&&ym(e,(r,n)=>{Xb(n,!0)},!1)),e}function b4(){Vn(2)}var qd={[Sc]:b4};function wm(e){return e===null||!Vb(e)?!0:pn.isFrozen(e)}var Ef="MapSet",ky="Patches",aE="ArrayMethods",jk={};function Lo(e){const t=jk[e];return t||Vn(0,e),t}var iE=e=>!!jk[e],Ec,Sk=()=>Ec,_4=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:iE(Ef)?Lo(Ef):void 0,arrayMethodsPlugin_:iE(aE)?Lo(aE):void 0});function oE(e,t){t&&(e.patchPlugin_=Lo(ky),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Dy(e){Ty(e),e.drafts_.forEach(x4),e.drafts_=null}function Ty(e){e===Ec&&(Ec=e.parent_)}var sE=e=>Ec=_4(Ec,e);function x4(e){const t=e[$r];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function lE(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[$r].modified_&&(Dy(t),Vn(4)),ta(e)&&(e=cE(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(r[$r].base_,e,t)}else e=cE(t,r);return w4(t,e,!0),Dy(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==xk?e:void 0}function cE(e,t){if(wm(t))return t;const r=t[$r];if(!r)return Of(t,e.handledSet_,e);if(!jm(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);Ck(r,e)}return r.copy_}function w4(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Xb(t,r)}function Ek(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var jm=(e,t)=>e.scope_===t,j4=[];function Ok(e,t,r,n){const i=La(e),s=e.type_;if(n!==void 0&&Ay(i,n,s)===t){Sf(i,n,r,s);return}if(!e.draftLocations_){const u=e.draftLocations_=new Map;ym(i,(m,h)=>{if(Ga(h)){const g=u.get(h)||[];g.push(m),u.set(h,g)}})}const c=e.draftLocations_.get(t)??j4;for(const u of c)Sf(i,u,r,s)}function S4(e,t,r){e.callbacks_.push(function(i){const s=t;if(!s||!jm(s,i))return;i.mapSetPlugin_?.fixSetContents(s);const c=Wb(s);Ok(e,s.draft_??s,c,r),Ck(s,i)})}function Ck(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(e.assigned_?.size??0)>0)){const{patchPlugin_:n}=t;if(n){const i=n.getPath(e);i&&n.generatePatches_(e,i,t)}Ek(e)}}function E4(e,t,r){const{scope_:n}=e;if(Ga(r)){const i=r[$r];jm(i,n)&&i.callbacks_.push(function(){lf(e);const c=Wb(i);Ok(e,r,c,t)})}else ta(r)&&e.callbacks_.push(function(){const s=La(e);e.type_===3?s.has(r)&&Of(r,n.handledSet_,n):Ay(s,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Of(Ay(e.copy_,t,e.type_),n.handledSet_,n)})}function Of(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||Ga(e)||t.has(e)||!ta(e)||wm(e)||(t.add(e),ym(e,(n,i)=>{if(Ga(i)){const s=i[$r];if(jm(s,r)){const c=Wb(s);Sf(e,n,c,e.type_),Ek(s)}}else ta(i)&&Of(i,t,r)})),e}function O4(e,t){const r=bm(e),n={type_:r?1:0,scope_:t?t.scope_:Sk(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=n,s=Cf;r&&(i=[n],s=Oc);const{revoke:c,proxy:u}=Proxy.revocable(i,s);return n.draft_=u,n.revoke_=c,[u,n]}var Cf={get(e,t){if(t===$r)return e;let r=e.scope_.arrayMethodsPlugin_;const n=e.type_===1&&typeof t=="string";if(n&&r?.isArrayOperationMethod(t))return r.createMethodInterceptor(e,t);const i=La(e);if(!nE(i,t,e.type_))return C4(e,i,t);const s=i[t];if(e.finalized_||!ta(s)||n&&e.operationMethod&&r?.isMutatingArrayMethod(e.operationMethod)&&y4(t))return s;if(s===jv(e.base_,t)){lf(e);const c=e.type_===1?+t:t,u=My(e.scope_,s,e,c);return e.copy_[c]=u}return s},has(e,t){return t in La(e)},ownKeys(e){return Reflect.ownKeys(La(e))},set(e,t,r){const n=Ak(La(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=jv(La(e),t),s=i?.[$r];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(v4(r,i)&&(r!==void 0||nE(e.base_,t,e.type_)))return!0;lf(e),Py(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),E4(e,t,r)),!0},deleteProperty(e,t){return lf(e),jv(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),Py(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=La(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[sf]:!0,[Cy]:e.type_!==1||t!=="length",[jf]:n[jf],[Sc]:r[t]}},defineProperty(){Vn(11)},getPrototypeOf(e){return Hs(e.base_)},setPrototypeOf(){Vn(12)}},Oc={};for(let e in Cf){let t=Cf[e];Oc[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}}Oc.deleteProperty=function(e,t){return Oc.set.call(this,e,t,void 0)};Oc.set=function(e,t,r){return Cf.set.call(this,e[0],t,r,e[0])};function jv(e,t){const r=e[$r];return(r?La(r):e)[t]}function C4(e,t,r){const n=Ak(t,r);return n?Sc in n?n[Sc]:n.get?.call(e.draft_):void 0}function Ak(e,t){if(!(t in e))return;let r=Hs(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Hs(r)}}function Py(e){e.modified_||(e.modified_=!0,e.parent_&&Py(e.parent_))}function lf(e){e.copy_||(e.assigned_=new Map,e.copy_=Ny(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var A4=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,i)=>{if(zs(r)&&!zs(n)){const c=n;n=r;const u=this;return function(h=c,...g){return u.produce(h,p=>n.call(this,p,...g))}}zs(n)||Vn(6),i!==void 0&&!zs(i)&&Vn(7);let s;if(ta(r)){const c=sE(this),u=My(c,r,void 0);let m=!0;try{s=n(u),m=!1}finally{m?Dy(c):Ty(c)}return oE(c,i),lE(s,c)}else if(!r||!Vb(r)){if(s=n(r),s===void 0&&(s=r),s===xk&&(s=void 0),this.autoFreeze_&&Xb(s,!0),i){const c=[],u=[];Lo(ky).generateReplacementPatches_(r,s,{patches_:c,inversePatches_:u}),i(c,u)}return s}else Vn(1,r)},this.produceWithPatches=(r,n)=>{if(zs(r))return(u,...m)=>this.produceWithPatches(u,h=>r(h,...m));let i,s;return[this.produce(r,n,(u,m)=>{i=u,s=m}),i,s]},wv(t?.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),wv(t?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),wv(t?.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){ta(t)||Vn(8),Ga(t)&&(t=Qn(t));const r=sE(this),n=My(r,t,void 0);return n[$r].isManual_=!0,Ty(r),n}finishDraft(t,r){const n=t&&t[$r];(!n||!n.isManual_)&&Vn(9);const{scope_:i}=n;return oE(i,r),lE(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const s=r[n];if(s.path.length===0&&s.op==="replace"){t=s.value;break}}n>-1&&(r=r.slice(n+1));const i=Lo(ky).applyPatches_;return Ga(t)?i(t,r):this.produce(t,s=>i(s,r))}};function My(e,t,r,n){const[i,s]=_m(t)?Lo(Ef).proxyMap_(t,r):xm(t)?Lo(Ef).proxySet_(t,r):O4(t,r);return(r?.scope_??Sk()).drafts_.push(i),s.callbacks_=r?.callbacks_??[],s.key_=n,r&&n!==void 0?S4(r,s,n):s.callbacks_.push(function(m){m.mapSetPlugin_?.fixSetContents(s);const{patchPlugin_:h}=m;s.modified_&&h&&h.generatePatches_(s,[],m)}),i}function Qn(e){return Ga(e)||Vn(10,e),Nk(e)}function Nk(e){if(!ta(e)||wm(e))return e;const t=e[$r];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Ny(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=Ny(e,!0);return ym(r,(i,s)=>{Sf(r,i,Nk(s))},n),t&&(t.finalized_=!1),r}var N4=new A4,kk=N4.produce;function Dk(e){return({dispatch:r,getState:n})=>i=>s=>typeof s=="function"?s(r,n,e):i(s)}var k4=Dk(),D4=Dk,T4=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?xf:xf.apply(null,arguments)};function Ln(e,t){function r(...n){if(t){let i=t(...n);if(!i)throw new Error(gn(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>_k(n)&&n.type===e,r}var Tk=class vc extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,vc.prototype)}static get[Symbol.species](){return vc}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new vc(...t[0].concat(this)):new vc(...t.concat(this))}};function uE(e){return ta(e)?kk(e,()=>{}):e}function zd(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function P4(e){return typeof e=="boolean"}var M4=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=t??{};let c=new Tk;return r&&(P4(r)?c.push(k4):c.push(D4(r.extraArgument))),c},Pk="RTK_autoBatch",kt=()=>e=>({payload:e,meta:{[Pk]:!0}}),dE=e=>t=>{setTimeout(t,e)},Mk=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let i=!0,s=!1,c=!1;const u=new Set,m=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:dE(10):e.type==="callback"?e.queueNotification:dE(e.timeout),h=()=>{c=!1,s&&(s=!1,u.forEach(g=>g()))};return Object.assign({},n,{subscribe(g){const p=()=>i&&g(),_=n.subscribe(p);return u.add(g),()=>{_(),u.delete(g)}},dispatch(g){try{return i=!g?.meta?.[Pk],s=!i,s&&(c||(c=!0,m(h))),n.dispatch(g)}finally{i=!0}}})},R4=e=>function(r){const{autoBatch:n=!0}=r??{};let i=new Tk(e);return n&&i.push(Mk(typeof n=="object"?n:void 0)),i};function q4(e){const t=M4(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:s=void 0,enhancers:c=void 0}=e||{};let u;if(typeof r=="function")u=r;else if(Gb(r))u=bk(r);else throw new Error(gn(1));let m;typeof n=="function"?m=n(t):m=t();let h=xf;i&&(h=T4({trace:!1,...typeof i=="object"&&i}));const g=p4(...m),p=R4(g);let _=typeof c=="function"?c(p):p();const x=h(..._);return yk(u,s,x)}function Rk(e){const t={},r=[];let n;const i={addCase(s,c){const u=typeof s=="string"?s:s.type;if(!u)throw new Error(gn(28));if(u in t)throw new Error(gn(29));return t[u]=c,i},addAsyncThunk(s,c){return c.pending&&(t[s.pending.type]=c.pending),c.rejected&&(t[s.rejected.type]=c.rejected),c.fulfilled&&(t[s.fulfilled.type]=c.fulfilled),c.settled&&r.push({matcher:s.settled,reducer:c.settled}),i},addMatcher(s,c){return r.push({matcher:s,reducer:c}),i},addDefaultCase(s){return n=s,i}};return e(i),[t,r,n]}function z4(e){return typeof e=="function"}function L4(e,t){let[r,n,i]=Rk(t),s;if(z4(e))s=()=>uE(e());else{const u=uE(e);s=()=>u}function c(u=s(),m){let h=[r[m.type],...n.filter(({matcher:g})=>g(m)).map(({reducer:g})=>g)];return h.filter(g=>!!g).length===0&&(h=[i]),h.reduce((g,p)=>{if(p)if(Ga(g)){const x=p(g,m);return x===void 0?g:x}else{if(ta(g))return kk(g,_=>p(_,m));{const _=p(g,m);if(_===void 0){if(g===null)return g;throw Error("A case reducer on a non-draftable value must not return undefined")}return _}}return g},u)}return c.getInitialState=s,c}var I4="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",U4=(e=21)=>{let t="",r=e;for(;r--;)t+=I4[Math.random()*64|0];return t},B4=Symbol.for("rtk-slice-createasyncthunk");function $4(e,t){return`${e}/${t}`}function H4({creators:e}={}){const t=e?.asyncThunk?.[B4];return function(n){const{name:i,reducerPath:s=i}=n;if(!i)throw new Error(gn(11));const c=(typeof n.reducers=="function"?n.reducers(K4()):n.reducers)||{},u=Object.keys(c),m={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(A,k){const D=typeof A=="string"?A:A.type;if(!D)throw new Error(gn(12));if(D in m.sliceCaseReducersByType)throw new Error(gn(13));return m.sliceCaseReducersByType[D]=k,h},addMatcher(A,k){return m.sliceMatchers.push({matcher:A,reducer:k}),h},exposeAction(A,k){return m.actionCreators[A]=k,h},exposeCaseReducer(A,k){return m.sliceCaseReducersByName[A]=k,h}};u.forEach(A=>{const k=c[A],D={reducerName:A,type:$4(i,A),createNotation:typeof n.reducers=="function"};G4(k)?W4(D,k,h,t):Y4(D,k,h)});function g(){const[A={},k=[],D=void 0]=typeof n.extraReducers=="function"?Rk(n.extraReducers):[n.extraReducers],M={...A,...m.sliceCaseReducersByType};return L4(n.initialState,L=>{for(let X in M)L.addCase(X,M[X]);for(let X of m.sliceMatchers)L.addMatcher(X.matcher,X.reducer);for(let X of k)L.addMatcher(X.matcher,X.reducer);D&&L.addDefaultCase(D)})}const p=A=>A,_=new Map,x=new WeakMap;let w;function j(A,k){return w||(w=g()),w(A,k)}function S(){return w||(w=g()),w.getInitialState()}function O(A,k=!1){function D(L){let X=L[A];return typeof X>"u"&&k&&(X=zd(x,D,S)),X}function M(L=p){const X=zd(_,k,()=>new WeakMap);return zd(X,L,()=>{const re={};for(const[ae,G]of Object.entries(n.selectors??{}))re[ae]=F4(G,L,()=>zd(x,L,S),k);return re})}return{reducerPath:A,getSelectors:M,get selectors(){return M(D)},selectSlice:D}}const C={name:i,reducer:j,actions:m.actionCreators,caseReducers:m.sliceCaseReducersByName,getInitialState:S,...O(s),injectInto(A,{reducerPath:k,...D}={}){const M=k??s;return A.inject({reducerPath:M,reducer:j},D),{...C,...O(M,!0)}}};return C}}function F4(e,t,r,n){function i(s,...c){let u=t(s);return typeof u>"u"&&n&&(u=r()),e(u,...c)}return i.unwrapped=e,i}var Qr=H4();function K4(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function Y4({type:e,reducerName:t,createNotation:r},n,i){let s,c;if("reducer"in n){if(r&&!V4(n))throw new Error(gn(17));s=n.reducer,c=n.prepare}else s=n;i.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,c?Ln(e,c):Ln(e))}function G4(e){return e._reducerDefinitionType==="asyncThunk"}function V4(e){return e._reducerDefinitionType==="reducerWithPrepare"}function W4({type:e,reducerName:t},r,n,i){if(!i)throw new Error(gn(18));const{payloadCreator:s,fulfilled:c,pending:u,rejected:m,settled:h,options:g}=r,p=i(e,s,g);n.exposeAction(t,p),c&&n.addCase(p.fulfilled,c),u&&n.addCase(p.pending,u),m&&n.addCase(p.rejected,m),h&&n.addMatcher(p.settled,h),n.exposeCaseReducer(t,{fulfilled:c||Ld,pending:u||Ld,rejected:m||Ld,settled:h||Ld})}function Ld(){}var X4="task",qk="listener",zk="completed",Zb="cancelled",Z4=`task-${Zb}`,Q4=`task-${zk}`,Ry=`${qk}-${Zb}`,J4=`${qk}-${zk}`,Sm=class{constructor(e){this.code=e,this.message=`${X4} ${Zb} (reason: ${e})`}name="TaskAbortError";message},Qb=(e,t)=>{if(typeof e!="function")throw new TypeError(gn(32))},Af=()=>{},Lk=(e,t=Af)=>(e.catch(t),e),Ik=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),ko=e=>{if(e.aborted)throw new Sm(e.reason)};function Uk(e,t){let r=Af;return new Promise((n,i)=>{const s=()=>i(new Sm(e.reason));if(e.aborted){s();return}r=Ik(e,s),t.finally(()=>r()).then(n,i)}).finally(()=>{r=Af})}var e5=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof Sm?"cancelled":"rejected",error:r}}finally{t?.()}},Nf=e=>t=>Lk(Uk(e,t).then(r=>(ko(e),r))),Bk=e=>{const t=Nf(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:Us}=Object,fE={},Em="listenerMiddleware",t5=(e,t)=>{const r=n=>Ik(e,()=>n.abort(e.reason));return(n,i)=>{Qb(n);const s=new AbortController;r(s);const c=e5(async()=>{ko(e),ko(s.signal);const u=await n({pause:Nf(s.signal),delay:Bk(s.signal),signal:s.signal});return ko(s.signal),u},()=>s.abort(Q4));return i?.autoJoin&&t.push(c.catch(Af)),{result:Nf(e)(c),cancel(){s.abort(Z4)}}}},r5=(e,t)=>{const r=async(n,i)=>{ko(t);let s=()=>{};const u=[new Promise((m,h)=>{let g=e({predicate:n,effect:(p,_)=>{_.unsubscribe(),m([p,_.getState(),_.getOriginalState()])}});s=()=>{g(),h()}})];i!=null&&u.push(new Promise(m=>setTimeout(m,i,null)));try{const m=await Uk(t,Promise.race(u));return ko(t),m}finally{s()}};return(n,i)=>Lk(r(n,i))},$k=e=>{let{type:t,actionCreator:r,matcher:n,predicate:i,effect:s}=e;if(t)i=Ln(t).match;else if(r)t=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(gn(21));return Qb(s),{predicate:i,type:t,effect:s}},Hk=Us(e=>{const{type:t,predicate:r,effect:n}=$k(e);return{id:U4(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(gn(22))}}},{withTypes:()=>Hk}),mE=(e,t)=>{const{type:r,effect:n,predicate:i}=$k(t);return Array.from(e.values()).find(s=>(typeof r=="string"?s.type===r:s.predicate===i)&&s.effect===n)},qy=e=>{e.pending.forEach(t=>{t.abort(Ry)})},n5=(e,t)=>()=>{for(const r of t.keys())qy(r);e.clear()},hE=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},Fk=Us(Ln(`${Em}/add`),{withTypes:()=>Fk}),a5=Ln(`${Em}/removeAll`),Kk=Us(Ln(`${Em}/remove`),{withTypes:()=>Kk}),i5=(...e)=>{console.error(`${Em}/error`,...e)},Yc=(e={})=>{const t=new Map,r=new Map,n=x=>{const w=r.get(x)??0;r.set(x,w+1)},i=x=>{const w=r.get(x)??1;w===1?r.delete(x):r.set(x,w-1)},{extra:s,onError:c=i5}=e;Qb(c);const u=x=>(x.unsubscribe=()=>t.delete(x.id),t.set(x.id,x),w=>{x.unsubscribe(),w?.cancelActive&&qy(x)}),m=x=>{const w=mE(t,x)??Hk(x);return u(w)};Us(m,{withTypes:()=>m});const h=x=>{const w=mE(t,x);return w&&(w.unsubscribe(),x.cancelActive&&qy(w)),!!w};Us(h,{withTypes:()=>h});const g=async(x,w,j,S)=>{const O=new AbortController,C=r5(m,O.signal),A=[];try{x.pending.add(O),n(x),await Promise.resolve(x.effect(w,Us({},j,{getOriginalState:S,condition:(k,D)=>C(k,D).then(Boolean),take:C,delay:Bk(O.signal),pause:Nf(O.signal),extra:s,signal:O.signal,fork:t5(O.signal,A),unsubscribe:x.unsubscribe,subscribe:()=>{t.set(x.id,x)},cancelActiveListeners:()=>{x.pending.forEach((k,D,M)=>{k!==O&&(k.abort(Ry),M.delete(k))})},cancel:()=>{O.abort(Ry),x.pending.delete(O)},throwIfCancelled:()=>{ko(O.signal)}})))}catch(k){k instanceof Sm||hE(c,k,{raisedBy:"effect"})}finally{await Promise.all(A),O.abort(J4),i(x),x.pending.delete(O)}},p=n5(t,r);return{middleware:x=>w=>j=>{if(!_k(j))return w(j);if(Fk.match(j))return m(j.payload);if(a5.match(j)){p();return}if(Kk.match(j))return h(j.payload);let S=x.getState();const O=()=>{if(S===fE)throw new Error(gn(23));return S};let C;try{if(C=w(j),t.size>0){const A=x.getState(),k=Array.from(t.values());for(const D of k){let M=!1;try{M=D.predicate(j,A,S)}catch(L){M=!1,hE(c,L,{raisedBy:"predicate"})}M&&g(D,j,x,O)}}}finally{S=fE}return C},startListening:m,stopListening:h,clearListeners:p}};function gn(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var o5={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},Yk=Qr({name:"chartLayout",initialState:o5,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,i,s;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(s=t.payload.left)!==null&&s!==void 0?s:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:s5,setLayout:l5,setChartSize:c5,setScale:u5}=Yk.actions,d5=Yk.reducer;function Gk(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function zt(e){return Number.isFinite(e)}function pa(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function pE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ls(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pE(Object(r),!0).forEach(function(n){f5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function f5(e,t,r){return(t=m5(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m5(e){var t=h5(e,"string");return typeof t=="symbol"?t:t+""}function h5(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gt(e,t,r){return Mt(e)||Mt(t)?r:ha(t)?zo(e,t,r):typeof t=="function"?t(e):r}var p5=(e,t,r)=>{if(t&&r){var{width:n,height:i}=r,{align:s,verticalAlign:c,layout:u}=t;if((u==="vertical"||u==="horizontal"&&c==="middle")&&s!=="center"&&ke(e[s]))return Ls(Ls({},e),{},{[s]:e[s]+(n||0)});if((u==="horizontal"||u==="vertical"&&s==="center")&&c!=="middle"&&ke(e[c]))return Ls(Ls({},e),{},{[c]:e[c]+(i||0)})}return e},Wi=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",Vk=(e,t,r,n)=>{if(n)return e.map(u=>u.coordinate);var i,s,c=e.map(u=>(u.coordinate===t&&(i=!0),u.coordinate===r&&(s=!0),u.coordinate));return i||c.push(t),s||c.push(r),c},Wk=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:i,range:s,scale:c,realScaleType:u,isCategorical:m,categoricalDomain:h,tickCount:g,ticks:p,niceTicks:_,axisType:x}=e;if(!c)return null;var w=u==="scaleBand"&&c.bandwidth?c.bandwidth()/2:2,j=i==="category"&&c.bandwidth?c.bandwidth()/w:0;if(j=x==="angleAxis"&&s&&s.length>=2?vr(s[0]-s[1])*2*j:j,p||_){var S=(p||_||[]).map((O,C)=>{var A=n?n.indexOf(O):O;return{coordinate:c(A)+j,value:O,offset:j,index:C}});return S.filter(O=>!ea(O.coordinate))}return m&&h?h.map((O,C)=>({coordinate:c(O)+j,value:O,index:C,offset:j})):c.ticks&&g!=null?c.ticks(g).map((O,C)=>({coordinate:c(O)+j,value:O,offset:j,index:C})):c.domain().map((O,C)=>({coordinate:c(O)+j,value:n?n[O]:O,index:C,offset:j}))},gE=1e-4,g5=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),i=Math.min(n[0],n[1])-gE,s=Math.max(n[0],n[1])+gE,c=e(t[0]),u=e(t[r-1]);(c<i||c>s||u<i||u>s)&&e.domain([t[0],t[r-1]])}},v5=(e,t)=>{if(!t||t.length!==2||!ke(t[0])||!ke(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!ke(e[0])||e[0]<r)&&(i[0]=r),(!ke(e[1])||e[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<r&&(i[1]=r),i},y5=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var i=0;i<n;++i)for(var s=0,c=0,u=0;u<r;++u){var m=e[u],h=m?.[i];if(h!=null){var g=h[1],p=h[0],_=ea(g)?p:g;_>=0?(h[0]=s,h[1]=s+_,s=g):(h[0]=c,h[1]=c+_,c=g)}}}},b5=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var i=0;i<n;++i)for(var s=0,c=0;c<r;++c){var u=e[c],m=u?.[i];if(m!=null){var h=ea(m[1])?m[0]:m[1];h>=0?(m[0]=s,m[1]=s+h,s=m[1]):(m[0]=0,m[1]=0)}}}},_5={sign:y5,expand:G3,none:qo,silhouette:V3,wiggle:W3,positive:b5},x5=(e,t,r)=>{var n,i=(n=_5[r])!==null&&n!==void 0?n:qo,s=Y3().keys(t).value((u,m)=>Number(gt(u,m,0))).order(Ey).offset(i),c=s(e);return c.forEach((u,m)=>{u.forEach((h,g)=>{var p=gt(e[g],t[m],0);Array.isArray(p)&&p.length===2&&ke(p[0])&&ke(p[1])&&(h[0]=p[0],h[1]=p[1])})}),c};function w5(e){return e==null?void 0:String(e)}function vE(e){var{axis:t,ticks:r,bandSize:n,entry:i,index:s,dataKey:c}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Mt(i[t.dataKey])){var u=tk(r,"value",i[t.dataKey]);if(u)return u.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var m=gt(i,Mt(c)?t.dataKey:c);return Mt(m)?null:t.scale(m)}var yE=e=>{var{axis:t,ticks:r,offset:n,bandSize:i,entry:s,index:c}=e;if(t.type==="category")return r[c]?r[c].coordinate+n:null;var u=gt(s,t.dataKey,t.scale.domain()[c]);return Mt(u)?null:t.scale(u)-i/2+n},j5=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return n<=0&&i>=0?0:i<0?i:n}return r[0]},S5=e=>{var t=e.flat(2).filter(ke);return[Math.min(...t),Math.max(...t)]},E5=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],O5=(e,t,r)=>{if(e!=null)return E5(Object.keys(e).reduce((n,i)=>{var s=e[i];if(!s)return n;var{stackedData:c}=s,u=c.reduce((m,h)=>{var g=Gk(h,t,r),p=S5(g);return!zt(p[0])||!zt(p[1])?m:[Math.min(m[0],p[0]),Math.max(m[1],p[1])]},[1/0,-1/0]);return[Math.min(u[0],n[0]),Math.max(u[1],n[1])]},[1/0,-1/0]))},bE=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,_E=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Fs=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var i=gm(t,g=>g.coordinate),s=1/0,c=1,u=i.length;c<u;c++){var m=i[c],h=i[c-1];s=Math.min((m?.coordinate||0)-(h?.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0};function xE(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:i,name:s}=e;return Ls(Ls({},t),{},{dataKey:r,payload:n,value:i,name:s})}function Qs(e,t){if(e)return String(e);if(typeof t=="string")return t}var C5=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},A5=(e,t)=>t==="centric"?e.angle:e.radius,ri=e=>e.layout.width,ni=e=>e.layout.height,N5=e=>e.layout.scale,Xk=e=>e.layout.margin,Om=W(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Cm=W(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),Zk="data-recharts-item-index",Qk="data-recharts-item-id",Gc=60;function wE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Id(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wE(Object(r),!0).forEach(function(n){k5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function k5(e,t,r){return(t=D5(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D5(e){var t=T5(e,"string");return typeof t=="symbol"?t:t+""}function T5(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var P5=e=>e.brush.height;function M5(e){var t=Cm(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:Gc;return r+i}return r},0)}function R5(e){var t=Cm(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:Gc;return r+i}return r},0)}function q5(e){var t=Om(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function z5(e){var t=Om(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var cr=W([ri,ni,Xk,P5,M5,R5,q5,z5,vk,c4],(e,t,r,n,i,s,c,u,m,h)=>{var g={left:(r.left||0)+i,right:(r.right||0)+s},p={top:(r.top||0)+c,bottom:(r.bottom||0)+u},_=Id(Id({},p),g),x=_.bottom;_.bottom+=n,_=p5(_,m,h);var w=e-_.left-_.right,j=t-_.top-_.bottom;return Id(Id({brushBottom:x},_),{},{width:Math.max(w,0),height:Math.max(j,0)})}),L5=W(cr,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Jb=W(ri,ni,(e,t)=>({x:0,y:0,width:e,height:t})),I5=y.createContext(null),Tr=()=>y.useContext(I5)!=null,Am=e=>e.brush,Nm=W([Am,cr,Xk],(e,t,r)=>({height:e.height,x:ke(e.x)?e.x:t.left,y:ke(e.y)?e.y:t.top+t.height+t.brushBottom-(r?.bottom||0),width:ke(e.width)?e.width:t.width})),Sv={},Ev={},Ov={},jE;function U5(){return jE||(jE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:i,edges:s}={}){let c,u=null;const m=s!=null&&s.includes("leading"),h=s==null||s.includes("trailing"),g=()=>{u!==null&&(r.apply(c,u),c=void 0,u=null)},p=()=>{h&&g(),j()};let _=null;const x=()=>{_!=null&&clearTimeout(_),_=setTimeout(()=>{_=null,p()},n)},w=()=>{_!==null&&(clearTimeout(_),_=null)},j=()=>{w(),c=void 0,u=null},S=()=>{g()},O=function(...C){if(i?.aborted)return;c=this,u=C;const A=_==null;x(),m&&A&&g()};return O.schedule=x,O.cancel=j,O.flush=S,i?.addEventListener("abort",j,{once:!0}),O}e.debounce=t})(Ov)),Ov}var SE;function B5(){return SE||(SE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=U5();function r(n,i=0,s={}){typeof s!="object"&&(s={});const{leading:c=!1,trailing:u=!0,maxWait:m}=s,h=Array(2);c&&(h[0]="leading"),u&&(h[1]="trailing");let g,p=null;const _=t.debounce(function(...j){g=n.apply(this,j),p=null},i,{edges:h}),x=function(...j){return m!=null&&(p===null&&(p=Date.now()),Date.now()-p>=m)?(g=n.apply(this,j),p=Date.now(),_.cancel(),_.schedule(),g):(_.apply(this,j),g)},w=()=>(_.flush(),g);return x.cancel=_.cancel,x.flush=w,x}e.debounce=r})(Ev)),Ev}var EE;function $5(){return EE||(EE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=B5();function r(n,i=0,s={}){const{leading:c=!0,trailing:u=!0}=s;return t.debounce(n,i,{leading:c,maxWait:i,trailing:u})}e.throttle=r})(Sv)),Sv}var Cv,OE;function H5(){return OE||(OE=1,Cv=$5().throttle),Cv}var F5=H5();const K5=Ja(F5);var kf=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=0;console.warn(r.replace(/%s/g,()=>i[c++]))}},Jk=(e,t,r)=>{var{width:n="100%",height:i="100%",aspect:s,maxHeight:c}=r,u=Ya(n)?e:Number(n),m=Ya(i)?t:Number(i);return s&&s>0&&(u?m=u/s:m&&(u=m*s),c&&m!=null&&m>c&&(m=c)),{calculatedWidth:u,calculatedHeight:m}},Y5={width:0,height:0,overflow:"visible"},G5={width:0,overflowX:"visible"},V5={height:0,overflowY:"visible"},W5={},X5=e=>{var{width:t,height:r}=e,n=Ya(t),i=Ya(r);return n&&i?Y5:n?G5:i?V5:W5};function Z5(e){var{width:t,height:r,aspect:n}=e,i=t,s=r;return i===void 0&&s===void 0?(i="100%",s="100%"):i===void 0?i=n&&n>0?void 0:"100%":s===void 0&&(s=n&&n>0?void 0:"100%"),{width:i,height:s}}function zy(){return zy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zy.apply(null,arguments)}function CE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function AE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CE(Object(r),!0).forEach(function(n){Q5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Q5(e,t,r){return(t=J5(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function J5(e){var t=eU(e,"string");return typeof t=="symbol"?t:t+""}function eU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eD=y.createContext({width:-1,height:-1});function tU(e){return pa(e.width)&&pa(e.height)}function tD(e){var{children:t,width:r,height:n}=e,i=y.useMemo(()=>({width:r,height:n}),[r,n]);return tU(i)?y.createElement(eD.Provider,{value:i},t):null}var e0=()=>y.useContext(eD),rU=y.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:i,height:s,minWidth:c=0,minHeight:u,maxHeight:m,children:h,debounce:g=0,id:p,className:_,onResize:x,style:w={}}=e,j=y.useRef(null),S=y.useRef();S.current=x,y.useImperativeHandle(t,()=>j.current);var[O,C]=y.useState({containerWidth:n.width,containerHeight:n.height}),A=y.useCallback((X,re)=>{C(ae=>{var G=Math.round(X),B=Math.round(re);return ae.containerWidth===G&&ae.containerHeight===B?ae:{containerWidth:G,containerHeight:B}})},[]);y.useEffect(()=>{if(j.current==null||typeof ResizeObserver>"u")return Fc;var X=B=>{var ce,{width:ge,height:q}=B[0].contentRect;A(ge,q),(ce=S.current)===null||ce===void 0||ce.call(S,ge,q)};g>0&&(X=K5(X,g,{trailing:!0,leading:!1}));var re=new ResizeObserver(X),{width:ae,height:G}=j.current.getBoundingClientRect();return A(ae,G),re.observe(j.current),()=>{re.disconnect()}},[A,g]);var{containerWidth:k,containerHeight:D}=O;kf(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:M,calculatedHeight:L}=Jk(k,D,{width:i,height:s,aspect:r,maxHeight:m});return kf(M!=null&&M>0||L!=null&&L>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,M,L,i,s,c,u,r),y.createElement("div",{id:p?"".concat(p):void 0,className:st("recharts-responsive-container",_),style:AE(AE({},w),{},{width:i,height:s,minWidth:c,minHeight:u,maxHeight:m}),ref:j},y.createElement("div",{style:X5({width:i,height:s})},y.createElement(tD,{width:M,height:L},h)))}),Av=y.forwardRef((e,t)=>{var r=e0();if(pa(r.width)&&pa(r.height))return e.children;var{width:n,height:i}=Z5({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:s,calculatedHeight:c}=Jk(void 0,void 0,{width:n,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return ke(s)&&ke(c)?y.createElement(tD,{width:s,height:c},e.children):y.createElement(rU,zy({},e,{width:n,height:i,ref:t}))});function rD(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var km=()=>{var e,t=Tr(),r=De(L5),n=De(Nm),i=(e=De(Am))===null||e===void 0?void 0:e.padding;return!t||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},nU={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},nD=()=>{var e;return(e=De(cr))!==null&&e!==void 0?e:nU},aD=()=>De(ri),iD=()=>De(ni),TZ=()=>De(e=>e.layout.margin),et=e=>e.layout.layoutType,Yo=()=>De(et),PZ=()=>{var e=Yo();if(e==="horizontal"||e==="vertical")return e},aU=()=>{var e=Yo();return e!==void 0},Dm=e=>{var t=Rt(),r=Tr(),{width:n,height:i}=e,s=e0(),c=n,u=i;return s&&(c=s.width>0?s.width:n,u=s.height>0?s.height:i),y.useEffect(()=>{!r&&pa(c)&&pa(u)&&t(c5({width:c,height:u}))},[t,r,c,u]),null},oD=Symbol.for("immer-nothing"),NE=Symbol.for("immer-draftable"),yn=Symbol.for("immer-state");function Wn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Cc=Object.getPrototypeOf;function Ks(e){return!!e&&!!e[yn]}function Io(e){return e?sD(e)||Array.isArray(e)||!!e[NE]||!!e.constructor?.[NE]||Vc(e)||Pm(e):!1}var iU=Object.prototype.constructor.toString(),kE=new WeakMap;function sD(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=kE.get(r);return n===void 0&&(n=Function.toString.call(r),kE.set(r,n)),n===iU}function Df(e,t,r=!0){Tm(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function Tm(e){const t=e[yn];return t?t.type_:Array.isArray(e)?1:Vc(e)?2:Pm(e)?3:0}function Ly(e,t){return Tm(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function lD(e,t,r){const n=Tm(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function oU(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Vc(e){return e instanceof Map}function Pm(e){return e instanceof Set}function jo(e){return e.copy_||e.base_}function Iy(e,t){if(Vc(e))return new Map(e);if(Pm(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=sD(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[yn];let i=Reflect.ownKeys(n);for(let s=0;s<i.length;s++){const c=i[s],u=n[c];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(n[c]={configurable:!0,writable:!0,enumerable:u.enumerable,value:e[c]})}return Object.create(Cc(e),n)}else{const n=Cc(e);if(n!==null&&r)return{...e};const i=Object.create(n);return Object.assign(i,e)}}function t0(e,t=!1){return Mm(e)||Ks(e)||!Io(e)||(Tm(e)>1&&Object.defineProperties(e,{set:Ud,add:Ud,clear:Ud,delete:Ud}),Object.freeze(e),t&&Object.values(e).forEach(r=>t0(r,!0))),e}function sU(){Wn(2)}var Ud={value:sU};function Mm(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var lU={};function Uo(e){const t=lU[e];return t||Wn(0,e),t}var Ac;function cD(){return Ac}function cU(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function DE(e,t){t&&(Uo("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Uy(e){By(e),e.drafts_.forEach(uU),e.drafts_=null}function By(e){e===Ac&&(Ac=e.parent_)}function TE(e){return Ac=cU(Ac,e)}function uU(e){const t=e[yn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function PE(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[yn].modified_&&(Uy(t),Wn(4)),Io(e)&&(e=Tf(t,e),t.parent_||Pf(t,e)),t.patches_&&Uo("Patches").generateReplacementPatches_(r[yn].base_,e,t.patches_,t.inversePatches_)):e=Tf(t,r,[]),Uy(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==oD?e:void 0}function Tf(e,t,r){if(Mm(t))return t;const n=e.immer_.shouldUseStrictIteration(),i=t[yn];if(!i)return Df(t,(s,c)=>ME(e,i,t,s,c,r),n),t;if(i.scope_!==e)return t;if(!i.modified_)return Pf(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const s=i.copy_;let c=s,u=!1;i.type_===3&&(c=new Set(s),s.clear(),u=!0),Df(c,(m,h)=>ME(e,i,s,m,h,r,u),n),Pf(e,s,!1),r&&e.patches_&&Uo("Patches").generatePatches_(i,r,e.patches_,e.inversePatches_)}return i.copy_}function ME(e,t,r,n,i,s,c){if(i==null||typeof i!="object"&&!c)return;const u=Mm(i);if(!(u&&!c)){if(Ks(i)){const m=s&&t&&t.type_!==3&&!Ly(t.assigned_,n)?s.concat(n):void 0,h=Tf(e,i,m);if(lD(r,n,h),Ks(h))e.canAutoFreeze_=!1;else return}else c&&r.add(i);if(Io(i)&&!u){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===i&&u)return;Tf(e,i),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(Vc(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&Pf(e,i)}}}function Pf(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&t0(t,r)}function dU(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:cD(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,s=r0;r&&(i=[n],s=Nc);const{revoke:c,proxy:u}=Proxy.revocable(i,s);return n.draft_=u,n.revoke_=c,u}var r0={get(e,t){if(t===yn)return e;const r=jo(e);if(!Ly(r,t))return fU(e,r,t);const n=r[t];return e.finalized_||!Io(n)?n:n===Nv(e.base_,t)?(kv(e),e.copy_[t]=Hy(n,e)):n},has(e,t){return t in jo(e)},ownKeys(e){return Reflect.ownKeys(jo(e))},set(e,t,r){const n=uD(jo(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=Nv(jo(e),t),s=i?.[yn];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(oU(r,i)&&(r!==void 0||Ly(e.base_,t)))return!0;kv(e),$y(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Nv(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,kv(e),$y(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=jo(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Wn(11)},getPrototypeOf(e){return Cc(e.base_)},setPrototypeOf(){Wn(12)}},Nc={};Df(r0,(e,t)=>{Nc[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Nc.deleteProperty=function(e,t){return Nc.set.call(this,e,t,void 0)};Nc.set=function(e,t,r){return r0.set.call(this,e[0],t,r,e[0])};function Nv(e,t){const r=e[yn];return(r?jo(r):e)[t]}function fU(e,t,r){const n=uD(t,r);return n?"value"in n?n.value:n.get?.call(e.draft_):void 0}function uD(e,t){if(!(t in e))return;let r=Cc(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Cc(r)}}function $y(e){e.modified_||(e.modified_=!0,e.parent_&&$y(e.parent_))}function kv(e){e.copy_||(e.copy_=Iy(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var mU=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const s=r;r=t;const c=this;return function(m=s,...h){return c.produce(m,g=>r.call(this,g,...h))}}typeof r!="function"&&Wn(6),n!==void 0&&typeof n!="function"&&Wn(7);let i;if(Io(t)){const s=TE(this),c=Hy(t,void 0);let u=!0;try{i=r(c),u=!1}finally{u?Uy(s):By(s)}return DE(s,n),PE(i,s)}else if(!t||typeof t!="object"){if(i=r(t),i===void 0&&(i=t),i===oD&&(i=void 0),this.autoFreeze_&&t0(i,!0),n){const s=[],c=[];Uo("Patches").generateReplacementPatches_(t,i,s,c),n(s,c)}return i}else Wn(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(c,...u)=>this.produceWithPatches(c,m=>t(m,...u));let n,i;return[this.produce(t,r,(c,u)=>{n=c,i=u}),n,i]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Io(e)||Wn(8),Ks(e)&&(e=hU(e));const t=TE(this),r=Hy(e,void 0);return r[yn].isManual_=!0,By(t),r}finishDraft(e,t){const r=e&&e[yn];(!r||!r.isManual_)&&Wn(9);const{scope_:n}=r;return DE(n,t),PE(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));const n=Uo("Patches").applyPatches_;return Ks(e)?n(e,t):this.produce(e,i=>n(i,t))}};function Hy(e,t){const r=Vc(e)?Uo("MapSet").proxyMap_(e,t):Pm(e)?Uo("MapSet").proxySet_(e,t):dU(e,t);return(t?t.scope_:cD()).drafts_.push(r),r}function hU(e){return Ks(e)||Wn(10,e),dD(e)}function dD(e){if(!Io(e)||Mm(e))return e;const t=e[yn];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Iy(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=Iy(e,!0);return Df(r,(i,s)=>{lD(r,i,dD(s))},n),t&&(t.finalized_=!1),r}var pU=new mU;pU.produce;var gU={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},fD=Qr({name:"legend",initialState:gU,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:kt()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,i=Qn(e).payload.indexOf(r);i>-1&&(e.payload[i]=n)},prepare:kt()},removeLegendPayload:{reducer(e,t){var r=Qn(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:kt()}}}),{setLegendSize:MZ,setLegendSettings:RZ,addLegendPayload:mD,replaceLegendPayload:hD,removeLegendPayload:pD}=fD.actions,vU=fD.reducer;function Fy(){return Fy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fy.apply(null,arguments)}function RE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Dv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RE(Object(r),!0).forEach(function(n){yU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yU(e,t,r){return(t=bU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bU(e){var t=_U(e,"string");return typeof t=="symbol"?t:t+""}function _U(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xU(e){return Array.isArray(e)&&ha(e[0])&&ha(e[1])?e.join(" ~ "):e}var wU=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:i={},payload:s,formatter:c,itemSorter:u,wrapperClassName:m,labelClassName:h,label:g,labelFormatter:p,accessibilityLayer:_=!1}=e,x=()=>{if(s&&s.length){var D={padding:0,margin:0},M=(u?gm(s,u):s).map((L,X)=>{if(L.type==="none")return null;var re=L.formatter||c||xU,{value:ae,name:G}=L,B=ae,ce=G;if(re){var ge=re(ae,G,L,X,s);if(Array.isArray(ge))[B,ce]=ge;else if(ge!=null)B=ge;else return null}var q=Dv({display:"block",paddingTop:4,paddingBottom:4,color:L.color||"#000"},n);return y.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(X),style:q},ha(ce)?y.createElement("span",{className:"recharts-tooltip-item-name"},ce):null,ha(ce)?y.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,y.createElement("span",{className:"recharts-tooltip-item-value"},B),y.createElement("span",{className:"recharts-tooltip-item-unit"},L.unit||""))});return y.createElement("ul",{className:"recharts-tooltip-item-list",style:D},M)}return null},w=Dv({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),j=Dv({margin:0},i),S=!Mt(g),O=S?g:"",C=st("recharts-default-tooltip",m),A=st("recharts-tooltip-label",h);S&&p&&s!==void 0&&s!==null&&(O=p(g,s));var k=_?{role:"status","aria-live":"assertive"}:{};return y.createElement("div",Fy({className:C,style:w},k),y.createElement("p",{className:A,style:j},y.isValidElement(O)?O:"".concat(O)),x())},sc="recharts-tooltip-wrapper",jU={visibility:"hidden"};function SU(e){var{coordinate:t,translateX:r,translateY:n}=e;return st(sc,{["".concat(sc,"-right")]:ke(r)&&t&&ke(t.x)&&r>=t.x,["".concat(sc,"-left")]:ke(r)&&t&&ke(t.x)&&r<t.x,["".concat(sc,"-bottom")]:ke(n)&&t&&ke(t.y)&&n>=t.y,["".concat(sc,"-top")]:ke(n)&&t&&ke(t.y)&&n<t.y})}function qE(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:i,position:s,reverseDirection:c,tooltipDimension:u,viewBox:m,viewBoxDimension:h}=e;if(s&&ke(s[n]))return s[n];var g=r[n]-u-(i>0?i:0),p=r[n]+i;if(t[n])return c[n]?g:p;var _=m[n];if(_==null)return 0;if(c[n]){var x=g,w=_;return x<w?Math.max(p,_):Math.max(g,_)}if(h==null)return 0;var j=p+u,S=_+h;return j>S?Math.max(g,_):Math.max(p,_)}function EU(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function OU(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:i,reverseDirection:s,tooltipBox:c,useTranslate3d:u,viewBox:m}=e,h,g,p;return c.height>0&&c.width>0&&r?(g=qE({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:c.width,viewBox:m,viewBoxDimension:m.width}),p=qE({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:c.height,viewBox:m,viewBoxDimension:m.height}),h=EU({translateX:g,translateY:p,useTranslate3d:u})):h=jU,{cssProperties:h,cssClasses:SU({translateX:g,translateY:p,coordinate:r})}}function zE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Bd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zE(Object(r),!0).forEach(function(n){Ky(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ky(e,t,r){return(t=CU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CU(e){var t=AU(e,"string");return typeof t=="symbol"?t:t+""}function AU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class NU extends y.PureComponent{constructor(){super(...arguments),Ky(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Ky(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:s,coordinate:c,hasPayload:u,isAnimationActive:m,offset:h,position:g,reverseDirection:p,useTranslate3d:_,viewBox:x,wrapperStyle:w,lastBoundingBox:j,innerRef:S,hasPortalFromProps:O}=this.props,{cssClasses:C,cssProperties:A}=OU({allowEscapeViewBox:r,coordinate:c,offsetTopLeft:h,position:g,reverseDirection:p,tooltipBox:{height:j.height,width:j.width},useTranslate3d:_,viewBox:x}),k=O?{}:Bd(Bd({transition:m&&t?"transform ".concat(n,"ms ").concat(i):void 0},A),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&u?"visible":"hidden",position:"absolute",top:0,left:0}),D=Bd(Bd({},k),{},{visibility:!this.state.dismissed&&t&&u?"visible":"hidden"},w);return y.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:C,style:D,ref:S},s)}}var gD=()=>{var e;return(e=De(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function Yy(){return Yy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yy.apply(null,arguments)}function LE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function IE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LE(Object(r),!0).forEach(function(n){kU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kU(e,t,r){return(t=DU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DU(e){var t=TU(e,"string");return typeof t=="symbol"?t:t+""}function TU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var UE={curveBasisClosed:R3,curveBasisOpen:q3,curveBasis:M3,curveBumpX:_3,curveBumpY:x3,curveLinearClosed:z3,curveLinear:mm,curveMonotoneX:L3,curveMonotoneY:I3,curveNatural:U3,curveStep:B3,curveStepAfter:H3,curveStepBefore:$3},Mf=e=>zt(e.x)&&zt(e.y),BE=e=>e.base!=null&&Mf(e.base)&&Mf(e),lc=e=>e.x,cc=e=>e.y,PU=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Hc(e));return(r==="curveMonotone"||r==="curveBump")&&t?UE["".concat(r).concat(t==="vertical"?"Y":"X")]:UE[r]||mm},MU=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:i,connectNulls:s=!1}=e,c=PU(t,i),u=s?r.filter(Mf):r,m;if(Array.isArray(n)){var h=r.map((x,w)=>IE(IE({},x),{},{base:n[w]}));i==="vertical"?m=Pd().y(cc).x1(lc).x0(x=>x.base.x):m=Pd().x(lc).y1(cc).y0(x=>x.base.y);var g=m.defined(BE).curve(c),p=s?h.filter(BE):h;return g(p)}i==="vertical"&&ke(n)?m=Pd().y(cc).x1(lc).x0(n):ke(n)?m=Pd().x(lc).y1(cc).y0(n):m=$N().x(lc).y(cc);var _=m.defined(Mf).curve(c);return _(u)},n0=e=>{var{className:t,points:r,path:n,pathRef:i}=e,s=Yo();if((!r||!r.length)&&!n)return null;var c={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||s,connectNulls:e.connectNulls},u=r&&r.length?MU(c):n;return y.createElement("path",Yy({},vn(e),Fb(e),{className:st("recharts-curve",t),d:u===null?void 0:u,ref:i}))},RU=["x","y","top","left","width","height","className"];function Gy(){return Gy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gy.apply(null,arguments)}function $E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function qU(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$E(Object(r),!0).forEach(function(n){zU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$E(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zU(e,t,r){return(t=LU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LU(e){var t=IU(e,"string");return typeof t=="symbol"?t:t+""}function IU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function UU(e,t){if(e==null)return{};var r,n,i=BU(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function BU(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var $U=(e,t,r,n,i,s)=>"M".concat(e,",").concat(i,"v").concat(n,"M").concat(s,",").concat(t,"h").concat(r),HU=e=>{var{x:t=0,y:r=0,top:n=0,left:i=0,width:s=0,height:c=0,className:u}=e,m=UU(e,RU),h=qU({x:t,y:r,top:n,left:i,width:s,height:c},m);return!ke(t)||!ke(r)||!ke(s)||!ke(c)||!ke(n)||!ke(i)?null:y.createElement("path",Gy({},Br(h),{className:st("recharts-cross",u),d:$U(t,r,s,c,n,i)}))};function FU(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function HE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function FE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HE(Object(r),!0).forEach(function(n){KU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KU(e,t,r){return(t=YU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YU(e){var t=GU(e,"string");return typeof t=="symbol"?t:t+""}function GU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var VU=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),vD=(e,t,r)=>e.map(n=>"".concat(VU(n)," ").concat(t,"ms ").concat(r)).join(","),WU=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(i=>n.includes(i))),kc=(e,t)=>Object.keys(t).reduce((r,n)=>FE(FE({},r),{},{[n]:e(n,t[n])}),{});function KE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function lr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KE(Object(r),!0).forEach(function(n){XU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XU(e,t,r){return(t=ZU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZU(e){var t=QU(e,"string");return typeof t=="symbol"?t:t+""}function QU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rf=(e,t,r)=>e+(t-e)*r,Vy=e=>{var{from:t,to:r}=e;return t!==r},yD=(e,t,r)=>{var n=kc((i,s)=>{if(Vy(s)){var[c,u]=e(s.from,s.to,s.velocity);return lr(lr({},s),{},{from:c,velocity:u})}return s},t);return r<1?kc((i,s)=>Vy(s)&&n[i]!=null?lr(lr({},s),{},{velocity:Rf(s.velocity,n[i].velocity,r),from:Rf(s.from,n[i].from,r)}):s,t):yD(e,n,r-1)};function JU(e,t,r,n,i,s){var c,u=n.reduce((_,x)=>lr(lr({},_),{},{[x]:{from:e[x],velocity:0,to:t[x]}}),{}),m=()=>kc((_,x)=>x.from,u),h=()=>!Object.values(u).filter(Vy).length,g=null,p=_=>{c||(c=_);var x=_-c,w=x/r.dt;u=yD(r,u,w),i(lr(lr(lr({},e),t),m())),c=_,h()||(g=s.setTimeout(p))};return()=>(g=s.setTimeout(p),()=>{var _;(_=g)===null||_===void 0||_()})}function e6(e,t,r,n,i,s,c){var u=null,m=i.reduce((p,_)=>{var x=e[_],w=t[_];return x==null||w==null?p:lr(lr({},p),{},{[_]:[x,w]})},{}),h,g=p=>{h||(h=p);var _=(p-h)/n,x=kc((j,S)=>Rf(...S,r(_)),m);if(s(lr(lr(lr({},e),t),x)),_<1)u=c.setTimeout(g);else{var w=kc((j,S)=>Rf(...S,r(1)),m);s(lr(lr(lr({},e),t),w))}};return()=>(u=c.setTimeout(g),()=>{var p;(p=u)===null||p===void 0||p()})}const t6=(e,t,r,n,i,s)=>{var c=WU(e,t);return r==null?()=>(i(lr(lr({},e),t)),()=>{}):r.isStepper===!0?JU(e,t,r,c,i,s):e6(e,t,r,n,c,i,s)};var qf=1e-4,bD=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],_D=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),YE=(e,t)=>r=>{var n=bD(e,t);return _D(n,r)},r6=(e,t)=>r=>{var n=bD(e,t),i=[...n.map((s,c)=>s*c).slice(1),0];return _D(i,r)},n6=e=>{var t,r=e.split("(");if(r.length!==2||r[0]!=="cubic-bezier")return null;var n=(t=r[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(n==null||n.length!==4)return null;var i=n.map(s=>parseFloat(s));return[i[0],i[1],i[2],i[3]]},a6=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=n6(r[0]);if(i)return i}}return r.length===4?r:[0,0,1,1]},i6=(e,t,r,n)=>{var i=YE(e,r),s=YE(t,n),c=r6(e,r),u=h=>h>1?1:h<0?0:h,m=h=>{for(var g=h>1?1:h,p=g,_=0;_<8;++_){var x=i(p)-g,w=c(p);if(Math.abs(x-g)<qf||w<qf)return s(p);p=u(p-x/w)}return s(p)};return m.isStepper=!1,m},GE=function(){return i6(...a6(...arguments))},o6=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=t,s=(c,u,m)=>{var h=-(c-u)*r,g=m*n,p=m+(h-g)*i/1e3,_=m*i/1e3+c;return Math.abs(_-u)<qf&&Math.abs(p)<qf?[u,0]:[_,p]};return s.isStepper=!0,s.dt=i,s},s6=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return GE(e);case"spring":return o6();default:if(e.split("(")[0]==="cubic-bezier")return GE(e)}return typeof e=="function"?e:null};function l6(e){var t,r=()=>null,n=!1,i=null,s=c=>{if(!n){if(Array.isArray(c)){if(!c.length)return;var u=c,[m,...h]=u;if(typeof m=="number"){i=e.setTimeout(s.bind(null,h),m);return}s(m),i=e.setTimeout(s.bind(null,h));return}typeof c=="string"&&(t=c,r(t)),typeof c=="object"&&(t=c,r(t)),typeof c=="function"&&c()}};return{stop:()=>{n=!0},start:c=>{n=!1,i&&(i(),i=null),s(c)},subscribe:c=>(r=c,()=>{r=()=>null}),getTimeoutController:()=>e}}class c6{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,s=c=>{c-n>=r?t(c):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{i!=null&&cancelAnimationFrame(i)}}}function u6(){return l6(new c6)}var d6=y.createContext(u6);function f6(e,t){var r=y.useContext(d6);return y.useMemo(()=>t??r(e),[e,t,r])}var m6=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Rm={isSsr:m6()},h6={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},VE={t:0},Tv={t:1};function Wc(e){var t=br(e,h6),{isActive:r,canBegin:n,duration:i,easing:s,begin:c,onAnimationEnd:u,onAnimationStart:m,children:h}=t,g=r==="auto"?!Rm.isSsr:r,p=f6(t.animationId,t.animationManager),[_,x]=y.useState(g?VE:Tv),w=y.useRef(null);return y.useEffect(()=>{g||x(Tv)},[g]),y.useEffect(()=>{if(!g||!n)return Fc;var j=t6(VE,Tv,s6(s),i,x,p.getTimeoutController()),S=()=>{w.current=j()};return p.start([m,c,S,i,u]),()=>{p.stop(),w.current&&w.current(),u()}},[g,n,i,s,c,m,u,p]),h(_.t)}function Xc(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=y.useRef(jc(t)),n=y.useRef(e);return n.current!==e&&(r.current=jc(t),n.current=e),r.current}var p6=["radius"],g6=["radius"],WE,XE,ZE,QE,JE,eO,tO,rO,nO,aO;function iO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function oO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iO(Object(r),!0).forEach(function(n){v6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function v6(e,t,r){return(t=y6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y6(e){var t=b6(e,"string");return typeof t=="symbol"?t:t+""}function b6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zf(){return zf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zf.apply(null,arguments)}function sO(e,t){if(e==null)return{};var r,n,i=_6(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function _6(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ca(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var lO=(e,t,r,n,i)=>{var s=Bi(r),c=Bi(n),u=Math.min(Math.abs(s)/2,Math.abs(c)/2),m=c>=0?1:-1,h=s>=0?1:-1,g=c>=0&&s>=0||c<0&&s<0?1:0,p;if(u>0&&i instanceof Array){for(var _=[0,0,0,0],x=0,w=4;x<w;x++)_[x]=i[x]>u?u:i[x];p=Ft(WE||(WE=ca(["M",",",""])),e,t+m*_[0]),_[0]>0&&(p+=Ft(XE||(XE=ca(["A ",",",",0,0,",",",",",""])),_[0],_[0],g,e+h*_[0],t)),p+=Ft(ZE||(ZE=ca(["L ",",",""])),e+r-h*_[1],t),_[1]>0&&(p+=Ft(QE||(QE=ca(["A ",",",",0,0,",`,
        `,",",""])),_[1],_[1],g,e+r,t+m*_[1])),p+=Ft(JE||(JE=ca(["L ",",",""])),e+r,t+n-m*_[2]),_[2]>0&&(p+=Ft(eO||(eO=ca(["A ",",",",0,0,",`,
        `,",",""])),_[2],_[2],g,e+r-h*_[2],t+n)),p+=Ft(tO||(tO=ca(["L ",",",""])),e+h*_[3],t+n),_[3]>0&&(p+=Ft(rO||(rO=ca(["A ",",",",0,0,",`,
        `,",",""])),_[3],_[3],g,e,t+n-m*_[3])),p+="Z"}else if(u>0&&i===+i&&i>0){var j=Math.min(u,i);p=Ft(nO||(nO=ca(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+m*j,j,j,g,e+h*j,t,e+r-h*j,t,j,j,g,e+r,t+m*j,e+r,t+n-m*j,j,j,g,e+r-h*j,t+n,e+h*j,t+n,j,j,g,e,t+n-m*j)}else p=Ft(aO||(aO=ca(["M ",","," h "," v "," h "," Z"])),e,t,r,n,-r);return p},cO={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},xD=e=>{var t=br(e,cO),r=y.useRef(null),[n,i]=y.useState(-1);y.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var I=r.current.getTotalLength();I&&i(I)}catch{}},[]);var{x:s,y:c,width:u,height:m,radius:h,className:g}=t,{animationEasing:p,animationDuration:_,animationBegin:x,isAnimationActive:w,isUpdateAnimationActive:j}=t,S=y.useRef(u),O=y.useRef(m),C=y.useRef(s),A=y.useRef(c),k=y.useMemo(()=>({x:s,y:c,width:u,height:m,radius:h}),[s,c,u,m,h]),D=Xc(k,"rectangle-");if(s!==+s||c!==+c||u!==+u||m!==+m||u===0||m===0)return null;var M=st("recharts-rectangle",g);if(!j){var L=Br(t),{radius:X}=L,re=sO(L,p6);return y.createElement("path",zf({},re,{x:Bi(s),y:Bi(c),width:Bi(u),height:Bi(m),radius:typeof h=="number"?h:void 0,className:M,d:lO(s,c,u,m,h)}))}var ae=S.current,G=O.current,B=C.current,ce=A.current,ge="0px ".concat(n===-1?1:n,"px"),q="".concat(n,"px 0px"),R=vD(["strokeDasharray"],_,typeof p=="string"?p:cO.animationEasing);return y.createElement(Wc,{animationId:D,key:D,canBegin:n>0,duration:_,easing:p,isActive:j,begin:x},I=>{var ee=Dt(ae,u,I),U=Dt(G,m,I),me=Dt(B,s,I),we=Dt(ce,c,I);r.current&&(S.current=ee,O.current=U,C.current=me,A.current=we);var J;w?I>0?J={transition:R,strokeDasharray:q}:J={strokeDasharray:ge}:J={strokeDasharray:q};var H=Br(t),{radius:je}=H,Te=sO(H,g6);return y.createElement("path",zf({},Te,{radius:typeof h=="number"?h:void 0,className:M,d:lO(me,we,ee,U,h),ref:r,style:oO(oO({},J),t.style)}))})};function uO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function dO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uO(Object(r),!0).forEach(function(n){x6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function x6(e,t,r){return(t=w6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w6(e){var t=j6(e,"string");return typeof t=="symbol"?t:t+""}function j6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Lf=Math.PI/180,S6=e=>e*180/Math.PI,rr=(e,t,r,n)=>({x:e+Math.cos(-Lf*n)*r,y:t+Math.sin(-Lf*n)*r}),wD=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},E6=(e,t)=>{var{x:r,y:n}=e,{x:i,y:s}=t;return Math.sqrt((r-i)**2+(n-s)**2)},O6=(e,t)=>{var{x:r,y:n}=e,{cx:i,cy:s}=t,c=E6({x:r,y:n},{x:i,y:s});if(c<=0)return{radius:c,angle:0};var u=(r-i)/c,m=Math.acos(u);return n>s&&(m=2*Math.PI-m),{radius:c,angle:S6(m),angleInRadian:m}},C6=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),i=Math.floor(r/360),s=Math.min(n,i);return{startAngle:t-s*360,endAngle:r-s*360}},A6=(e,t)=>{var{startAngle:r,endAngle:n}=t,i=Math.floor(r/360),s=Math.floor(n/360),c=Math.min(i,s);return e+c*360},N6=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:i,angle:s}=O6({x:r,y:n},t),{innerRadius:c,outerRadius:u}=t;if(i<c||i>u||i===0)return null;var{startAngle:m,endAngle:h}=C6(t),g=s,p;if(m<=h){for(;g>h;)g-=360;for(;g<m;)g+=360;p=g>=m&&g<=h}else{for(;g>m;)g-=360;for(;g<h;)g+=360;p=g>=h&&g<=m}return p?dO(dO({},t),{},{radius:i,angle:A6(g,t)}):null};function jD(e){var{cx:t,cy:r,radius:n,startAngle:i,endAngle:s}=e,c=rr(t,r,n,i),u=rr(t,r,n,s);return{points:[c,u],cx:t,cy:r,radius:n,startAngle:i,endAngle:s}}var fO,mO,hO,pO,gO,vO,yO;function Wy(){return Wy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wy.apply(null,arguments)}function Oo(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var k6=(e,t)=>{var r=vr(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},$d=e=>{var{cx:t,cy:r,radius:n,angle:i,sign:s,isExternal:c,cornerRadius:u,cornerIsExternal:m}=e,h=u*(c?1:-1)+n,g=Math.asin(u/h)/Lf,p=m?i:i+s*g,_=rr(t,r,h,p),x=rr(t,r,n,p),w=m?i-s*g:i,j=rr(t,r,h*Math.cos(g*Lf),w);return{center:_,circleTangency:x,lineTangency:j,theta:g}},SD=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:s,endAngle:c}=e,u=k6(s,c),m=s+u,h=rr(t,r,i,s),g=rr(t,r,i,m),p=Ft(fO||(fO=Oo(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),h.x,h.y,i,i,+(Math.abs(u)>180),+(s>m),g.x,g.y);if(n>0){var _=rr(t,r,n,s),x=rr(t,r,n,m);p+=Ft(mO||(mO=Oo(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),x.x,x.y,n,n,+(Math.abs(u)>180),+(s<=m),_.x,_.y)}else p+=Ft(hO||(hO=Oo(["L ",","," Z"])),t,r);return p},D6=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,cornerRadius:s,forceCornerRadius:c,cornerIsExternal:u,startAngle:m,endAngle:h}=e,g=vr(h-m),{circleTangency:p,lineTangency:_,theta:x}=$d({cx:t,cy:r,radius:i,angle:m,sign:g,cornerRadius:s,cornerIsExternal:u}),{circleTangency:w,lineTangency:j,theta:S}=$d({cx:t,cy:r,radius:i,angle:h,sign:-g,cornerRadius:s,cornerIsExternal:u}),O=u?Math.abs(m-h):Math.abs(m-h)-x-S;if(O<0)return c?Ft(pO||(pO=Oo(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),_.x,_.y,s,s,s*2,s,s,-s*2):SD({cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:m,endAngle:h});var C=Ft(gO||(gO=Oo(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),_.x,_.y,s,s,+(g<0),p.x,p.y,i,i,+(O>180),+(g<0),w.x,w.y,s,s,+(g<0),j.x,j.y);if(n>0){var{circleTangency:A,lineTangency:k,theta:D}=$d({cx:t,cy:r,radius:n,angle:m,sign:g,isExternal:!0,cornerRadius:s,cornerIsExternal:u}),{circleTangency:M,lineTangency:L,theta:X}=$d({cx:t,cy:r,radius:n,angle:h,sign:-g,isExternal:!0,cornerRadius:s,cornerIsExternal:u}),re=u?Math.abs(m-h):Math.abs(m-h)-D-X;if(re<0&&s===0)return"".concat(C,"L").concat(t,",").concat(r,"Z");C+=Ft(vO||(vO=Oo(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),L.x,L.y,s,s,+(g<0),M.x,M.y,n,n,+(re>180),+(g>0),A.x,A.y,s,s,+(g<0),k.x,k.y)}else C+=Ft(yO||(yO=Oo(["L",",","Z"])),t,r);return C},T6={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},ED=e=>{var t=br(e,T6),{cx:r,cy:n,innerRadius:i,outerRadius:s,cornerRadius:c,forceCornerRadius:u,cornerIsExternal:m,startAngle:h,endAngle:g,className:p}=t;if(s<i||h===g)return null;var _=st("recharts-sector",p),x=s-i,w=Dr(c,x,0,!0),j;return w>0&&Math.abs(h-g)<360?j=D6({cx:r,cy:n,innerRadius:i,outerRadius:s,cornerRadius:Math.min(w,x/2),forceCornerRadius:u,cornerIsExternal:m,startAngle:h,endAngle:g}):j=SD({cx:r,cy:n,innerRadius:i,outerRadius:s,startAngle:h,endAngle:g}),y.createElement("path",Wy({},Br(t),{className:_,d:j}))};function P6(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(ak(t)){if(e==="centric"){var{cx:n,cy:i,innerRadius:s,outerRadius:c,angle:u}=t,m=rr(n,i,s,u),h=rr(n,i,c,u);return[{x:m.x,y:m.y},{x:h.x,y:h.y}]}return jD(t)}}var Pv={},Mv={},Rv={},bO;function M6(){return bO||(bO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pk();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(Rv)),Rv}var _O;function R6(){return _O||(_O=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=M6();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(Mv)),Mv}var xO;function q6(){return xO||(xO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gk(),r=R6();function n(i,s,c){c&&typeof c!="number"&&t.isIterateeCall(i,s,c)&&(s=c=void 0),i=r.toFinite(i),s===void 0?(s=i,i=0):s=r.toFinite(s),c=c===void 0?i<s?1:-1:r.toFinite(c);const u=Math.max(Math.ceil((s-i)/(c||1)),0),m=new Array(u);for(let h=0;h<u;h++)m[h]=i,i+=c;return m}e.range=n})(Pv)),Pv}var qv,wO;function z6(){return wO||(wO=1,qv=q6().range),qv}var L6=z6();const OD=Ja(L6);function $i(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function I6(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function a0(e){let t,r,n;e.length!==2?(t=$i,r=(u,m)=>$i(e(u),m),n=(u,m)=>e(u)-m):(t=e===$i||e===I6?e:U6,r=e,n=e);function i(u,m,h=0,g=u.length){if(h<g){if(t(m,m)!==0)return g;do{const p=h+g>>>1;r(u[p],m)<0?h=p+1:g=p}while(h<g)}return h}function s(u,m,h=0,g=u.length){if(h<g){if(t(m,m)!==0)return g;do{const p=h+g>>>1;r(u[p],m)<=0?h=p+1:g=p}while(h<g)}return h}function c(u,m,h=0,g=u.length){const p=i(u,m,h,g-1);return p>h&&n(u[p-1],m)>-n(u[p],m)?p-1:p}return{left:i,center:c,right:s}}function U6(){return 0}function CD(e){return e===null?NaN:+e}function*B6(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const $6=a0($i),Zc=$6.right;a0(CD).center;class jO extends Map{constructor(t,r=K6){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(SO(this,t))}has(t){return super.has(SO(this,t))}set(t,r){return super.set(H6(this,t),r)}delete(t){return super.delete(F6(this,t))}}function SO({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function H6({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function F6({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function K6(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Y6(e=$i){if(e===$i)return AD;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function AD(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const G6=Math.sqrt(50),V6=Math.sqrt(10),W6=Math.sqrt(2);function If(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),s=n/Math.pow(10,i),c=s>=G6?10:s>=V6?5:s>=W6?2:1;let u,m,h;return i<0?(h=Math.pow(10,-i)/c,u=Math.round(e*h),m=Math.round(t*h),u/h<e&&++u,m/h>t&&--m,h=-h):(h=Math.pow(10,i)*c,u=Math.round(e/h),m=Math.round(t/h),u*h<e&&++u,m*h>t&&--m),m<u&&.5<=r&&r<2?If(e,t,r*2):[u,m,h]}function Xy(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,s,c]=n?If(t,e,r):If(e,t,r);if(!(s>=i))return[];const u=s-i+1,m=new Array(u);if(n)if(c<0)for(let h=0;h<u;++h)m[h]=(s-h)/-c;else for(let h=0;h<u;++h)m[h]=(s-h)*c;else if(c<0)for(let h=0;h<u;++h)m[h]=(i+h)/-c;else for(let h=0;h<u;++h)m[h]=(i+h)*c;return m}function Zy(e,t,r){return t=+t,e=+e,r=+r,If(e,t,r)[2]}function Qy(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?Zy(t,e,r):Zy(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function EO(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function OO(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function ND(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?AD:Y6(i);n>r;){if(n-r>600){const m=n-r+1,h=t-r+1,g=Math.log(m),p=.5*Math.exp(2*g/3),_=.5*Math.sqrt(g*p*(m-p)/m)*(h-m/2<0?-1:1),x=Math.max(r,Math.floor(t-h*p/m+_)),w=Math.min(n,Math.floor(t+(m-h)*p/m+_));ND(e,t,x,w,i)}const s=e[t];let c=r,u=n;for(uc(e,r,t),i(e[n],s)>0&&uc(e,r,n);c<u;){for(uc(e,c,u),++c,--u;i(e[c],s)<0;)++c;for(;i(e[u],s)>0;)--u}i(e[r],s)===0?uc(e,r,u):(++u,uc(e,u,n)),u<=t&&(r=u+1),t<=u&&(n=u-1)}return e}function uc(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function X6(e,t,r){if(e=Float64Array.from(B6(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return OO(e);if(t>=1)return EO(e);var n,i=(n-1)*t,s=Math.floor(i),c=EO(ND(e,s).subarray(0,s+1)),u=OO(e.subarray(s+1));return c+(u-c)*(i-s)}}function Z6(e,t,r=CD){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,s=Math.floor(i),c=+r(e[s],s,e),u=+r(e[s+1],s+1,e);return c+(u-c)*(i-s)}}function Q6(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(i);++n<i;)s[n]=e+n*r;return s}function Un(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ai(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Jy=Symbol("implicit");function i0(){var e=new jO,t=[],r=[],n=Jy;function i(s){let c=e.get(s);if(c===void 0){if(n!==Jy)return n;e.set(s,c=t.push(s)-1)}return r[c%r.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new jO;for(const c of s)e.has(c)||e.set(c,t.push(c)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return i0(t,r).unknown(n)},Un.apply(i,arguments),i}function o0(){var e=i0().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,s,c,u=!1,m=0,h=0,g=.5;delete e.unknown;function p(){var _=t().length,x=i<n,w=x?i:n,j=x?n:i;s=(j-w)/Math.max(1,_-m+h*2),u&&(s=Math.floor(s)),w+=(j-w-s*(_-m))*g,c=s*(1-m),u&&(w=Math.round(w),c=Math.round(c));var S=Q6(_).map(function(O){return w+s*O});return r(x?S.reverse():S)}return e.domain=function(_){return arguments.length?(t(_),p()):t()},e.range=function(_){return arguments.length?([n,i]=_,n=+n,i=+i,p()):[n,i]},e.rangeRound=function(_){return[n,i]=_,n=+n,i=+i,u=!0,p()},e.bandwidth=function(){return c},e.step=function(){return s},e.round=function(_){return arguments.length?(u=!!_,p()):u},e.padding=function(_){return arguments.length?(m=Math.min(1,h=+_),p()):m},e.paddingInner=function(_){return arguments.length?(m=Math.min(1,_),p()):m},e.paddingOuter=function(_){return arguments.length?(h=+_,p()):h},e.align=function(_){return arguments.length?(g=Math.max(0,Math.min(1,_)),p()):g},e.copy=function(){return o0(t(),[n,i]).round(u).paddingInner(m).paddingOuter(h).align(g)},Un.apply(p(),arguments)}function kD(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return kD(t())},e}function J6(){return kD(o0.apply(null,arguments).paddingInner(1))}function s0(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function DD(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Qc(){}var Dc=.7,Uf=1/Dc,Bs="\\s*([+-]?\\d+)\\s*",Tc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ma="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",eB=/^#([0-9a-f]{3,8})$/,tB=new RegExp(`^rgb\\(${Bs},${Bs},${Bs}\\)$`),rB=new RegExp(`^rgb\\(${ma},${ma},${ma}\\)$`),nB=new RegExp(`^rgba\\(${Bs},${Bs},${Bs},${Tc}\\)$`),aB=new RegExp(`^rgba\\(${ma},${ma},${ma},${Tc}\\)$`),iB=new RegExp(`^hsl\\(${Tc},${ma},${ma}\\)$`),oB=new RegExp(`^hsla\\(${Tc},${ma},${ma},${Tc}\\)$`),CO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};s0(Qc,Pc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:AO,formatHex:AO,formatHex8:sB,formatHsl:lB,formatRgb:NO,toString:NO});function AO(){return this.rgb().formatHex()}function sB(){return this.rgb().formatHex8()}function lB(){return TD(this).formatHsl()}function NO(){return this.rgb().formatRgb()}function Pc(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=eB.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?kO(t):r===3?new Zr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Hd(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Hd(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=tB.exec(e))?new Zr(t[1],t[2],t[3],1):(t=rB.exec(e))?new Zr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=nB.exec(e))?Hd(t[1],t[2],t[3],t[4]):(t=aB.exec(e))?Hd(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=iB.exec(e))?PO(t[1],t[2]/100,t[3]/100,1):(t=oB.exec(e))?PO(t[1],t[2]/100,t[3]/100,t[4]):CO.hasOwnProperty(e)?kO(CO[e]):e==="transparent"?new Zr(NaN,NaN,NaN,0):null}function kO(e){return new Zr(e>>16&255,e>>8&255,e&255,1)}function Hd(e,t,r,n){return n<=0&&(e=t=r=NaN),new Zr(e,t,r,n)}function cB(e){return e instanceof Qc||(e=Pc(e)),e?(e=e.rgb(),new Zr(e.r,e.g,e.b,e.opacity)):new Zr}function eb(e,t,r,n){return arguments.length===1?cB(e):new Zr(e,t,r,n??1)}function Zr(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}s0(Zr,eb,DD(Qc,{brighter(e){return e=e==null?Uf:Math.pow(Uf,e),new Zr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Dc:Math.pow(Dc,e),new Zr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Zr(Do(this.r),Do(this.g),Do(this.b),Bf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:DO,formatHex:DO,formatHex8:uB,formatRgb:TO,toString:TO}));function DO(){return`#${Co(this.r)}${Co(this.g)}${Co(this.b)}`}function uB(){return`#${Co(this.r)}${Co(this.g)}${Co(this.b)}${Co((isNaN(this.opacity)?1:this.opacity)*255)}`}function TO(){const e=Bf(this.opacity);return`${e===1?"rgb(":"rgba("}${Do(this.r)}, ${Do(this.g)}, ${Do(this.b)}${e===1?")":`, ${e})`}`}function Bf(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Do(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Co(e){return e=Do(e),(e<16?"0":"")+e.toString(16)}function PO(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Xn(e,t,r,n)}function TD(e){if(e instanceof Xn)return new Xn(e.h,e.s,e.l,e.opacity);if(e instanceof Qc||(e=Pc(e)),!e)return new Xn;if(e instanceof Xn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),s=Math.max(t,r,n),c=NaN,u=s-i,m=(s+i)/2;return u?(t===s?c=(r-n)/u+(r<n)*6:r===s?c=(n-t)/u+2:c=(t-r)/u+4,u/=m<.5?s+i:2-s-i,c*=60):u=m>0&&m<1?0:c,new Xn(c,u,m,e.opacity)}function dB(e,t,r,n){return arguments.length===1?TD(e):new Xn(e,t,r,n??1)}function Xn(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}s0(Xn,dB,DD(Qc,{brighter(e){return e=e==null?Uf:Math.pow(Uf,e),new Xn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Dc:Math.pow(Dc,e),new Xn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new Zr(zv(e>=240?e-240:e+120,i,n),zv(e,i,n),zv(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new Xn(MO(this.h),Fd(this.s),Fd(this.l),Bf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Bf(this.opacity);return`${e===1?"hsl(":"hsla("}${MO(this.h)}, ${Fd(this.s)*100}%, ${Fd(this.l)*100}%${e===1?")":`, ${e})`}`}}));function MO(e){return e=(e||0)%360,e<0?e+360:e}function Fd(e){return Math.max(0,Math.min(1,e||0))}function zv(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const l0=e=>()=>e;function fB(e,t){return function(r){return e+r*t}}function mB(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function hB(e){return(e=+e)==1?PD:function(t,r){return r-t?mB(t,r,e):l0(isNaN(t)?r:t)}}function PD(e,t){var r=t-e;return r?fB(e,r):l0(isNaN(e)?t:e)}const RO=(function e(t){var r=hB(t);function n(i,s){var c=r((i=eb(i)).r,(s=eb(s)).r),u=r(i.g,s.g),m=r(i.b,s.b),h=PD(i.opacity,s.opacity);return function(g){return i.r=c(g),i.g=u(g),i.b=m(g),i.opacity=h(g),i+""}}return n.gamma=e,n})(1);function pB(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(s){for(i=0;i<r;++i)n[i]=e[i]*(1-s)+t[i]*s;return n}}function gB(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function vB(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),s=new Array(r),c;for(c=0;c<n;++c)i[c]=Js(e[c],t[c]);for(;c<r;++c)s[c]=t[c];return function(u){for(c=0;c<n;++c)s[c]=i[c](u);return s}}function yB(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function $f(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function bB(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=Js(e[i],t[i]):n[i]=t[i];return function(s){for(i in r)n[i]=r[i](s);return n}}var tb=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Lv=new RegExp(tb.source,"g");function _B(e){return function(){return e}}function xB(e){return function(t){return e(t)+""}}function wB(e,t){var r=tb.lastIndex=Lv.lastIndex=0,n,i,s,c=-1,u=[],m=[];for(e=e+"",t=t+"";(n=tb.exec(e))&&(i=Lv.exec(t));)(s=i.index)>r&&(s=t.slice(r,s),u[c]?u[c]+=s:u[++c]=s),(n=n[0])===(i=i[0])?u[c]?u[c]+=i:u[++c]=i:(u[++c]=null,m.push({i:c,x:$f(n,i)})),r=Lv.lastIndex;return r<t.length&&(s=t.slice(r),u[c]?u[c]+=s:u[++c]=s),u.length<2?m[0]?xB(m[0].x):_B(t):(t=m.length,function(h){for(var g=0,p;g<t;++g)u[(p=m[g]).i]=p.x(h);return u.join("")})}function Js(e,t){var r=typeof t,n;return t==null||r==="boolean"?l0(t):(r==="number"?$f:r==="string"?(n=Pc(t))?(t=n,RO):wB:t instanceof Pc?RO:t instanceof Date?yB:gB(t)?pB:Array.isArray(t)?vB:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?bB:$f)(e,t)}function c0(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function jB(e,t){t===void 0&&(t=e,e=Js);for(var r=0,n=t.length-1,i=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(i,i=t[++r]);return function(c){var u=Math.max(0,Math.min(n-1,Math.floor(c*=n)));return s[u](c-u)}}function SB(e){return function(){return e}}function Hf(e){return+e}var qO=[0,1];function Ur(e){return e}function rb(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:SB(isNaN(t)?NaN:.5)}function EB(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function OB(e,t,r){var n=e[0],i=e[1],s=t[0],c=t[1];return i<n?(n=rb(i,n),s=r(c,s)):(n=rb(n,i),s=r(s,c)),function(u){return s(n(u))}}function CB(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),s=new Array(n),c=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++c<n;)i[c]=rb(e[c],e[c+1]),s[c]=r(t[c],t[c+1]);return function(u){var m=Zc(e,u,1,n)-1;return s[m](i[m](u))}}function Jc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function qm(){var e=qO,t=qO,r=Js,n,i,s,c=Ur,u,m,h;function g(){var _=Math.min(e.length,t.length);return c!==Ur&&(c=EB(e[0],e[_-1])),u=_>2?CB:OB,m=h=null,p}function p(_){return _==null||isNaN(_=+_)?s:(m||(m=u(e.map(n),t,r)))(n(c(_)))}return p.invert=function(_){return c(i((h||(h=u(t,e.map(n),$f)))(_)))},p.domain=function(_){return arguments.length?(e=Array.from(_,Hf),g()):e.slice()},p.range=function(_){return arguments.length?(t=Array.from(_),g()):t.slice()},p.rangeRound=function(_){return t=Array.from(_),r=c0,g()},p.clamp=function(_){return arguments.length?(c=_?!0:Ur,g()):c!==Ur},p.interpolate=function(_){return arguments.length?(r=_,g()):r},p.unknown=function(_){return arguments.length?(s=_,p):s},function(_,x){return n=_,i=x,g()}}function u0(){return qm()(Ur,Ur)}function AB(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Ff(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Ys(e){return e=Ff(Math.abs(e)),e?e[1]:NaN}function NB(e,t){return function(r,n){for(var i=r.length,s=[],c=0,u=e[0],m=0;i>0&&u>0&&(m+u+1>n&&(u=Math.max(1,n-m)),s.push(r.substring(i-=u,i+u)),!((m+=u+1)>n));)u=e[c=(c+1)%e.length];return s.reverse().join(t)}}function kB(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var DB=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Mc(e){if(!(t=DB.exec(e)))throw new Error("invalid format: "+e);var t;return new d0({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Mc.prototype=d0.prototype;function d0(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}d0.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function TB(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var MD;function PB(e,t){var r=Ff(e,t);if(!r)return e+"";var n=r[0],i=r[1],s=i-(MD=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,c=n.length;return s===c?n:s>c?n+new Array(s-c+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+Ff(e,Math.max(0,t+s-1))[0]}function zO(e,t){var r=Ff(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const LO={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:AB,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>zO(e*100,t),r:zO,s:PB,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function IO(e){return e}var UO=Array.prototype.map,BO=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function MB(e){var t=e.grouping===void 0||e.thousands===void 0?IO:NB(UO.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?IO:kB(UO.call(e.numerals,String)),c=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"":e.minus+"",m=e.nan===void 0?"NaN":e.nan+"";function h(p){p=Mc(p);var _=p.fill,x=p.align,w=p.sign,j=p.symbol,S=p.zero,O=p.width,C=p.comma,A=p.precision,k=p.trim,D=p.type;D==="n"?(C=!0,D="g"):LO[D]||(A===void 0&&(A=12),k=!0,D="g"),(S||_==="0"&&x==="=")&&(S=!0,_="0",x="=");var M=j==="$"?r:j==="#"&&/[boxX]/.test(D)?"0"+D.toLowerCase():"",L=j==="$"?n:/[%p]/.test(D)?c:"",X=LO[D],re=/[defgprs%]/.test(D);A=A===void 0?6:/[gprs]/.test(D)?Math.max(1,Math.min(21,A)):Math.max(0,Math.min(20,A));function ae(G){var B=M,ce=L,ge,q,R;if(D==="c")ce=X(G)+ce,G="";else{G=+G;var I=G<0||1/G<0;if(G=isNaN(G)?m:X(Math.abs(G),A),k&&(G=TB(G)),I&&+G==0&&w!=="+"&&(I=!1),B=(I?w==="("?w:u:w==="-"||w==="("?"":w)+B,ce=(D==="s"?BO[8+MD/3]:"")+ce+(I&&w==="("?")":""),re){for(ge=-1,q=G.length;++ge<q;)if(R=G.charCodeAt(ge),48>R||R>57){ce=(R===46?i+G.slice(ge+1):G.slice(ge))+ce,G=G.slice(0,ge);break}}}C&&!S&&(G=t(G,1/0));var ee=B.length+G.length+ce.length,U=ee<O?new Array(O-ee+1).join(_):"";switch(C&&S&&(G=t(U+G,U.length?O-ce.length:1/0),U=""),x){case"<":G=B+G+ce+U;break;case"=":G=B+U+G+ce;break;case"^":G=U.slice(0,ee=U.length>>1)+B+G+ce+U.slice(ee);break;default:G=U+B+G+ce;break}return s(G)}return ae.toString=function(){return p+""},ae}function g(p,_){var x=h((p=Mc(p),p.type="f",p)),w=Math.max(-8,Math.min(8,Math.floor(Ys(_)/3)))*3,j=Math.pow(10,-w),S=BO[8+w/3];return function(O){return x(j*O)+S}}return{format:h,formatPrefix:g}}var Kd,f0,RD;RB({thousands:",",grouping:[3],currency:["$",""]});function RB(e){return Kd=MB(e),f0=Kd.format,RD=Kd.formatPrefix,Kd}function qB(e){return Math.max(0,-Ys(Math.abs(e)))}function zB(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ys(t)/3)))*3-Ys(Math.abs(e)))}function LB(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ys(t)-Ys(e))+1}function qD(e,t,r,n){var i=Qy(e,t,r),s;switch(n=Mc(n??",f"),n.type){case"s":{var c=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=zB(i,c))&&(n.precision=s),RD(n,c)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=LB(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=qB(i))&&(n.precision=s-(n.type==="%")*2);break}}return f0(n)}function Xi(e){var t=e.domain;return e.ticks=function(r){var n=t();return Xy(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return qD(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,s=n.length-1,c=n[i],u=n[s],m,h,g=10;for(u<c&&(h=c,c=u,u=h,h=i,i=s,s=h);g-- >0;){if(h=Zy(c,u,r),h===m)return n[i]=c,n[s]=u,t(n);if(h>0)c=Math.floor(c/h)*h,u=Math.ceil(u/h)*h;else if(h<0)c=Math.ceil(c*h)/h,u=Math.floor(u*h)/h;else break;m=h}return e},e}function zD(){var e=u0();return e.copy=function(){return Jc(e,zD())},Un.apply(e,arguments),Xi(e)}function LD(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Hf),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return LD(e).unknown(t)},e=arguments.length?Array.from(e,Hf):[0,1],Xi(r)}function ID(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],s=e[n],c;return s<i&&(c=r,r=n,n=c,c=i,i=s,s=c),e[r]=t.floor(i),e[n]=t.ceil(s),e}function $O(e){return Math.log(e)}function HO(e){return Math.exp(e)}function IB(e){return-Math.log(-e)}function UB(e){return-Math.exp(-e)}function BB(e){return isFinite(e)?+("1e"+e):e<0?0:e}function $B(e){return e===10?BB:e===Math.E?Math.exp:t=>Math.pow(e,t)}function HB(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function FO(e){return(t,r)=>-e(-t,r)}function m0(e){const t=e($O,HO),r=t.domain;let n=10,i,s;function c(){return i=HB(n),s=$B(n),r()[0]<0?(i=FO(i),s=FO(s),e(IB,UB)):e($O,HO),t}return t.base=function(u){return arguments.length?(n=+u,c()):n},t.domain=function(u){return arguments.length?(r(u),c()):r()},t.ticks=u=>{const m=r();let h=m[0],g=m[m.length-1];const p=g<h;p&&([h,g]=[g,h]);let _=i(h),x=i(g),w,j;const S=u==null?10:+u;let O=[];if(!(n%1)&&x-_<S){if(_=Math.floor(_),x=Math.ceil(x),h>0){for(;_<=x;++_)for(w=1;w<n;++w)if(j=_<0?w/s(-_):w*s(_),!(j<h)){if(j>g)break;O.push(j)}}else for(;_<=x;++_)for(w=n-1;w>=1;--w)if(j=_>0?w/s(-_):w*s(_),!(j<h)){if(j>g)break;O.push(j)}O.length*2<S&&(O=Xy(h,g,S))}else O=Xy(_,x,Math.min(x-_,S)).map(s);return p?O.reverse():O},t.tickFormat=(u,m)=>{if(u==null&&(u=10),m==null&&(m=n===10?"s":","),typeof m!="function"&&(!(n%1)&&(m=Mc(m)).precision==null&&(m.trim=!0),m=f0(m)),u===1/0)return m;const h=Math.max(1,n*u/t.ticks().length);return g=>{let p=g/s(Math.round(i(g)));return p*n<n-.5&&(p*=n),p<=h?m(g):""}},t.nice=()=>r(ID(r(),{floor:u=>s(Math.floor(i(u))),ceil:u=>s(Math.ceil(i(u)))})),t}function UD(){const e=m0(qm()).domain([1,10]);return e.copy=()=>Jc(e,UD()).base(e.base()),Un.apply(e,arguments),e}function KO(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function YO(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function h0(e){var t=1,r=e(KO(t),YO(t));return r.constant=function(n){return arguments.length?e(KO(t=+n),YO(t)):t},Xi(r)}function BD(){var e=h0(qm());return e.copy=function(){return Jc(e,BD()).constant(e.constant())},Un.apply(e,arguments)}function GO(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function FB(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function KB(e){return e<0?-e*e:e*e}function p0(e){var t=e(Ur,Ur),r=1;function n(){return r===1?e(Ur,Ur):r===.5?e(FB,KB):e(GO(r),GO(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},Xi(t)}function g0(){var e=p0(qm());return e.copy=function(){return Jc(e,g0()).exponent(e.exponent())},Un.apply(e,arguments),e}function YB(){return g0.apply(null,arguments).exponent(.5)}function VO(e){return Math.sign(e)*e*e}function GB(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function $D(){var e=u0(),t=[0,1],r=!1,n;function i(s){var c=GB(e(s));return isNaN(c)?n:r?Math.round(c):c}return i.invert=function(s){return e.invert(VO(s))},i.domain=function(s){return arguments.length?(e.domain(s),i):e.domain()},i.range=function(s){return arguments.length?(e.range((t=Array.from(s,Hf)).map(VO)),i):t.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(r=!!s,i):r},i.clamp=function(s){return arguments.length?(e.clamp(s),i):e.clamp()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return $D(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Un.apply(i,arguments),Xi(i)}function HD(){var e=[],t=[],r=[],n;function i(){var c=0,u=Math.max(1,t.length);for(r=new Array(u-1);++c<u;)r[c-1]=Z6(e,c/u);return s}function s(c){return c==null||isNaN(c=+c)?n:t[Zc(r,c)]}return s.invertExtent=function(c){var u=t.indexOf(c);return u<0?[NaN,NaN]:[u>0?r[u-1]:e[0],u<r.length?r[u]:e[e.length-1]]},s.domain=function(c){if(!arguments.length)return e.slice();e=[];for(let u of c)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort($i),i()},s.range=function(c){return arguments.length?(t=Array.from(c),i()):t.slice()},s.unknown=function(c){return arguments.length?(n=c,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return HD().domain(e).range(t).unknown(n)},Un.apply(s,arguments)}function FD(){var e=0,t=1,r=1,n=[.5],i=[0,1],s;function c(m){return m!=null&&m<=m?i[Zc(n,m,0,r)]:s}function u(){var m=-1;for(n=new Array(r);++m<r;)n[m]=((m+1)*t-(m-r)*e)/(r+1);return c}return c.domain=function(m){return arguments.length?([e,t]=m,e=+e,t=+t,u()):[e,t]},c.range=function(m){return arguments.length?(r=(i=Array.from(m)).length-1,u()):i.slice()},c.invertExtent=function(m){var h=i.indexOf(m);return h<0?[NaN,NaN]:h<1?[e,n[0]]:h>=r?[n[r-1],t]:[n[h-1],n[h]]},c.unknown=function(m){return arguments.length&&(s=m),c},c.thresholds=function(){return n.slice()},c.copy=function(){return FD().domain([e,t]).range(i).unknown(s)},Un.apply(Xi(c),arguments)}function KD(){var e=[.5],t=[0,1],r,n=1;function i(s){return s!=null&&s<=s?t[Zc(e,s,0,n)]:r}return i.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(s){var c=t.indexOf(s);return[e[c-1],e[c]]},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return KD().domain(e).range(t).unknown(r)},Un.apply(i,arguments)}const Iv=new Date,Uv=new Date;function ur(e,t,r,n){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const c=i(s),u=i.ceil(s);return s-c<u-s?c:u},i.offset=(s,c)=>(t(s=new Date(+s),c==null?1:Math.floor(c)),s),i.range=(s,c,u)=>{const m=[];if(s=i.ceil(s),u=u==null?1:Math.floor(u),!(s<c)||!(u>0))return m;let h;do m.push(h=new Date(+s)),t(s,u),e(s);while(h<s&&s<c);return m},i.filter=s=>ur(c=>{if(c>=c)for(;e(c),!s(c);)c.setTime(c-1)},(c,u)=>{if(c>=c)if(u<0)for(;++u<=0;)for(;t(c,-1),!s(c););else for(;--u>=0;)for(;t(c,1),!s(c););}),r&&(i.count=(s,c)=>(Iv.setTime(+s),Uv.setTime(+c),e(Iv),e(Uv),Math.floor(r(Iv,Uv))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(n?c=>n(c)%s===0:c=>i.count(0,c)%s===0):i)),i}const Kf=ur(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Kf.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ur(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Kf);Kf.range;const Ba=1e3,zn=Ba*60,$a=zn*60,Va=$a*24,v0=Va*7,WO=Va*30,Bv=Va*365,Ao=ur(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ba)},(e,t)=>(t-e)/Ba,e=>e.getUTCSeconds());Ao.range;const y0=ur(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ba)},(e,t)=>{e.setTime(+e+t*zn)},(e,t)=>(t-e)/zn,e=>e.getMinutes());y0.range;const b0=ur(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*zn)},(e,t)=>(t-e)/zn,e=>e.getUTCMinutes());b0.range;const _0=ur(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ba-e.getMinutes()*zn)},(e,t)=>{e.setTime(+e+t*$a)},(e,t)=>(t-e)/$a,e=>e.getHours());_0.range;const x0=ur(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*$a)},(e,t)=>(t-e)/$a,e=>e.getUTCHours());x0.range;const eu=ur(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*zn)/Va,e=>e.getDate()-1);eu.range;const zm=ur(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Va,e=>e.getUTCDate()-1);zm.range;const YD=ur(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Va,e=>Math.floor(e/Va));YD.range;function Go(e){return ur(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*zn)/v0)}const Lm=Go(0),Yf=Go(1),VB=Go(2),WB=Go(3),Gs=Go(4),XB=Go(5),ZB=Go(6);Lm.range;Yf.range;VB.range;WB.range;Gs.range;XB.range;ZB.range;function Vo(e){return ur(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/v0)}const Im=Vo(0),Gf=Vo(1),QB=Vo(2),JB=Vo(3),Vs=Vo(4),e$=Vo(5),t$=Vo(6);Im.range;Gf.range;QB.range;JB.range;Vs.range;e$.range;t$.range;const w0=ur(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());w0.range;const j0=ur(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());j0.range;const Wa=ur(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Wa.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ur(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Wa.range;const Xa=ur(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Xa.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ur(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Xa.range;function GD(e,t,r,n,i,s){const c=[[Ao,1,Ba],[Ao,5,5*Ba],[Ao,15,15*Ba],[Ao,30,30*Ba],[s,1,zn],[s,5,5*zn],[s,15,15*zn],[s,30,30*zn],[i,1,$a],[i,3,3*$a],[i,6,6*$a],[i,12,12*$a],[n,1,Va],[n,2,2*Va],[r,1,v0],[t,1,WO],[t,3,3*WO],[e,1,Bv]];function u(h,g,p){const _=g<h;_&&([h,g]=[g,h]);const x=p&&typeof p.range=="function"?p:m(h,g,p),w=x?x.range(h,+g+1):[];return _?w.reverse():w}function m(h,g,p){const _=Math.abs(g-h)/p,x=a0(([,,S])=>S).right(c,_);if(x===c.length)return e.every(Qy(h/Bv,g/Bv,p));if(x===0)return Kf.every(Math.max(Qy(h,g,p),1));const[w,j]=c[_/c[x-1][2]<c[x][2]/_?x-1:x];return w.every(j)}return[u,m]}const[r$,n$]=GD(Xa,j0,Im,YD,x0,b0),[a$,i$]=GD(Wa,w0,Lm,eu,_0,y0);function $v(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Hv(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function dc(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function o$(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,s=e.days,c=e.shortDays,u=e.months,m=e.shortMonths,h=fc(i),g=mc(i),p=fc(s),_=mc(s),x=fc(c),w=mc(c),j=fc(u),S=mc(u),O=fc(m),C=mc(m),A={a:I,A:ee,b:U,B:me,c:null,d:tC,e:tC,f:N$,g:I$,G:B$,H:O$,I:C$,j:A$,L:VD,m:k$,M:D$,p:we,q:J,Q:aC,s:iC,S:T$,u:P$,U:M$,V:R$,w:q$,W:z$,x:null,X:null,y:L$,Y:U$,Z:$$,"%":nC},k={a:H,A:je,b:Te,B:Ue,c:null,d:rC,e:rC,f:Y$,g:r8,G:a8,H:H$,I:F$,j:K$,L:XD,m:G$,M:V$,p:pe,q:Le,Q:aC,s:iC,S:W$,u:X$,U:Z$,V:Q$,w:J$,W:e8,x:null,X:null,y:t8,Y:n8,Z:i8,"%":nC},D={a:ae,A:G,b:B,B:ce,c:ge,d:JO,e:JO,f:w$,g:QO,G:ZO,H:eC,I:eC,j:y$,L:x$,m:v$,M:b$,p:re,q:g$,Q:S$,s:E$,S:_$,u:d$,U:f$,V:m$,w:u$,W:h$,x:q,X:R,y:QO,Y:ZO,Z:p$,"%":j$};A.x=M(r,A),A.X=M(n,A),A.c=M(t,A),k.x=M(r,k),k.X=M(n,k),k.c=M(t,k);function M(Q,Ee){return function(xe){var ie=[],Be=-1,ve=0,Ne=Q.length,Me,Ct,Re;for(xe instanceof Date||(xe=new Date(+xe));++Be<Ne;)Q.charCodeAt(Be)===37&&(ie.push(Q.slice(ve,Be)),(Ct=XO[Me=Q.charAt(++Be)])!=null?Me=Q.charAt(++Be):Ct=Me==="e"?" ":"0",(Re=Ee[Me])&&(Me=Re(xe,Ct)),ie.push(Me),ve=Be+1);return ie.push(Q.slice(ve,Be)),ie.join("")}}function L(Q,Ee){return function(xe){var ie=dc(1900,void 0,1),Be=X(ie,Q,xe+="",0),ve,Ne;if(Be!=xe.length)return null;if("Q"in ie)return new Date(ie.Q);if("s"in ie)return new Date(ie.s*1e3+("L"in ie?ie.L:0));if(Ee&&!("Z"in ie)&&(ie.Z=0),"p"in ie&&(ie.H=ie.H%12+ie.p*12),ie.m===void 0&&(ie.m="q"in ie?ie.q:0),"V"in ie){if(ie.V<1||ie.V>53)return null;"w"in ie||(ie.w=1),"Z"in ie?(ve=Hv(dc(ie.y,0,1)),Ne=ve.getUTCDay(),ve=Ne>4||Ne===0?Gf.ceil(ve):Gf(ve),ve=zm.offset(ve,(ie.V-1)*7),ie.y=ve.getUTCFullYear(),ie.m=ve.getUTCMonth(),ie.d=ve.getUTCDate()+(ie.w+6)%7):(ve=$v(dc(ie.y,0,1)),Ne=ve.getDay(),ve=Ne>4||Ne===0?Yf.ceil(ve):Yf(ve),ve=eu.offset(ve,(ie.V-1)*7),ie.y=ve.getFullYear(),ie.m=ve.getMonth(),ie.d=ve.getDate()+(ie.w+6)%7)}else("W"in ie||"U"in ie)&&("w"in ie||(ie.w="u"in ie?ie.u%7:"W"in ie?1:0),Ne="Z"in ie?Hv(dc(ie.y,0,1)).getUTCDay():$v(dc(ie.y,0,1)).getDay(),ie.m=0,ie.d="W"in ie?(ie.w+6)%7+ie.W*7-(Ne+5)%7:ie.w+ie.U*7-(Ne+6)%7);return"Z"in ie?(ie.H+=ie.Z/100|0,ie.M+=ie.Z%100,Hv(ie)):$v(ie)}}function X(Q,Ee,xe,ie){for(var Be=0,ve=Ee.length,Ne=xe.length,Me,Ct;Be<ve;){if(ie>=Ne)return-1;if(Me=Ee.charCodeAt(Be++),Me===37){if(Me=Ee.charAt(Be++),Ct=D[Me in XO?Ee.charAt(Be++):Me],!Ct||(ie=Ct(Q,xe,ie))<0)return-1}else if(Me!=xe.charCodeAt(ie++))return-1}return ie}function re(Q,Ee,xe){var ie=h.exec(Ee.slice(xe));return ie?(Q.p=g.get(ie[0].toLowerCase()),xe+ie[0].length):-1}function ae(Q,Ee,xe){var ie=x.exec(Ee.slice(xe));return ie?(Q.w=w.get(ie[0].toLowerCase()),xe+ie[0].length):-1}function G(Q,Ee,xe){var ie=p.exec(Ee.slice(xe));return ie?(Q.w=_.get(ie[0].toLowerCase()),xe+ie[0].length):-1}function B(Q,Ee,xe){var ie=O.exec(Ee.slice(xe));return ie?(Q.m=C.get(ie[0].toLowerCase()),xe+ie[0].length):-1}function ce(Q,Ee,xe){var ie=j.exec(Ee.slice(xe));return ie?(Q.m=S.get(ie[0].toLowerCase()),xe+ie[0].length):-1}function ge(Q,Ee,xe){return X(Q,t,Ee,xe)}function q(Q,Ee,xe){return X(Q,r,Ee,xe)}function R(Q,Ee,xe){return X(Q,n,Ee,xe)}function I(Q){return c[Q.getDay()]}function ee(Q){return s[Q.getDay()]}function U(Q){return m[Q.getMonth()]}function me(Q){return u[Q.getMonth()]}function we(Q){return i[+(Q.getHours()>=12)]}function J(Q){return 1+~~(Q.getMonth()/3)}function H(Q){return c[Q.getUTCDay()]}function je(Q){return s[Q.getUTCDay()]}function Te(Q){return m[Q.getUTCMonth()]}function Ue(Q){return u[Q.getUTCMonth()]}function pe(Q){return i[+(Q.getUTCHours()>=12)]}function Le(Q){return 1+~~(Q.getUTCMonth()/3)}return{format:function(Q){var Ee=M(Q+="",A);return Ee.toString=function(){return Q},Ee},parse:function(Q){var Ee=L(Q+="",!1);return Ee.toString=function(){return Q},Ee},utcFormat:function(Q){var Ee=M(Q+="",k);return Ee.toString=function(){return Q},Ee},utcParse:function(Q){var Ee=L(Q+="",!0);return Ee.toString=function(){return Q},Ee}}}var XO={"-":"",_:" ",0:"0"},_r=/^\s*\d+/,s$=/^%/,l$=/[\\^$*+?|[\]().{}]/g;function it(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",s=i.length;return n+(s<r?new Array(r-s+1).join(t)+i:i)}function c$(e){return e.replace(l$,"\\$&")}function fc(e){return new RegExp("^(?:"+e.map(c$).join("|")+")","i")}function mc(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function u$(e,t,r){var n=_r.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function d$(e,t,r){var n=_r.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function f$(e,t,r){var n=_r.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function m$(e,t,r){var n=_r.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function h$(e,t,r){var n=_r.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function ZO(e,t,r){var n=_r.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function QO(e,t,r){var n=_r.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function p$(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function g$(e,t,r){var n=_r.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function v$(e,t,r){var n=_r.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function JO(e,t,r){var n=_r.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function y$(e,t,r){var n=_r.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function eC(e,t,r){var n=_r.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function b$(e,t,r){var n=_r.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function _$(e,t,r){var n=_r.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function x$(e,t,r){var n=_r.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function w$(e,t,r){var n=_r.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function j$(e,t,r){var n=s$.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function S$(e,t,r){var n=_r.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function E$(e,t,r){var n=_r.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function tC(e,t){return it(e.getDate(),t,2)}function O$(e,t){return it(e.getHours(),t,2)}function C$(e,t){return it(e.getHours()%12||12,t,2)}function A$(e,t){return it(1+eu.count(Wa(e),e),t,3)}function VD(e,t){return it(e.getMilliseconds(),t,3)}function N$(e,t){return VD(e,t)+"000"}function k$(e,t){return it(e.getMonth()+1,t,2)}function D$(e,t){return it(e.getMinutes(),t,2)}function T$(e,t){return it(e.getSeconds(),t,2)}function P$(e){var t=e.getDay();return t===0?7:t}function M$(e,t){return it(Lm.count(Wa(e)-1,e),t,2)}function WD(e){var t=e.getDay();return t>=4||t===0?Gs(e):Gs.ceil(e)}function R$(e,t){return e=WD(e),it(Gs.count(Wa(e),e)+(Wa(e).getDay()===4),t,2)}function q$(e){return e.getDay()}function z$(e,t){return it(Yf.count(Wa(e)-1,e),t,2)}function L$(e,t){return it(e.getFullYear()%100,t,2)}function I$(e,t){return e=WD(e),it(e.getFullYear()%100,t,2)}function U$(e,t){return it(e.getFullYear()%1e4,t,4)}function B$(e,t){var r=e.getDay();return e=r>=4||r===0?Gs(e):Gs.ceil(e),it(e.getFullYear()%1e4,t,4)}function $$(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+it(t/60|0,"0",2)+it(t%60,"0",2)}function rC(e,t){return it(e.getUTCDate(),t,2)}function H$(e,t){return it(e.getUTCHours(),t,2)}function F$(e,t){return it(e.getUTCHours()%12||12,t,2)}function K$(e,t){return it(1+zm.count(Xa(e),e),t,3)}function XD(e,t){return it(e.getUTCMilliseconds(),t,3)}function Y$(e,t){return XD(e,t)+"000"}function G$(e,t){return it(e.getUTCMonth()+1,t,2)}function V$(e,t){return it(e.getUTCMinutes(),t,2)}function W$(e,t){return it(e.getUTCSeconds(),t,2)}function X$(e){var t=e.getUTCDay();return t===0?7:t}function Z$(e,t){return it(Im.count(Xa(e)-1,e),t,2)}function ZD(e){var t=e.getUTCDay();return t>=4||t===0?Vs(e):Vs.ceil(e)}function Q$(e,t){return e=ZD(e),it(Vs.count(Xa(e),e)+(Xa(e).getUTCDay()===4),t,2)}function J$(e){return e.getUTCDay()}function e8(e,t){return it(Gf.count(Xa(e)-1,e),t,2)}function t8(e,t){return it(e.getUTCFullYear()%100,t,2)}function r8(e,t){return e=ZD(e),it(e.getUTCFullYear()%100,t,2)}function n8(e,t){return it(e.getUTCFullYear()%1e4,t,4)}function a8(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Vs(e):Vs.ceil(e),it(e.getUTCFullYear()%1e4,t,4)}function i8(){return"+0000"}function nC(){return"%"}function aC(e){return+e}function iC(e){return Math.floor(+e/1e3)}var Ms,QD,JD;o8({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function o8(e){return Ms=o$(e),QD=Ms.format,Ms.parse,JD=Ms.utcFormat,Ms.utcParse,Ms}function s8(e){return new Date(e)}function l8(e){return e instanceof Date?+e:+new Date(+e)}function S0(e,t,r,n,i,s,c,u,m,h){var g=u0(),p=g.invert,_=g.domain,x=h(".%L"),w=h(":%S"),j=h("%I:%M"),S=h("%I %p"),O=h("%a %d"),C=h("%b %d"),A=h("%B"),k=h("%Y");function D(M){return(m(M)<M?x:u(M)<M?w:c(M)<M?j:s(M)<M?S:n(M)<M?i(M)<M?O:C:r(M)<M?A:k)(M)}return g.invert=function(M){return new Date(p(M))},g.domain=function(M){return arguments.length?_(Array.from(M,l8)):_().map(s8)},g.ticks=function(M){var L=_();return e(L[0],L[L.length-1],M??10)},g.tickFormat=function(M,L){return L==null?D:h(L)},g.nice=function(M){var L=_();return(!M||typeof M.range!="function")&&(M=t(L[0],L[L.length-1],M??10)),M?_(ID(L,M)):g},g.copy=function(){return Jc(g,S0(e,t,r,n,i,s,c,u,m,h))},g}function c8(){return Un.apply(S0(a$,i$,Wa,w0,Lm,eu,_0,y0,Ao,QD).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function u8(){return Un.apply(S0(r$,n$,Xa,j0,Im,zm,x0,b0,Ao,JD).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Um(){var e=0,t=1,r,n,i,s,c=Ur,u=!1,m;function h(p){return p==null||isNaN(p=+p)?m:c(i===0?.5:(p=(s(p)-r)*i,u?Math.max(0,Math.min(1,p)):p))}h.domain=function(p){return arguments.length?([e,t]=p,r=s(e=+e),n=s(t=+t),i=r===n?0:1/(n-r),h):[e,t]},h.clamp=function(p){return arguments.length?(u=!!p,h):u},h.interpolator=function(p){return arguments.length?(c=p,h):c};function g(p){return function(_){var x,w;return arguments.length?([x,w]=_,c=p(x,w),h):[c(0),c(1)]}}return h.range=g(Js),h.rangeRound=g(c0),h.unknown=function(p){return arguments.length?(m=p,h):m},function(p){return s=p,r=p(e),n=p(t),i=r===n?0:1/(n-r),h}}function Zi(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function eT(){var e=Xi(Um()(Ur));return e.copy=function(){return Zi(e,eT())},ai.apply(e,arguments)}function tT(){var e=m0(Um()).domain([1,10]);return e.copy=function(){return Zi(e,tT()).base(e.base())},ai.apply(e,arguments)}function rT(){var e=h0(Um());return e.copy=function(){return Zi(e,rT()).constant(e.constant())},ai.apply(e,arguments)}function E0(){var e=p0(Um());return e.copy=function(){return Zi(e,E0()).exponent(e.exponent())},ai.apply(e,arguments)}function d8(){return E0.apply(null,arguments).exponent(.5)}function nT(){var e=[],t=Ur;function r(n){if(n!=null&&!isNaN(n=+n))return t((Zc(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort($i),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,s)=>X6(e,s/n))},r.copy=function(){return nT(t).domain(e)},ai.apply(r,arguments)}function Bm(){var e=0,t=.5,r=1,n=1,i,s,c,u,m,h=Ur,g,p=!1,_;function x(j){return isNaN(j=+j)?_:(j=.5+((j=+g(j))-s)*(n*j<n*s?u:m),h(p?Math.max(0,Math.min(1,j)):j))}x.domain=function(j){return arguments.length?([e,t,r]=j,i=g(e=+e),s=g(t=+t),c=g(r=+r),u=i===s?0:.5/(s-i),m=s===c?0:.5/(c-s),n=s<i?-1:1,x):[e,t,r]},x.clamp=function(j){return arguments.length?(p=!!j,x):p},x.interpolator=function(j){return arguments.length?(h=j,x):h};function w(j){return function(S){var O,C,A;return arguments.length?([O,C,A]=S,h=jB(j,[O,C,A]),x):[h(0),h(.5),h(1)]}}return x.range=w(Js),x.rangeRound=w(c0),x.unknown=function(j){return arguments.length?(_=j,x):_},function(j){return g=j,i=j(e),s=j(t),c=j(r),u=i===s?0:.5/(s-i),m=s===c?0:.5/(c-s),n=s<i?-1:1,x}}function aT(){var e=Xi(Bm()(Ur));return e.copy=function(){return Zi(e,aT())},ai.apply(e,arguments)}function iT(){var e=m0(Bm()).domain([.1,1,10]);return e.copy=function(){return Zi(e,iT()).base(e.base())},ai.apply(e,arguments)}function oT(){var e=h0(Bm());return e.copy=function(){return Zi(e,oT()).constant(e.constant())},ai.apply(e,arguments)}function O0(){var e=p0(Bm());return e.copy=function(){return Zi(e,O0()).exponent(e.exponent())},ai.apply(e,arguments)}function f8(){return O0.apply(null,arguments).exponent(.5)}const yc=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:o0,scaleDiverging:aT,scaleDivergingLog:iT,scaleDivergingPow:O0,scaleDivergingSqrt:f8,scaleDivergingSymlog:oT,scaleIdentity:LD,scaleImplicit:Jy,scaleLinear:zD,scaleLog:UD,scaleOrdinal:i0,scalePoint:J6,scalePow:g0,scaleQuantile:HD,scaleQuantize:FD,scaleRadial:$D,scaleSequential:eT,scaleSequentialLog:tT,scaleSequentialPow:E0,scaleSequentialQuantile:nT,scaleSequentialSqrt:d8,scaleSequentialSymlog:rT,scaleSqrt:YB,scaleSymlog:BD,scaleThreshold:KD,scaleTime:c8,scaleUtc:u8,tickFormat:qD},Symbol.toStringTag,{value:"Module"}));var ii=e=>e.chartData,$m=W([ii],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),C0=(e,t,r,n)=>n?$m(e):ii(e),m8=(e,t,r)=>r?$m(e):ii(e);function Fi(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(zt(t)&&zt(r))return!0}return!1}function oC(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function sT(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,i,s;if(zt(r))i=r;else if(typeof r=="function")return;if(zt(n))s=n;else if(typeof n=="function")return;var c=[i,s];if(Fi(c))return c}}function h8(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(Fi(n))return oC(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[i,s]=e,c,u;if(i==="auto")t!=null&&(c=Math.min(...t));else if(ke(i))c=i;else if(typeof i=="function")try{t!=null&&(c=i(t?.[0]))}catch{}else if(typeof i=="string"&&bE.test(i)){var m=bE.exec(i);if(m==null||m[1]==null||t==null)c=void 0;else{var h=+m[1];c=t[0]-h}}else c=t?.[0];if(s==="auto")t!=null&&(u=Math.max(...t));else if(ke(s))u=s;else if(typeof s=="function")try{t!=null&&(u=s(t?.[1]))}catch{}else if(typeof s=="string"&&_E.test(s)){var g=_E.exec(s);if(g==null||g[1]==null||t==null)u=void 0;else{var p=+g[1];u=t[1]+p}}else u=t?.[1];var _=[c,u];if(Fi(_))return t==null?_:oC(_,t,r)}}}var el=1e9,p8={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},N0,Tt=!0,In="[DecimalError] ",To=In+"Invalid argument: ",A0=In+"Exponent out of range: ",tl=Math.floor,So=Math.pow,g8=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,hn,gr=1e7,Ot=7,lT=9007199254740991,Vf=tl(lT/Ot),Ce={};Ce.absoluteValue=Ce.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ce.comparedTo=Ce.cmp=function(e){var t,r,n,i,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===i?0:n>i^s.s<0?1:-1};Ce.decimalPlaces=Ce.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Ot;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Ce.dividedBy=Ce.div=function(e){return Ha(this,new this.constructor(e))};Ce.dividedToIntegerBy=Ce.idiv=function(e){var t=this,r=t.constructor;return bt(Ha(t,new r(e),0,1),r.precision)};Ce.equals=Ce.eq=function(e){return!this.cmp(e)};Ce.exponent=function(){return ar(this)};Ce.greaterThan=Ce.gt=function(e){return this.cmp(e)>0};Ce.greaterThanOrEqualTo=Ce.gte=function(e){return this.cmp(e)>=0};Ce.isInteger=Ce.isint=function(){return this.e>this.d.length-2};Ce.isNegative=Ce.isneg=function(){return this.s<0};Ce.isPositive=Ce.ispos=function(){return this.s>0};Ce.isZero=function(){return this.s===0};Ce.lessThan=Ce.lt=function(e){return this.cmp(e)<0};Ce.lessThanOrEqualTo=Ce.lte=function(e){return this.cmp(e)<1};Ce.logarithm=Ce.log=function(e){var t,r=this,n=r.constructor,i=n.precision,s=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(hn))throw Error(In+"NaN");if(r.s<1)throw Error(In+(r.s?"NaN":"-Infinity"));return r.eq(hn)?new n(0):(Tt=!1,t=Ha(Rc(r,s),Rc(e,s),s),Tt=!0,bt(t,i))};Ce.minus=Ce.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?dT(t,e):cT(t,(e.s=-e.s,e))};Ce.modulo=Ce.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(In+"NaN");return r.s?(Tt=!1,t=Ha(r,e,0,1).times(e),Tt=!0,r.minus(t)):bt(new n(r),i)};Ce.naturalExponential=Ce.exp=function(){return uT(this)};Ce.naturalLogarithm=Ce.ln=function(){return Rc(this)};Ce.negated=Ce.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ce.plus=Ce.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?cT(t,e):dT(t,(e.s=-e.s,e))};Ce.precision=Ce.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(To+e);if(t=ar(i)+1,n=i.d.length-1,r=n*Ot+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Ce.squareRoot=Ce.sqrt=function(){var e,t,r,n,i,s,c,u=this,m=u.constructor;if(u.s<1){if(!u.s)return new m(0);throw Error(In+"NaN")}for(e=ar(u),Tt=!1,i=Math.sqrt(+u),i==0||i==1/0?(t=da(u.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=tl((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new m(t)):n=new m(i.toString()),r=m.precision,i=c=r+3;;)if(s=n,n=s.plus(Ha(u,s,c+2)).times(.5),da(s.d).slice(0,c)===(t=da(n.d)).slice(0,c)){if(t=t.slice(c-3,c+1),i==c&&t=="4999"){if(bt(s,r+1,0),s.times(s).eq(u)){n=s;break}}else if(t!="9999")break;c+=4}return Tt=!0,bt(n,r)};Ce.times=Ce.mul=function(e){var t,r,n,i,s,c,u,m,h,g=this,p=g.constructor,_=g.d,x=(e=new p(e)).d;if(!g.s||!e.s)return new p(0);for(e.s*=g.s,r=g.e+e.e,m=_.length,h=x.length,m<h&&(s=_,_=x,x=s,c=m,m=h,h=c),s=[],c=m+h,n=c;n--;)s.push(0);for(n=h;--n>=0;){for(t=0,i=m+n;i>n;)u=s[i]+x[n]*_[i-n-1]+t,s[i--]=u%gr|0,t=u/gr|0;s[i]=(s[i]+t)%gr|0}for(;!s[--c];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,Tt?bt(e,p.precision):e};Ce.toDecimalPlaces=Ce.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(ga(e,0,el),t===void 0?t=n.rounding:ga(t,0,8),bt(r,e+ar(r)+1,t))};Ce.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=Bo(n,!0):(ga(e,0,el),t===void 0?t=i.rounding:ga(t,0,8),n=bt(new i(n),e+1,t),r=Bo(n,!0,e+1)),r};Ce.toFixed=function(e,t){var r,n,i=this,s=i.constructor;return e===void 0?Bo(i):(ga(e,0,el),t===void 0?t=s.rounding:ga(t,0,8),n=bt(new s(i),e+ar(i)+1,t),r=Bo(n.abs(),!1,e+ar(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Ce.toInteger=Ce.toint=function(){var e=this,t=e.constructor;return bt(new t(e),ar(e)+1,t.rounding)};Ce.toNumber=function(){return+this};Ce.toPower=Ce.pow=function(e){var t,r,n,i,s,c,u=this,m=u.constructor,h=12,g=+(e=new m(e));if(!e.s)return new m(hn);if(u=new m(u),!u.s){if(e.s<1)throw Error(In+"Infinity");return u}if(u.eq(hn))return u;if(n=m.precision,e.eq(hn))return bt(u,n);if(t=e.e,r=e.d.length-1,c=t>=r,s=u.s,c){if((r=g<0?-g:g)<=lT){for(i=new m(hn),t=Math.ceil(n/Ot+4),Tt=!1;r%2&&(i=i.times(u),lC(i.d,t)),r=tl(r/2),r!==0;)u=u.times(u),lC(u.d,t);return Tt=!0,e.s<0?new m(hn).div(i):bt(i,n)}}else if(s<0)throw Error(In+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,u.s=1,Tt=!1,i=e.times(Rc(u,n+h)),Tt=!0,i=uT(i),i.s=s,i};Ce.toPrecision=function(e,t){var r,n,i=this,s=i.constructor;return e===void 0?(r=ar(i),n=Bo(i,r<=s.toExpNeg||r>=s.toExpPos)):(ga(e,1,el),t===void 0?t=s.rounding:ga(t,0,8),i=bt(new s(i),e,t),r=ar(i),n=Bo(i,e<=r||r<=s.toExpNeg,e)),n};Ce.toSignificantDigits=Ce.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(ga(e,1,el),t===void 0?t=n.rounding:ga(t,0,8)),bt(new n(r),e,t)};Ce.toString=Ce.valueOf=Ce.val=Ce.toJSON=Ce[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=ar(e),r=e.constructor;return Bo(e,t<=r.toExpNeg||t>=r.toExpPos)};function cT(e,t){var r,n,i,s,c,u,m,h,g=e.constructor,p=g.precision;if(!e.s||!t.s)return t.s||(t=new g(e)),Tt?bt(t,p):t;if(m=e.d,h=t.d,c=e.e,i=t.e,m=m.slice(),s=c-i,s){for(s<0?(n=m,s=-s,u=h.length):(n=h,i=c,u=m.length),c=Math.ceil(p/Ot),u=c>u?c+1:u+1,s>u&&(s=u,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(u=m.length,s=h.length,u-s<0&&(s=u,n=h,h=m,m=n),r=0;s;)r=(m[--s]=m[s]+h[s]+r)/gr|0,m[s]%=gr;for(r&&(m.unshift(r),++i),u=m.length;m[--u]==0;)m.pop();return t.d=m,t.e=i,Tt?bt(t,p):t}function ga(e,t,r){if(e!==~~e||e<t||e>r)throw Error(To+e)}function da(e){var t,r,n,i=e.length-1,s="",c=e[0];if(i>0){for(s+=c,t=1;t<i;t++)n=e[t]+"",r=Ot-n.length,r&&(s+=zi(r)),s+=n;c=e[t],n=c+"",r=Ot-n.length,r&&(s+=zi(r))}else if(c===0)return"0";for(;c%10===0;)c/=10;return s+c}var Ha=(function(){function e(n,i){var s,c=0,u=n.length;for(n=n.slice();u--;)s=n[u]*i+c,n[u]=s%gr|0,c=s/gr|0;return c&&n.unshift(c),n}function t(n,i,s,c){var u,m;if(s!=c)m=s>c?1:-1;else for(u=m=0;u<s;u++)if(n[u]!=i[u]){m=n[u]>i[u]?1:-1;break}return m}function r(n,i,s){for(var c=0;s--;)n[s]-=c,c=n[s]<i[s]?1:0,n[s]=c*gr+n[s]-i[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,s,c){var u,m,h,g,p,_,x,w,j,S,O,C,A,k,D,M,L,X,re=n.constructor,ae=n.s==i.s?1:-1,G=n.d,B=i.d;if(!n.s)return new re(n);if(!i.s)throw Error(In+"Division by zero");for(m=n.e-i.e,L=B.length,D=G.length,x=new re(ae),w=x.d=[],h=0;B[h]==(G[h]||0);)++h;if(B[h]>(G[h]||0)&&--m,s==null?C=s=re.precision:c?C=s+(ar(n)-ar(i))+1:C=s,C<0)return new re(0);if(C=C/Ot+2|0,h=0,L==1)for(g=0,B=B[0],C++;(h<D||g)&&C--;h++)A=g*gr+(G[h]||0),w[h]=A/B|0,g=A%B|0;else{for(g=gr/(B[0]+1)|0,g>1&&(B=e(B,g),G=e(G,g),L=B.length,D=G.length),k=L,j=G.slice(0,L),S=j.length;S<L;)j[S++]=0;X=B.slice(),X.unshift(0),M=B[0],B[1]>=gr/2&&++M;do g=0,u=t(B,j,L,S),u<0?(O=j[0],L!=S&&(O=O*gr+(j[1]||0)),g=O/M|0,g>1?(g>=gr&&(g=gr-1),p=e(B,g),_=p.length,S=j.length,u=t(p,j,_,S),u==1&&(g--,r(p,L<_?X:B,_))):(g==0&&(u=g=1),p=B.slice()),_=p.length,_<S&&p.unshift(0),r(j,p,S),u==-1&&(S=j.length,u=t(B,j,L,S),u<1&&(g++,r(j,L<S?X:B,S))),S=j.length):u===0&&(g++,j=[0]),w[h++]=g,u&&j[0]?j[S++]=G[k]||0:(j=[G[k]],S=1);while((k++<D||j[0]!==void 0)&&C--)}return w[0]||w.shift(),x.e=m,bt(x,c?s+ar(x)+1:s)}})();function uT(e,t){var r,n,i,s,c,u,m=0,h=0,g=e.constructor,p=g.precision;if(ar(e)>16)throw Error(A0+ar(e));if(!e.s)return new g(hn);for(Tt=!1,u=p,c=new g(.03125);e.abs().gte(.1);)e=e.times(c),h+=5;for(n=Math.log(So(2,h))/Math.LN10*2+5|0,u+=n,r=i=s=new g(hn),g.precision=u;;){if(i=bt(i.times(e),u),r=r.times(++m),c=s.plus(Ha(i,r,u)),da(c.d).slice(0,u)===da(s.d).slice(0,u)){for(;h--;)s=bt(s.times(s),u);return g.precision=p,t==null?(Tt=!0,bt(s,p)):s}s=c}}function ar(e){for(var t=e.e*Ot,r=e.d[0];r>=10;r/=10)t++;return t}function Fv(e,t,r){if(t>e.LN10.sd())throw Tt=!0,r&&(e.precision=r),Error(In+"LN10 precision limit exceeded");return bt(new e(e.LN10),t)}function zi(e){for(var t="";e--;)t+="0";return t}function Rc(e,t){var r,n,i,s,c,u,m,h,g,p=1,_=10,x=e,w=x.d,j=x.constructor,S=j.precision;if(x.s<1)throw Error(In+(x.s?"NaN":"-Infinity"));if(x.eq(hn))return new j(0);if(t==null?(Tt=!1,h=S):h=t,x.eq(10))return t==null&&(Tt=!0),Fv(j,h);if(h+=_,j.precision=h,r=da(w),n=r.charAt(0),s=ar(x),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)x=x.times(e),r=da(x.d),n=r.charAt(0),p++;s=ar(x),n>1?(x=new j("0."+r),s++):x=new j(n+"."+r.slice(1))}else return m=Fv(j,h+2,S).times(s+""),x=Rc(new j(n+"."+r.slice(1)),h-_).plus(m),j.precision=S,t==null?(Tt=!0,bt(x,S)):x;for(u=c=x=Ha(x.minus(hn),x.plus(hn),h),g=bt(x.times(x),h),i=3;;){if(c=bt(c.times(g),h),m=u.plus(Ha(c,new j(i),h)),da(m.d).slice(0,h)===da(u.d).slice(0,h))return u=u.times(2),s!==0&&(u=u.plus(Fv(j,h+2,S).times(s+""))),u=Ha(u,new j(p),h),j.precision=S,t==null?(Tt=!0,bt(u,S)):u;u=m,i+=2}}function sC(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=tl(r/Ot),e.d=[],n=(r+1)%Ot,r<0&&(n+=Ot),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=Ot;n<i;)e.d.push(+t.slice(n,n+=Ot));t=t.slice(n),n=Ot-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),Tt&&(e.e>Vf||e.e<-Vf))throw Error(A0+r)}else e.s=0,e.e=0,e.d=[0];return e}function bt(e,t,r){var n,i,s,c,u,m,h,g,p=e.d;for(c=1,s=p[0];s>=10;s/=10)c++;if(n=t-c,n<0)n+=Ot,i=t,h=p[g=0];else{if(g=Math.ceil((n+1)/Ot),s=p.length,g>=s)return e;for(h=s=p[g],c=1;s>=10;s/=10)c++;n%=Ot,i=n-Ot+c}if(r!==void 0&&(s=So(10,c-i-1),u=h/s%10|0,m=t<0||p[g+1]!==void 0||h%s,m=r<4?(u||m)&&(r==0||r==(e.s<0?3:2)):u>5||u==5&&(r==4||m||r==6&&(n>0?i>0?h/So(10,c-i):0:p[g-1])%10&1||r==(e.s<0?8:7))),t<1||!p[0])return m?(s=ar(e),p.length=1,t=t-s-1,p[0]=So(10,(Ot-t%Ot)%Ot),e.e=tl(-t/Ot)||0):(p.length=1,p[0]=e.e=e.s=0),e;if(n==0?(p.length=g,s=1,g--):(p.length=g+1,s=So(10,Ot-n),p[g]=i>0?(h/So(10,c-i)%So(10,i)|0)*s:0),m)for(;;)if(g==0){(p[0]+=s)==gr&&(p[0]=1,++e.e);break}else{if(p[g]+=s,p[g]!=gr)break;p[g--]=0,s=1}for(n=p.length;p[--n]===0;)p.pop();if(Tt&&(e.e>Vf||e.e<-Vf))throw Error(A0+ar(e));return e}function dT(e,t){var r,n,i,s,c,u,m,h,g,p,_=e.constructor,x=_.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new _(e),Tt?bt(t,x):t;if(m=e.d,p=t.d,n=t.e,h=e.e,m=m.slice(),c=h-n,c){for(g=c<0,g?(r=m,c=-c,u=p.length):(r=p,n=h,u=m.length),i=Math.max(Math.ceil(x/Ot),u)+2,c>i&&(c=i,r.length=1),r.reverse(),i=c;i--;)r.push(0);r.reverse()}else{for(i=m.length,u=p.length,g=i<u,g&&(u=i),i=0;i<u;i++)if(m[i]!=p[i]){g=m[i]<p[i];break}c=0}for(g&&(r=m,m=p,p=r,t.s=-t.s),u=m.length,i=p.length-u;i>0;--i)m[u++]=0;for(i=p.length;i>c;){if(m[--i]<p[i]){for(s=i;s&&m[--s]===0;)m[s]=gr-1;--m[s],m[i]+=gr}m[i]-=p[i]}for(;m[--u]===0;)m.pop();for(;m[0]===0;m.shift())--n;return m[0]?(t.d=m,t.e=n,Tt?bt(t,x):t):new _(0)}function Bo(e,t,r){var n,i=ar(e),s=da(e.d),c=s.length;return t?(r&&(n=r-c)>0?s=s.charAt(0)+"."+s.slice(1)+zi(n):c>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+zi(-i-1)+s,r&&(n=r-c)>0&&(s+=zi(n))):i>=c?(s+=zi(i+1-c),r&&(n=r-i-1)>0&&(s=s+"."+zi(n))):((n=i+1)<c&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-c)>0&&(i+1===c&&(s+="."),s+=zi(n))),e.s<0?"-"+s:s}function lC(e,t){if(e.length>t)return e.length=t,!0}function fT(e){var t,r,n;function i(s){var c=this;if(!(c instanceof i))return new i(s);if(c.constructor=i,s instanceof i){c.s=s.s,c.e=s.e,c.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(To+s);if(s>0)c.s=1;else if(s<0)s=-s,c.s=-1;else{c.s=0,c.e=0,c.d=[0];return}if(s===~~s&&s<1e7){c.e=0,c.d=[s];return}return sC(c,s.toString())}else if(typeof s!="string")throw Error(To+s);if(s.charCodeAt(0)===45?(s=s.slice(1),c.s=-1):c.s=1,g8.test(s))sC(c,s);else throw Error(To+s)}if(i.prototype=Ce,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=fT,i.config=i.set=v8,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function v8(e){if(!e||typeof e!="object")throw Error(In+"Object expected");var t,r,n,i=["precision",1,el,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(tl(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(To+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(To+r+": "+n);return this}var N0=fT(p8);hn=new N0(1);const dt=N0;var y8=e=>e,mT={},hT=e=>e===mT,cC=e=>function t(){return arguments.length===0||arguments.length===1&&hT(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},pT=(e,t)=>e===1?t:cC(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=n.filter(c=>c!==mT).length;return s>=e?t(...n):pT(e-s,cC(function(){for(var c=arguments.length,u=new Array(c),m=0;m<c;m++)u[m]=arguments[m];var h=n.map(g=>hT(g)?u.shift():g);return t(...h,...u)}))}),b8=e=>pT(e.length,e),nb=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},_8=b8((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),x8=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return y8;var i=r.reverse(),s=i[0],c=i.slice(1);return function(){return c.reduce((u,m)=>m(u),s(...arguments))}};function gT(e){var t;return e===0?t=1:t=Math.floor(new dt(e).abs().log(10).toNumber())+1,t}function vT(e,t,r){for(var n=new dt(e),i=0,s=[];n.lt(t)&&i<1e5;)s.push(n.toNumber()),n=n.add(r),i++;return s}var yT=e=>{var[t,r]=e,[n,i]=[t,r];return t>r&&([n,i]=[r,t]),[n,i]},bT=(e,t,r)=>{if(e.lte(0))return new dt(0);var n=gT(e.toNumber()),i=new dt(10).pow(n),s=e.div(i),c=n!==1?.05:.1,u=new dt(Math.ceil(s.div(c).toNumber())).add(r).mul(c),m=u.mul(i);return t?new dt(m.toNumber()):new dt(Math.ceil(m.toNumber()))},w8=(e,t,r)=>{var n=new dt(1),i=new dt(e);if(!i.isint()&&r){var s=Math.abs(e);s<1?(n=new dt(10).pow(gT(e)-1),i=new dt(Math.floor(i.div(n).toNumber())).mul(n)):s>1&&(i=new dt(Math.floor(e)))}else e===0?i=new dt(Math.floor((t-1)/2)):r||(i=new dt(Math.floor(e)));var c=Math.floor((t-1)/2),u=x8(_8(m=>i.add(new dt(m-c).mul(n)).toNumber()),nb);return u(0,t)},_T=function(t,r,n,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new dt(0),tickMin:new dt(0),tickMax:new dt(0)};var c=bT(new dt(r).sub(t).div(n-1),i,s),u;t<=0&&r>=0?u=new dt(0):(u=new dt(t).add(r).div(2),u=u.sub(new dt(u).mod(c)));var m=Math.ceil(u.sub(t).div(c).toNumber()),h=Math.ceil(new dt(r).sub(u).div(c).toNumber()),g=m+h+1;return g>n?_T(t,r,n,i,s+1):(g<n&&(h=r>0?h+(n-g):h,m=r>0?m:m+(n-g)),{step:c,tickMin:u.sub(new dt(m).mul(c)),tickMax:u.add(new dt(h).mul(c))})},j8=function(t){var[r,n]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,c=Math.max(i,2),[u,m]=yT([r,n]);if(u===-1/0||m===1/0){var h=m===1/0?[u,...nb(0,i-1).map(()=>1/0)]:[...nb(0,i-1).map(()=>-1/0),m];return r>n?h.reverse():h}if(u===m)return w8(u,i,s);var{step:g,tickMin:p,tickMax:_}=_T(u,m,c,s,0),x=vT(p,_.add(new dt(.1).mul(g)),g);return r>n?x.reverse():x},S8=function(t,r){var[n,i]=t,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[c,u]=yT([n,i]);if(c===-1/0||u===1/0)return[n,i];if(c===u)return[c];var m=Math.max(r,2),h=bT(new dt(u).sub(c).div(m-1),s,0),g=[...vT(new dt(c),new dt(u),h),u];return s===!1&&(g=g.map(p=>Math.round(p))),n>i?g.reverse():g},xT=e=>e.rootProps.maxBarSize,E8=e=>e.rootProps.barGap,wT=e=>e.rootProps.barCategoryGap,O8=e=>e.rootProps.barSize,tu=e=>e.rootProps.stackOffset,jT=e=>e.rootProps.reverseStackOrder,k0=e=>e.options.chartName,D0=e=>e.rootProps.syncId,ST=e=>e.rootProps.syncMethod,T0=e=>e.options.eventEmitter,qZ=e=>e.rootProps.baseValue,nr={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Ia={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},mn={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Hm=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},C8={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Ia.angleAxisId,includeHidden:!1,name:void 0,reversed:Ia.reversed,scale:Ia.scale,tick:Ia.tick,tickCount:void 0,ticks:void 0,type:Ia.type,unit:void 0},A8={allowDataOverflow:mn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:mn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:mn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:mn.scale,tick:mn.tick,tickCount:mn.tickCount,ticks:void 0,type:mn.type,unit:void 0},N8={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Ia.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ia.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ia.scale,tick:Ia.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},k8={allowDataOverflow:mn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:mn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:mn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:mn.scale,tick:mn.tick,tickCount:mn.tickCount,ticks:void 0,type:"category",unit:void 0},P0=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?N8:C8,M0=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?k8:A8,Fm=e=>e.polarOptions,R0=W([ri,ni,cr],wD),ET=W([Fm,R0],(e,t)=>{if(e!=null)return Dr(e.innerRadius,t,0)}),OT=W([Fm,R0],(e,t)=>{if(e!=null)return Dr(e.outerRadius,t,t*.8)}),D8=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},CT=W([Fm],D8);W([P0,CT],Hm);var AT=W([R0,ET,OT],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});W([M0,AT],Hm);var NT=W([et,Fm,ET,OT,ri,ni],(e,t,r,n,i,s)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:c,cy:u,startAngle:m,endAngle:h}=t;return{cx:Dr(c,i,i/2),cy:Dr(u,s,s/2),innerRadius:r,outerRadius:n,startAngle:m,endAngle:h,clockWise:!1}}}),qt=(e,t)=>t,ru=(e,t,r)=>r;function q0(e){return e?.id}function kT(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:i,dataKey:s}=r,c=new Map;return e.forEach(u=>{var m,h=(m=u.data)!==null&&m!==void 0?m:n;if(!(h==null||h.length===0)){var g=q0(u);h.forEach((p,_)=>{var x=s==null||i?_:String(gt(p,s,null)),w=gt(p,u.dataKey,0),j;c.has(x)?j=c.get(x):j={},Object.assign(j,{[g]:w}),c.set(x,j)})}}),Array.from(c.values())}function Km(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var Ym=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Gm(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function T8(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var dr=e=>{var t=et(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},rl=e=>e.tooltip.settings.axisId;function uC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Wf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uC(Object(r),!0).forEach(function(n){P8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function P8(e,t,r){return(t=M8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function M8(e){var t=R8(e,"string");return typeof t=="symbol"?t:t+""}function R8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ab=[0,"auto"],hr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},DT=(e,t)=>e.cartesianAxis.xAxis[t],oi=(e,t)=>{var r=DT(e,t);return r??hr},pr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:ab,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Gc},TT=(e,t)=>e.cartesianAxis.yAxis[t],si=(e,t)=>{var r=TT(e,t);return r??pr},q8={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},z0=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??q8},Lt=(e,t,r)=>{switch(t){case"xAxis":return oi(e,r);case"yAxis":return si(e,r);case"zAxis":return z0(e,r);case"angleAxis":return P0(e,r);case"radiusAxis":return M0(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},z8=(e,t,r)=>{switch(t){case"xAxis":return oi(e,r);case"yAxis":return si(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},nu=(e,t,r)=>{switch(t){case"xAxis":return oi(e,r);case"yAxis":return si(e,r);case"angleAxis":return P0(e,r);case"radiusAxis":return M0(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},PT=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function L0(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var Vm=e=>e.graphicalItems.cartesianItems,L8=W([qt,ru],L0),I0=(e,t,r)=>e.filter(r).filter(n=>t?.includeHidden===!0?!0:!n.hide),au=W([Vm,Lt,L8],I0,{memoizeOptions:{resultEqualityCheck:Gm}}),MT=W([au],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Km)),RT=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),I8=W([au],RT),U0=e=>e.map(t=>t.data).filter(Boolean).flat(1),U8=W([au],U0,{memoizeOptions:{resultEqualityCheck:Gm}}),B0=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=t;return e.length>0?e:r.slice(n,i+1)},$0=W([U8,C0],B0),H0=(e,t,r)=>t?.dataKey!=null?e.map(n=>({value:gt(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(i=>({value:gt(i,n)}))):e.map(n=>({value:n})),Wm=W([$0,Lt,au],H0);function qT(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function cf(e){if(ha(e)||e instanceof Date){var t=Number(e);if(zt(t))return t}}function dC(e){if(Array.isArray(e)){var t=[cf(e[0]),cf(e[1])];return Fi(t)?t:void 0}var r=cf(e);if(r!=null)return[r,r]}function Za(e){return e.map(cf).filter(rI)}function B8(e,t,r){return!r||typeof t!="number"||ea(t)?[]:r.length?Za(r.flatMap(n=>{var i=gt(e,n.dataKey),s,c;if(Array.isArray(i)?[s,c]=i:s=c=i,!(!zt(s)||!zt(c)))return[t-s,t+c]})):[]}var fr=e=>{var t=dr(e),r=rl(e);return nu(e,t,r)},iu=W([fr],e=>e?.dataKey),$8=W([MT,C0,fr],kT),zT=(e,t,r,n)=>{var i={},s=t.reduce((c,u)=>{if(u.stackId==null)return c;var m=c[u.stackId];return m==null&&(m=[]),m.push(u),c[u.stackId]=m,c},i);return Object.fromEntries(Object.entries(s).map(c=>{var[u,m]=c,h=n?[...m].reverse():m,g=h.map(q0);return[u,{stackedData:x5(e,g,r),graphicalItems:h}]}))},ib=W([$8,MT,tu,jT],zT),LT=(e,t,r,n)=>{var{dataStartIndex:i,dataEndIndex:s}=t;if(n==null&&r!=="zAxis"){var c=O5(e,i,s);if(!(c!=null&&c[0]===0&&c[1]===0))return c}},H8=W([Lt],e=>e.allowDataOverflow),F0=e=>{var t;if(e==null||!("domain"in e))return ab;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var r=Za(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:ab},K0=W([Lt],F0),Y0=W([K0,H8],sT),F8=W([ib,ii,qt,Y0],LT,{memoizeOptions:{resultEqualityCheck:Ym}}),Xm=e=>e.errorBars,K8=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>qT(r,n)),Xf=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var s=i.flat(),c=Math.min(...s),u=Math.max(...s);return[c,u]}},G0=(e,t,r,n,i)=>{var s,c;if(r.length>0&&e.forEach(u=>{r.forEach(m=>{var h,g,p=(h=n[m.id])===null||h===void 0?void 0:h.filter(O=>qT(i,O)),_=gt(u,(g=t.dataKey)!==null&&g!==void 0?g:m.dataKey),x=B8(u,_,p);if(x.length>=2){var w=Math.min(...x),j=Math.max(...x);(s==null||w<s)&&(s=w),(c==null||j>c)&&(c=j)}var S=dC(_);S!=null&&(s=s==null?S[0]:Math.min(s,S[0]),c=c==null?S[1]:Math.max(c,S[1]))})}),t?.dataKey!=null&&e.forEach(u=>{var m=dC(gt(u,t.dataKey));m!=null&&(s=s==null?m[0]:Math.min(s,m[0]),c=c==null?m[1]:Math.max(c,m[1]))}),zt(s)&&zt(c))return[s,c]},Y8=W([$0,Lt,I8,Xm,qt],G0,{memoizeOptions:{resultEqualityCheck:Ym}});function G8(e){var{value:t}=e;if(ha(t)||t instanceof Date)return t}var V8=(e,t,r)=>{var n=e.map(G8).filter(i=>i!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&ek(n))?OD(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},IT=e=>e.referenceElements.dots,nl=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),W8=W([IT,qt,ru],nl),UT=e=>e.referenceElements.areas,X8=W([UT,qt,ru],nl),BT=e=>e.referenceElements.lines,Z8=W([BT,qt,ru],nl),$T=(e,t)=>{if(e!=null){var r=Za(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},Q8=W(W8,qt,$T),HT=(e,t)=>{if(e!=null){var r=Za(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},J8=W([X8,qt],HT);function eH(e){var t;if(e.x!=null)return Za([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:Za(r)}function tH(e){var t;if(e.y!=null)return Za([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:Za(r)}var FT=(e,t)=>{if(e!=null){var r=e.flatMap(n=>t==="xAxis"?eH(n):tH(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},rH=W([Z8,qt],FT),nH=W(Q8,rH,J8,(e,t,r)=>Xf(e,r,t)),V0=(e,t,r,n,i,s,c,u)=>{if(r!=null)return r;var m=c==="vertical"&&u==="xAxis"||c==="horizontal"&&u==="yAxis",h=m?Xf(n,s,i):Xf(s,i);return h8(t,h,e.allowDataOverflow)},aH=W([Lt,K0,Y0,F8,Y8,nH,et,qt],V0,{memoizeOptions:{resultEqualityCheck:Ym}}),iH=[0,1],W0=(e,t,r,n,i,s,c)=>{if(!((e==null||r==null||r.length===0)&&c===void 0)){var{dataKey:u,type:m}=e,h=Wi(t,s);if(h&&u==null){var g;return OD(0,(g=r?.length)!==null&&g!==void 0?g:0)}return m==="category"?V8(n,e,h):i==="expand"?iH:c}},X0=W([Lt,et,$0,Wm,tu,qt,aH],W0),KT=(e,t,r,n,i)=>{if(e!=null){var{scale:s,type:c}=e;if(s==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":c==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":c==="category"?"band":"linear";if(typeof s=="string"){var u="scale".concat(Hc(s));return u in yc?u:"point"}}},al=W([Lt,et,PT,k0,qt],KT);function oH(e){if(e!=null){if(e in yc)return yc[e]();var t="scale".concat(Hc(e));if(t in yc)return yc[t]()}}function Z0(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var i=oH(t);if(i!=null){var s=i.domain(r).range(n);return g5(s),s}}}var Q0=(e,t,r)=>{var n=F0(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Fi(e))return j8(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Fi(e))return S8(e,t.tickCount,t.allowDecimals)}},J0=W([X0,nu,al],Q0),e_=(e,t,r,n)=>{if(n!=="angleAxis"&&e?.type==="number"&&Fi(t)&&Array.isArray(r)&&r.length>0){var i=t[0],s=r[0],c=t[1],u=r[r.length-1];return[Math.min(i,s),Math.max(c,u)]}return t},sH=W([Lt,X0,J0,qt],e_),lH=W(Wm,Lt,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Za(e.map(p=>p.value))).sort((p,_)=>p-_),i=n[0],s=n[n.length-1];if(i==null||s==null)return 1/0;var c=s-i;if(c===0)return 1/0;for(var u=0;u<n.length-1;u++){var m=n[u],h=n[u+1];if(!(m==null||h==null)){var g=h-m;r=Math.min(r,g)}}return r/c}}),YT=W(lH,et,wT,cr,(e,t,r,n,i)=>i,(e,t,r,n,i)=>{if(!zt(e))return 0;var s=t==="vertical"?n.height:n.width;if(i==="gap")return e*s/2;if(i==="no-gap"){var c=Dr(r,e*s),u=e*s/2;return u-c-(u-c)/s*c}return 0}),cH=(e,t,r)=>{var n=oi(e,t);return n==null||typeof n.padding!="string"?0:YT(e,"xAxis",t,r,n.padding)},uH=(e,t,r)=>{var n=si(e,t);return n==null||typeof n.padding!="string"?0:YT(e,"yAxis",t,r,n.padding)},dH=W(oi,cH,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((r=i.left)!==null&&r!==void 0?r:0)+t,right:((n=i.right)!==null&&n!==void 0?n:0)+t}}),fH=W(si,uH,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((r=i.top)!==null&&r!==void 0?r:0)+t,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+t}}),mH=W([cr,dH,Nm,Am,(e,t,r)=>r],(e,t,r,n,i)=>{var{padding:s}=n;return i?[s.left,r.width-s.right]:[e.left+t.left,e.left+e.width-t.right]}),hH=W([cr,et,fH,Nm,Am,(e,t,r)=>r],(e,t,r,n,i,s)=>{var{padding:c}=i;return s?[n.height-c.bottom,c.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),ou=(e,t,r,n)=>{var i;switch(t){case"xAxis":return mH(e,r,n);case"yAxis":return hH(e,r,n);case"zAxis":return(i=z0(e,r))===null||i===void 0?void 0:i.range;case"angleAxis":return CT(e);case"radiusAxis":return AT(e,r);default:return}},GT=W([Lt,ou],Hm),Zm=W([Lt,al,sH,GT],Z0);W([au,Xm,qt],K8);function VT(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Qm=(e,t)=>t,Jm=(e,t,r)=>r,pH=W(Om,Qm,Jm,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(VT)),gH=W(Cm,Qm,Jm,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(VT)),WT=(e,t)=>({width:e.width,height:t.height}),vH=(e,t)=>{var r=typeof t.width=="number"?t.width:Gc;return{width:r,height:e.height}},XT=W(cr,oi,WT),yH=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},bH=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},_H=W(ni,cr,pH,Qm,Jm,(e,t,r,n,i)=>{var s={},c;return r.forEach(u=>{var m=WT(t,u);c==null&&(c=yH(t,n,e));var h=n==="top"&&!i||n==="bottom"&&i;s[u.id]=c-Number(h)*m.height,c+=(h?-1:1)*m.height}),s}),xH=W(ri,cr,gH,Qm,Jm,(e,t,r,n,i)=>{var s={},c;return r.forEach(u=>{var m=vH(t,u);c==null&&(c=bH(t,n,e));var h=n==="left"&&!i||n==="right"&&i;s[u.id]=c-Number(h)*m.width,c+=(h?-1:1)*m.width}),s}),wH=(e,t)=>{var r=oi(e,t);if(r!=null)return _H(e,r.orientation,r.mirror)},jH=W([cr,oi,wH,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r?.[n];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),SH=(e,t)=>{var r=si(e,t);if(r!=null)return xH(e,r.orientation,r.mirror)},EH=W([cr,si,SH,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r?.[n];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),ZT=W(cr,si,(e,t)=>{var r=typeof t.width=="number"?t.width:Gc;return{width:r,height:e.height}}),fC=(e,t,r)=>{switch(t){case"xAxis":return XT(e,r).width;case"yAxis":return ZT(e,r).height;default:return}},QT=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:s,dataKey:c}=r,u=Wi(e,n),m=t.map(h=>h.value);if(c&&u&&s==="category"&&i&&ek(m))return m}},t_=W([et,Wm,Lt,qt],QT),JT=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:s}=r,c=Wi(e,n);if(c&&(i==="number"||s!=="auto"))return t.map(u=>u.value)}},r_=W([et,Wm,nu,qt],JT),mC=W([et,z8,al,Zm,t_,r_,ou,J0,qt],(e,t,r,n,i,s,c,u,m)=>{if(t!=null){var h=Wi(e,m);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:m,categoricalDomain:s,duplicateDomain:i,isCategorical:h,niceTicks:u,range:c,realScaleType:r,scale:n}}}),OH=(e,t,r,n,i,s,c,u,m)=>{if(!(t==null||n==null)){var h=Wi(e,m),{type:g,ticks:p,tickCount:_}=t,x=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,w=g==="category"&&n.bandwidth?n.bandwidth()/x:0;w=m==="angleAxis"&&s!=null&&s.length>=2?vr(s[0]-s[1])*2*w:w;var j=p||i;if(j){var S=j.map((O,C)=>{var A=c?c.indexOf(O):O;return{index:C,coordinate:n(A)+w,value:O,offset:w}});return S.filter(O=>zt(O.coordinate))}return h&&u?u.map((O,C)=>({coordinate:n(O)+w,value:O,index:C,offset:w})).filter(O=>zt(O.coordinate)):n.ticks?n.ticks(_).map(O=>({coordinate:n(O)+w,value:O,offset:w})):n.domain().map((O,C)=>({coordinate:n(O)+w,value:c?c[O]:O,index:C,offset:w}))}},eP=W([et,nu,al,Zm,J0,ou,t_,r_,qt],OH),CH=(e,t,r,n,i,s,c)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var u=Wi(e,c),{tickCount:m}=t,h=0;return h=c==="angleAxis"&&n?.length>=2?vr(n[0]-n[1])*2*h:h,u&&s?s.map((g,p)=>({coordinate:r(g)+h,value:g,index:p,offset:h})):r.ticks?r.ticks(m).map(g=>({coordinate:r(g)+h,value:g,offset:h})):r.domain().map((g,p)=>({coordinate:r(g)+h,value:i?i[g]:g,index:p,offset:h}))}},Ki=W([et,nu,Zm,ou,t_,r_,qt],CH),Yi=W(Lt,Zm,(e,t)=>{if(!(e==null||t==null))return Wf(Wf({},e),{},{scale:t})}),AH=W([Lt,al,X0,GT],Z0);W((e,t,r)=>z0(e,r),AH,(e,t)=>{if(!(e==null||t==null))return Wf(Wf({},e),{},{scale:t})});var NH=W([et,Om,Cm],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),tP=e=>e.options.defaultTooltipEventType,rP=e=>e.options.validateTooltipEventTypes;function nP(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function n_(e,t){var r=tP(e),n=rP(e);return nP(t,r,n)}function kH(e){return De(t=>n_(t,e))}var aP=(e,t)=>{var r,n=Number(t);if(!(ea(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},DH=e=>e.tooltip.settings,Ii={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},TH={itemInteraction:{click:Ii,hover:Ii},axisInteraction:{click:Ii,hover:Ii},keyboardInteraction:Ii,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},iP=Qr({name:"tooltip",initialState:TH,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:kt()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,i=Qn(e).tooltipItemPayloads.indexOf(r);i>-1&&(e.tooltipItemPayloads[i]=n)},prepare:kt()},removeTooltipEntrySettings:{reducer(e,t){var r=Qn(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:kt()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:PH,replaceTooltipEntrySettings:MH,removeTooltipEntrySettings:RH,setTooltipSettingsState:qH,setActiveMouseOverItemIndex:oP,mouseLeaveItem:zH,mouseLeaveChart:sP,setActiveClickItemIndex:LH,setMouseOverAxisIndex:lP,setMouseClickAxisIndex:IH,setSyncInteraction:ob,setKeyboardInteraction:sb}=iP.actions,UH=iP.reducer;function hC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Yd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hC(Object(r),!0).forEach(function(n){BH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BH(e,t,r){return(t=$H(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $H(e){var t=HH(e,"string");return typeof t=="symbol"?t:t+""}function HH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function FH(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function KH(e){return e.index!=null}var cP=(e,t,r,n)=>{if(t==null)return Ii;var i=FH(e,t,r);if(i==null)return Ii;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var s=e.settings.active===!0;if(KH(i)){if(s)return Yd(Yd({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return Yd(Yd({},Ii),{},{coordinate:i.coordinate})};function YH(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function GH(e,t){var r=YH(e),n=t[0],i=t[1];if(r===void 0)return!1;var s=Math.min(n,i),c=Math.max(n,i);return r>=s&&r<=c}function VH(e,t,r){if(r==null||t==null)return!0;var n=gt(e,t);return n==null||!Fi(r)?!0:GH(n,r)}var a_=(e,t,r,n)=>{var i=e?.index;if(i==null)return null;var s=Number(i);if(!zt(s))return i;var c=0,u=1/0;t.length>0&&(u=t.length-1);var m=Math.max(c,Math.min(s,u)),h=t[m];return h==null||VH(h,r,n)?String(m):null},uP=(e,t,r,n,i,s,c,u)=>{if(!(s==null||u==null)){var m=c[0],h=m==null?void 0:u(m.positions,s);if(h!=null)return h;var g=i?.[Number(s)];if(g)switch(r){case"horizontal":return{x:g.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:g.coordinate}}}},dP=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;if(r==="hover"?i=e.itemInteraction.hover.graphicalItemId:i=e.itemInteraction.click.graphicalItemId,i==null&&n!=null){var s=e.tooltipItemPayloads[0];return s!=null?[s]:[]}return e.tooltipItemPayloads.filter(c=>{var u;return((u=c.settings)===null||u===void 0?void 0:u.graphicalItemId)===i})},su=e=>e.options.tooltipPayloadSearcher,il=e=>e.tooltip;function pC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function gC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pC(Object(r),!0).forEach(function(n){WH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WH(e,t,r){return(t=XH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XH(e){var t=ZH(e,"string");return typeof t=="symbol"?t:t+""}function ZH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function QH(e,t){return e??t}var fP=(e,t,r,n,i,s,c)=>{if(!(t==null||s==null)){var{chartData:u,computedData:m,dataStartIndex:h,dataEndIndex:g}=r,p=[];return e.reduce((_,x)=>{var w,{dataDefinedOnItem:j,settings:S}=x,O=QH(j,u),C=Array.isArray(O)?Gk(O,h,g):O,A=(w=S?.dataKey)!==null&&w!==void 0?w:n,k=S?.nameKey,D;if(n&&Array.isArray(C)&&!Array.isArray(C[0])&&c==="axis"?D=tk(C,n,i):D=s(C,t,m,k),Array.isArray(D))D.forEach(L=>{var X=gC(gC({},S),{},{name:L.name,unit:L.unit,color:void 0,fill:void 0});_.push(xE({tooltipEntrySettings:X,dataKey:L.dataKey,payload:L.payload,value:gt(L.payload,L.dataKey),name:L.name}))});else{var M;_.push(xE({tooltipEntrySettings:S,dataKey:A,payload:D,value:gt(D,A),name:(M=gt(D,k))!==null&&M!==void 0?M:S?.name}))}return _},p)}},i_=W([fr,et,PT,k0,dr],KT),JH=W([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),e9=W([dr,rl],L0),ol=W([JH,fr,e9],I0,{memoizeOptions:{resultEqualityCheck:Gm}}),t9=W([ol],e=>e.filter(Km)),r9=W([ol],U0,{memoizeOptions:{resultEqualityCheck:Gm}}),sl=W([r9,ii],B0),n9=W([t9,ii,fr],kT),o_=W([sl,fr,ol],H0),mP=W([fr],F0),a9=W([fr],e=>e.allowDataOverflow),hP=W([mP,a9],sT),i9=W([ol],e=>e.filter(Km)),o9=W([n9,i9,tu,jT],zT),s9=W([o9,ii,dr,hP],LT),l9=W([ol],RT),c9=W([sl,fr,l9,Xm,dr],G0,{memoizeOptions:{resultEqualityCheck:Ym}}),u9=W([IT,dr,rl],nl),d9=W([u9,dr],$T),f9=W([UT,dr,rl],nl),m9=W([f9,dr],HT),h9=W([BT,dr,rl],nl),p9=W([h9,dr],FT),g9=W([d9,p9,m9],Xf),v9=W([fr,mP,hP,s9,c9,g9,et,dr],V0),lu=W([fr,et,sl,o_,tu,dr,v9],W0),y9=W([lu,fr,i_],Q0),b9=W([fr,lu,y9,dr],e_),pP=e=>{var t=dr(e),r=rl(e),n=!1;return ou(e,t,r,n)},gP=W([fr,pP],Hm),vP=W([fr,i_,b9,gP],Z0),_9=W([et,o_,fr,dr],QT),x9=W([et,o_,fr,dr],JT),w9=(e,t,r,n,i,s,c,u)=>{if(t){var{type:m}=t,h=Wi(e,u);if(n){var g=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,p=m==="category"&&n.bandwidth?n.bandwidth()/g:0;return p=u==="angleAxis"&&i!=null&&i?.length>=2?vr(i[0]-i[1])*2*p:p,h&&c?c.map((_,x)=>({coordinate:n(_)+p,value:_,index:x,offset:p})):n.domain().map((_,x)=>({coordinate:n(_)+p,value:s?s[_]:_,index:x,offset:p}))}}},li=W([et,fr,i_,vP,pP,_9,x9,dr],w9),s_=W([tP,rP,DH],(e,t,r)=>nP(r.shared,e,t)),yP=e=>e.tooltip.settings.trigger,l_=e=>e.tooltip.settings.defaultIndex,cu=W([il,s_,yP,l_],cP),Gi=W([cu,sl,iu,lu],a_),bP=W([li,Gi],aP),c_=W([cu],e=>{if(e)return e.dataKey}),j9=W([cu],e=>{if(e)return e.graphicalItemId}),_P=W([il,s_,yP,l_],dP),S9=W([ri,ni,et,cr,li,l_,_P,su],uP),E9=W([cu,S9],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),O9=W([cu],e=>{var t;return(t=e?.active)!==null&&t!==void 0?t:!1}),C9=W([_P,Gi,ii,iu,bP,su,s_],fP),A9=W([C9],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function vC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function yC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vC(Object(r),!0).forEach(function(n){N9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function N9(e,t,r){return(t=k9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k9(e){var t=D9(e,"string");return typeof t=="symbol"?t:t+""}function D9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var T9=()=>De(fr),P9=()=>{var e=T9(),t=De(li),r=De(vP);return Fs(!e||!r?void 0:yC(yC({},e),{},{scale:r}),t)};function bC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Rs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bC(Object(r),!0).forEach(function(n){M9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function M9(e,t,r){return(t=R9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R9(e){var t=q9(e,"string");return typeof t=="symbol"?t:t+""}function q9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var z9=(e,t,r,n)=>{var i=t.find(s=>s&&s.index===r);if(i){if(e==="horizontal")return{x:i.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:i.coordinate}}return{x:0,y:0}},L9=(e,t,r,n)=>{var i=t.find(h=>h&&h.index===r);if(i){if(e==="centric"){var s=i.coordinate,{radius:c}=n;return Rs(Rs(Rs({},n),rr(n.cx,n.cy,c,s)),{},{angle:s,radius:c})}var u=i.coordinate,{angle:m}=n;return Rs(Rs(Rs({},n),rr(n.cx,n.cy,u,m)),{},{angle:m,radius:u})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function I9(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var xP=(e,t,r,n,i)=>{var s,c=(s=t?.length)!==null&&s!==void 0?s:0;if(c<=1||e==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var u=0;u<c;u++){var m,h,g,p,_,x=u>0?(m=r[u-1])===null||m===void 0?void 0:m.coordinate:(h=r[c-1])===null||h===void 0?void 0:h.coordinate,w=(g=r[u])===null||g===void 0?void 0:g.coordinate,j=u>=c-1?(p=r[0])===null||p===void 0?void 0:p.coordinate:(_=r[u+1])===null||_===void 0?void 0:_.coordinate,S=void 0;if(!(x==null||w==null||j==null))if(vr(w-x)!==vr(j-w)){var O=[];if(vr(j-w)===vr(i[1]-i[0])){S=j;var C=w+i[1]-i[0];O[0]=Math.min(C,(C+x)/2),O[1]=Math.max(C,(C+x)/2)}else{S=x;var A=j+i[1]-i[0];O[0]=Math.min(w,(A+w)/2),O[1]=Math.max(w,(A+w)/2)}var k=[Math.min(w,(S+w)/2),Math.max(w,(S+w)/2)];if(e>k[0]&&e<=k[1]||e>=O[0]&&e<=O[1]){var D;return(D=r[u])===null||D===void 0?void 0:D.index}}else{var M=Math.min(x,j),L=Math.max(x,j);if(e>(M+w)/2&&e<=(L+w)/2){var X;return(X=r[u])===null||X===void 0?void 0:X.index}}}else if(t)for(var re=0;re<c;re++){var ae=t[re];if(ae!=null){var G=t[re+1],B=t[re-1];if(re===0&&G!=null&&e<=(ae.coordinate+G.coordinate)/2||re===c-1&&B!=null&&e>(ae.coordinate+B.coordinate)/2||re>0&&re<c-1&&B!=null&&G!=null&&e>(ae.coordinate+B.coordinate)/2&&e<=(ae.coordinate+G.coordinate)/2)return ae.index}}return-1},U9=()=>De(k0),u_=(e,t)=>t,wP=(e,t,r)=>r,d_=(e,t,r,n)=>n,B9=W(li,e=>gm(e,t=>t.coordinate)),f_=W([il,u_,wP,d_],cP),m_=W([f_,sl,iu,lu],a_),$9=(e,t,r)=>{if(t!=null){var n=il(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},jP=W([il,u_,wP,d_],dP),Zf=W([ri,ni,et,cr,li,d_,jP,su],uP),H9=W([f_,Zf],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),SP=W([li,m_],aP),F9=W([jP,m_,ii,iu,SP,su,u_],fP),K9=W([f_,m_],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),Y9=(e,t,r,n,i,s,c)=>{if(!(!e||!r||!n||!i)&&I9(e,c)){var u=C5(e,t),m=xP(u,s,i,r,n),h=z9(t,i,m,e);return{activeIndex:String(m),activeCoordinate:h}}},G9=(e,t,r,n,i,s,c)=>{if(!(!e||!n||!i||!s||!r)){var u=N6(e,r);if(u){var m=A5(u,t),h=xP(m,c,s,n,i),g=L9(t,s,h,u);return{activeIndex:String(h),activeCoordinate:g}}}},V9=(e,t,r,n,i,s,c,u)=>{if(!(!e||!t||!n||!i||!s))return t==="horizontal"||t==="vertical"?Y9(e,t,n,i,s,c,u):G9(e,t,r,n,i,s,c)},W9=W(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElement:n.element}}),X9=W(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(nr)),r=Array.from(new Set(t));return r.sort((n,i)=>n-i)},{memoizeOptions:{resultEqualityCheck:T8}});function _C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_C(Object(r),!0).forEach(function(n){Z9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_C(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Z9(e,t,r){return(t=Q9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Q9(e){var t=J9(e,"string");return typeof t=="symbol"?t:t+""}function J9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eF={},tF={zIndexMap:Object.values(nr).reduce((e,t)=>xC(xC({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),eF)},rF=new Set(Object.values(nr));function nF(e){return rF.has(e)}var EP=Qr({name:"zIndex",initialState:tF,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:kt()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!nF(r)&&delete e.zIndexMap[r])},prepare:kt()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r,element:n,isPanorama:i}=t.payload;e.zIndexMap[r]?i?e.zIndexMap[r].panoramaElement=n:e.zIndexMap[r].element=n:e.zIndexMap[r]={consumers:0,element:i?void 0:n,panoramaElement:i?n:void 0}},prepare:kt()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElement=void 0:e.zIndexMap[r].element=void 0)},prepare:kt()}}}),{registerZIndexPortal:aF,unregisterZIndexPortal:iF,registerZIndexPortalElement:oF,unregisterZIndexPortalElement:sF}=EP.actions,lF=EP.reducer;function Jr(e){var{zIndex:t,children:r}=e,n=aU(),i=n&&t!==void 0&&t!==0,s=Tr(),c=Rt();y.useLayoutEffect(()=>i?(c(aF({zIndex:t})),()=>{c(iF({zIndex:t}))}):Fc,[c,t,i]);var u=De(m=>W9(m,t,s));return i?u?xN.createPortal(r,u):null:r}function lb(){return lb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lb.apply(null,arguments)}function wC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Gd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wC(Object(r),!0).forEach(function(n){cF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cF(e,t,r){return(t=uF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uF(e){var t=dF(e,"string");return typeof t=="symbol"?t:t+""}function dF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fF(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return y.isValidElement(t)?y.cloneElement(t,n):y.createElement(r,n)}function mF(e){var t,{coordinate:r,payload:n,index:i,offset:s,tooltipAxisBandSize:c,layout:u,cursor:m,tooltipEventType:h,chartName:g}=e,p=r,_=n,x=i;if(!m||!p||g!=="ScatterChart"&&h!=="axis")return null;var w,j,S;if(g==="ScatterChart")w=p,j=HU,S=nr.cursorLine;else if(g==="BarChart")w=FU(u,p,s,c),j=xD,S=nr.cursorRectangle;else if(u==="radial"&&ak(p)){var{cx:O,cy:C,radius:A,startAngle:k,endAngle:D}=jD(p);w={cx:O,cy:C,startAngle:k,endAngle:D,innerRadius:A,outerRadius:A},j=ED,S=nr.cursorLine}else w={points:P6(u,p,s)},j=n0,S=nr.cursorLine;var M=typeof m=="object"&&"className"in m?m.className:void 0,L=Gd(Gd(Gd(Gd({stroke:"#ccc",pointerEvents:"none"},s),w),Ro(m)),{},{payload:_,payloadIndex:x,className:st("recharts-tooltip-cursor",M)});return y.createElement(Jr,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:S},y.createElement(fF,{cursor:m,cursorComp:j,cursorProps:L}))}function hF(e){var t=P9(),r=nD(),n=Yo(),i=U9();return t==null||r==null||n==null||i==null?null:y.createElement(mF,lb({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:i}))}var OP=y.createContext(null),pF=()=>y.useContext(OP),Kv={exports:{}},jC;function gF(){return jC||(jC=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(m,h,g){this.fn=m,this.context=h,this.once=g||!1}function s(m,h,g,p,_){if(typeof g!="function")throw new TypeError("The listener must be a function");var x=new i(g,p||m,_),w=r?r+h:h;return m._events[w]?m._events[w].fn?m._events[w]=[m._events[w],x]:m._events[w].push(x):(m._events[w]=x,m._eventsCount++),m}function c(m,h){--m._eventsCount===0?m._events=new n:delete m._events[h]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var h=[],g,p;if(this._eventsCount===0)return h;for(p in g=this._events)t.call(g,p)&&h.push(r?p.slice(1):p);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(g)):h},u.prototype.listeners=function(h){var g=r?r+h:h,p=this._events[g];if(!p)return[];if(p.fn)return[p.fn];for(var _=0,x=p.length,w=new Array(x);_<x;_++)w[_]=p[_].fn;return w},u.prototype.listenerCount=function(h){var g=r?r+h:h,p=this._events[g];return p?p.fn?1:p.length:0},u.prototype.emit=function(h,g,p,_,x,w){var j=r?r+h:h;if(!this._events[j])return!1;var S=this._events[j],O=arguments.length,C,A;if(S.fn){switch(S.once&&this.removeListener(h,S.fn,void 0,!0),O){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,g),!0;case 3:return S.fn.call(S.context,g,p),!0;case 4:return S.fn.call(S.context,g,p,_),!0;case 5:return S.fn.call(S.context,g,p,_,x),!0;case 6:return S.fn.call(S.context,g,p,_,x,w),!0}for(A=1,C=new Array(O-1);A<O;A++)C[A-1]=arguments[A];S.fn.apply(S.context,C)}else{var k=S.length,D;for(A=0;A<k;A++)switch(S[A].once&&this.removeListener(h,S[A].fn,void 0,!0),O){case 1:S[A].fn.call(S[A].context);break;case 2:S[A].fn.call(S[A].context,g);break;case 3:S[A].fn.call(S[A].context,g,p);break;case 4:S[A].fn.call(S[A].context,g,p,_);break;default:if(!C)for(D=1,C=new Array(O-1);D<O;D++)C[D-1]=arguments[D];S[A].fn.apply(S[A].context,C)}}return!0},u.prototype.on=function(h,g,p){return s(this,h,g,p,!1)},u.prototype.once=function(h,g,p){return s(this,h,g,p,!0)},u.prototype.removeListener=function(h,g,p,_){var x=r?r+h:h;if(!this._events[x])return this;if(!g)return c(this,x),this;var w=this._events[x];if(w.fn)w.fn===g&&(!_||w.once)&&(!p||w.context===p)&&c(this,x);else{for(var j=0,S=[],O=w.length;j<O;j++)(w[j].fn!==g||_&&!w[j].once||p&&w[j].context!==p)&&S.push(w[j]);S.length?this._events[x]=S.length===1?S[0]:S:c(this,x)}return this},u.prototype.removeAllListeners=function(h){var g;return h?(g=r?r+h:h,this._events[g]&&c(this,g)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,e.exports=u})(Kv)),Kv.exports}var vF=gF();const yF=Ja(vF);var qc=new yF,cb="recharts.syncEvent.tooltip",SC="recharts.syncEvent.brush";function h_(e,t){if(t){var r=Number.parseInt(t,10);if(!ea(r))return e?.[r]}}var bF={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},CP=Qr({name:"options",initialState:bF,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),_F=CP.reducer,{createEventEmitter:xF}=CP.actions;function wF(e){return e.tooltip.syncInteraction}var jF={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},AP=Qr({name:"chartData",initialState:jF,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:EC,setDataStartEndIndexes:SF,setComputedData:zZ}=AP.actions,EF=AP.reducer,OF=["x","y"];function OC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function qs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OC(Object(r),!0).forEach(function(n){CF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CF(e,t,r){return(t=AF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AF(e){var t=NF(e,"string");return typeof t=="symbol"?t:t+""}function NF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kF(e,t){if(e==null)return{};var r,n,i=DF(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function DF(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function TF(){var e=De(D0),t=De(T0),r=Rt(),n=De(ST),i=De(li),s=Yo(),c=km(),u=De(m=>m.rootProps.className);y.useEffect(()=>{if(e==null)return Fc;var m=(h,g,p)=>{if(t!==p&&e===h){if(n==="index"){var _;if(c&&g!==null&&g!==void 0&&(_=g.payload)!==null&&_!==void 0&&_.coordinate&&g.payload.sourceViewBox){var x=g.payload.coordinate,{x:w,y:j}=x,S=kF(x,OF),{x:O,y:C,width:A,height:k}=g.payload.sourceViewBox,D=qs(qs({},S),{},{x:c.x+(A?(w-O)/A:0)*c.width,y:c.y+(k?(j-C)/k:0)*c.height});r(qs(qs({},g),{},{payload:qs(qs({},g.payload),{},{coordinate:D})}))}else r(g);return}if(i!=null){var M;if(typeof n=="function"){var L={activeTooltipIndex:g.payload.index==null?void 0:Number(g.payload.index),isTooltipActive:g.payload.active,activeIndex:g.payload.index==null?void 0:Number(g.payload.index),activeLabel:g.payload.label,activeDataKey:g.payload.dataKey,activeCoordinate:g.payload.coordinate},X=n(i,L);M=i[X]}else n==="value"&&(M=i.find(R=>String(R.value)===g.payload.label));var{coordinate:re}=g.payload;if(M==null||g.payload.active===!1||re==null||c==null){r(ob({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:ae,y:G}=re,B=Math.min(ae,c.x+c.width),ce=Math.min(G,c.y+c.height),ge={x:s==="horizontal"?M.coordinate:B,y:s==="horizontal"?ce:M.coordinate},q=ob({active:g.payload.active,coordinate:ge,dataKey:g.payload.dataKey,index:String(M.index),label:g.payload.label,sourceViewBox:g.payload.sourceViewBox,graphicalItemId:g.payload.graphicalItemId});r(q)}}};return qc.on(cb,m),()=>{qc.off(cb,m)}},[u,r,t,e,n,i,s,c])}function PF(){var e=De(D0),t=De(T0),r=Rt();y.useEffect(()=>{if(e==null)return Fc;var n=(i,s,c)=>{t!==c&&e===i&&r(SF(s))};return qc.on(SC,n),()=>{qc.off(SC,n)}},[r,t,e])}function MF(){var e=Rt();y.useEffect(()=>{e(xF())},[e]),TF(),PF()}function RF(e,t,r,n,i,s){var c=De(x=>$9(x,e,t)),u=De(T0),m=De(D0),h=De(ST),g=De(wF),p=g?.active,_=km();y.useEffect(()=>{if(!p&&m!=null&&u!=null){var x=ob({active:s,coordinate:r,dataKey:c,index:i,label:typeof n=="number"?String(n):n,sourceViewBox:_,graphicalItemId:void 0});qc.emit(cb,m,x,u)}},[p,r,c,i,n,u,m,h,s,_])}function CC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function AC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CC(Object(r),!0).forEach(function(n){qF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qF(e,t,r){return(t=zF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zF(e){var t=LF(e,"string");return typeof t=="symbol"?t:t+""}function LF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function IF(e){return e.dataKey}function UF(e,t){return y.isValidElement(e)?y.cloneElement(e,t):typeof e=="function"?y.createElement(e,t):y.createElement(wU,t)}var NC=[],BF={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Yv(e){var t,r,n=br(e,BF),{active:i,allowEscapeViewBox:s,animationDuration:c,animationEasing:u,content:m,filterNull:h,isAnimationActive:g,offset:p,payloadUniqBy:_,position:x,reverseDirection:w,useTranslate3d:j,wrapperStyle:S,cursor:O,shared:C,trigger:A,defaultIndex:k,portal:D,axisId:M}=n,L=Rt(),X=typeof k=="number"?String(k):k;y.useEffect(()=>{L(qH({shared:C,trigger:A,axisId:M,active:i,defaultIndex:X}))},[L,C,A,M,i,X]);var re=km(),ae=gD(),G=kH(C),{activeIndex:B,isActive:ce}=(t=De(pe=>K9(pe,G,A,X)))!==null&&t!==void 0?t:{},ge=De(pe=>F9(pe,G,A,X)),q=De(pe=>SP(pe,G,A,X)),R=De(pe=>H9(pe,G,A,X)),I=ge,ee=pF(),U=(r=i??ce)!==null&&r!==void 0?r:!1,[me,we]=d4([I,U]),J=G==="axis"?q:void 0;RF(G,A,R,J,B,U);var H=D??ee;if(H==null||re==null||G==null)return null;var je=I??NC;U||(je=NC),h&&je.length&&(je=zI(je.filter(pe=>pe.value!=null&&(pe.hide!==!0||n.includeHidden)),_,IF));var Te=je.length>0,Ue=y.createElement(NU,{allowEscapeViewBox:s,animationDuration:c,animationEasing:u,isAnimationActive:g,active:U,coordinate:R,hasPayload:Te,offset:p,position:x,reverseDirection:w,useTranslate3d:j,viewBox:re,wrapperStyle:S,lastBoundingBox:me,innerRef:we,hasPortalFromProps:!!D},UF(m,AC(AC({},n),{},{payload:je,label:J,active:U,activeIndex:B,coordinate:R,accessibilityLayer:ae})));return y.createElement(y.Fragment,null,xN.createPortal(Ue,H),U&&y.createElement(hF,{cursor:O,tooltipEventType:G,coordinate:R,payload:je,index:B}))}var uu=e=>null;uu.displayName="Cell";function $F(e,t,r){return(t=HF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HF(e){var t=FF(e,"string");return typeof t=="symbol"?t:t+""}function FF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class KF{constructor(t){$F(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function kC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function YF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kC(Object(r),!0).forEach(function(n){GF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GF(e,t,r){return(t=VF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VF(e){var t=WF(e,"string");return typeof t=="symbol"?t:t+""}function WF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var XF={cacheSize:2e3,enableCache:!0},NP=YF({},XF),DC=new KF(NP.cacheSize),ZF={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},TC="recharts_measurement_span";function QF(e,t){var r=t.fontSize||"",n=t.fontFamily||"",i=t.fontWeight||"",s=t.fontStyle||"",c=t.letterSpacing||"",u=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(s,"|").concat(c,"|").concat(u)}var PC=(e,t)=>{try{var r=document.getElementById(TC);r||(r=document.createElement("span"),r.setAttribute("id",TC),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,ZF,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},xc=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Rm.isSsr)return{width:0,height:0};if(!NP.enableCache)return PC(t,r);var n=QF(t,r),i=DC.get(n);if(i)return i;var s=PC(t,r);return DC.set(n,s),s},kP;function JF(e,t,r){return(t=e7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function e7(e){var t=t7(e,"string");return typeof t=="symbol"?t:t+""}function t7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var MC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,RC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,r7=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,n7=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,a7={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},i7=["cm","mm","pt","pc","in","Q","px"];function o7(e){return i7.includes(e)}var Is="NaN";function s7(e,t){return e*a7[t]}class Or{static parse(t){var r,[,n,i]=(r=n7.exec(t))!==null&&r!==void 0?r:[];return n==null?Or.NaN:new Or(parseFloat(n),i??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,ea(t)&&(this.unit=""),r!==""&&!r7.test(r)&&(this.num=NaN,this.unit=""),o7(r)&&(this.num=s7(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Or(NaN,""):new Or(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Or(NaN,""):new Or(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Or(NaN,""):new Or(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Or(NaN,""):new Or(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return ea(this.num)}}kP=Or;JF(Or,"NaN",new kP(NaN,""));function DP(e){if(e==null||e.includes(Is))return Is;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,i,s]=(r=MC.exec(t))!==null&&r!==void 0?r:[],c=Or.parse(n??""),u=Or.parse(s??""),m=i==="*"?c.multiply(u):c.divide(u);if(m.isNaN())return Is;t=t.replace(MC,m.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var h,[,g,p,_]=(h=RC.exec(t))!==null&&h!==void 0?h:[],x=Or.parse(g??""),w=Or.parse(_??""),j=p==="+"?x.add(w):x.subtract(w);if(j.isNaN())return Is;t=t.replace(RC,j.toString())}return t}var qC=/\(([^()]*)\)/;function l7(e){for(var t=e,r;(r=qC.exec(t))!=null;){var[,n]=r;t=t.replace(qC,DP(n))}return t}function c7(e){var t=e.replace(/\s+/g,"");return t=l7(t),t=DP(t),t}function u7(e){try{return c7(e)}catch{return Is}}function Gv(e){var t=u7(e.slice(5,-1));return t===Is?"":t}var d7=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],f7=["dx","dy","angle","className","breakAll"];function ub(){return ub=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ub.apply(null,arguments)}function zC(e,t){if(e==null)return{};var r,n,i=m7(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function m7(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var TP=/[ \f\n\r\t\v\u2028\u2029]+/,PP=e=>{var{children:t,breakAll:r,style:n}=e;try{var i=[];Mt(t)||(r?i=t.toString().split(""):i=t.toString().split(TP));var s=i.map(u=>({word:u,width:xc(u,n).width})),c=r?0:xc("",n).width;return{wordsWithComputedWidth:s,spaceWidth:c}}catch{return null}};function h7(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var MP=(e,t,r,n)=>e.reduce((i,s)=>{var{word:c,width:u}=s,m=i[i.length-1];if(m&&u!=null&&(t==null||n||m.width+u+r<Number(t)))m.words.push(c),m.width+=u+r;else{var h={words:[c],width:u};i.push(h)}return i},[]),RP=e=>e.reduce((t,r)=>t.width>r.width?t:r),p7="",LC=(e,t,r,n,i,s,c,u)=>{var m=e.slice(0,t),h=PP({breakAll:r,style:n,children:m+p7});if(!h)return[!1,[]];var g=MP(h.wordsWithComputedWidth,s,c,u),p=g.length>i||RP(g).width>Number(s);return[p,g]},g7=(e,t,r,n,i)=>{var{maxLines:s,children:c,style:u,breakAll:m}=e,h=ke(s),g=String(c),p=MP(t,n,r,i);if(!h||i)return p;var _=p.length>s||RP(p).width>Number(n);if(!_)return p;for(var x=0,w=g.length-1,j=0,S;x<=w&&j<=g.length-1;){var O=Math.floor((x+w)/2),C=O-1,[A,k]=LC(g,C,m,u,s,n,r,i),[D]=LC(g,O,m,u,s,n,r,i);if(!A&&!D&&(x=O+1),A&&D&&(w=O-1),!A&&D){S=k;break}j++}return S||p},IC=e=>{var t=Mt(e)?[]:e.toString().split(TP);return[{words:t,width:void 0}]},v7=e=>{var{width:t,scaleToFit:r,children:n,style:i,breakAll:s,maxLines:c}=e;if((t||r)&&!Rm.isSsr){var u,m,h=PP({breakAll:s,children:n,style:i});if(h){var{wordsWithComputedWidth:g,spaceWidth:p}=h;u=g,m=p}else return IC(n);return g7({breakAll:s,children:n,maxLines:c,style:i},u,m,t,!!r)}return IC(n)},qP="#808080",y7={angle:0,breakAll:!1,capHeight:"0.71em",fill:qP,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},eh=y.forwardRef((e,t)=>{var r=br(e,y7),{x:n,y:i,lineHeight:s,capHeight:c,fill:u,scaleToFit:m,textAnchor:h,verticalAnchor:g}=r,p=zC(r,d7),_=y.useMemo(()=>v7({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:m,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,m,p.style,p.width]),{dx:x,dy:w,angle:j,className:S,breakAll:O}=p,C=zC(p,f7);if(!ha(n)||!ha(i)||_.length===0)return null;var A=Number(n)+(ke(x)?x:0),k=Number(i)+(ke(w)?w:0);if(!zt(A)||!zt(k))return null;var D;switch(g){case"start":D=Gv("calc(".concat(c,")"));break;case"middle":D=Gv("calc(".concat((_.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:D=Gv("calc(".concat(_.length-1," * -").concat(s,")"));break}var M=[];if(m){var L=_[0].width,{width:X}=p;M.push("scale(".concat(ke(X)&&ke(L)?X/L:1,")"))}return j&&M.push("rotate(".concat(j,", ").concat(A,", ").concat(k,")")),M.length&&(C.transform=M.join(" ")),y.createElement("text",ub({},Br(C),{ref:t,x:A,y:k,className:st("recharts-text",S),textAnchor:h,fill:u.includes("url")?qP:u}),_.map((re,ae)=>{var G=re.words.join(O?"":" ");return y.createElement("tspan",{x:A,dy:ae===0?D:s,key:"".concat(G,"-").concat(ae)},G)}))});eh.displayName="Text";var b7=["labelRef"],_7=["content"];function UC(e,t){if(e==null)return{};var r,n,i=x7(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function x7(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function BC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Wt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BC(Object(r),!0).forEach(function(n){w7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function w7(e,t,r){return(t=j7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j7(e){var t=S7(e,"string");return typeof t=="symbol"?t:t+""}function S7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ua(){return Ua=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ua.apply(null,arguments)}var zP=y.createContext(null),E7=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:i,width:s,height:c,children:u}=e,m=y.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:i,width:s,height:c}),[t,r,n,i,s,c]);return y.createElement(zP.Provider,{value:m},u)},LP=()=>{var e=y.useContext(zP),t=km();return e||rD(t)},O7=y.createContext(null),C7=()=>{var e=y.useContext(O7),t=De(NT);return e||t},A7=e=>{var{value:t,formatter:r}=e,n=Mt(e.children)?t:e.children;return typeof r=="function"?r(n):n},p_=e=>e!=null&&typeof e=="function",N7=(e,t)=>{var r=vr(t-e),n=Math.min(Math.abs(t-e),360);return r*n},k7=(e,t,r,n,i)=>{var{offset:s,className:c}=e,{cx:u,cy:m,innerRadius:h,outerRadius:g,startAngle:p,endAngle:_,clockWise:x}=i,w=(h+g)/2,j=N7(p,_),S=j>=0?1:-1,O,C;switch(t){case"insideStart":O=p+S*s,C=x;break;case"insideEnd":O=_-S*s,C=!x;break;case"end":O=_+S*s,C=x;break;default:throw new Error("Unsupported position ".concat(t))}C=j<=0?C:!C;var A=rr(u,m,w,O),k=rr(u,m,w,O+(C?1:-1)*359),D="M".concat(A.x,",").concat(A.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(C?0:1,`,
    `).concat(k.x,",").concat(k.y),M=Mt(e.id)?jc("recharts-radial-line-"):e.id;return y.createElement("text",Ua({},n,{dominantBaseline:"central",className:st("recharts-radial-bar-label",c)}),y.createElement("defs",null,y.createElement("path",{id:M,d:D})),y.createElement("textPath",{xlinkHref:"#".concat(M)},r))},D7=(e,t,r)=>{var{cx:n,cy:i,innerRadius:s,outerRadius:c,startAngle:u,endAngle:m}=e,h=(u+m)/2;if(r==="outside"){var{x:g,y:p}=rr(n,i,c+t,h);return{x:g,y:p,textAnchor:g>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var _=(s+c)/2,{x,y:w}=rr(n,i,_,h);return{x,y:w,textAnchor:"middle",verticalAnchor:"middle"}},db=e=>"cx"in e&&ke(e.cx),T7=(e,t)=>{var{parentViewBox:r,offset:n,position:i}=e,s;r!=null&&!db(r)&&(s=r);var{x:c,y:u,upperWidth:m,lowerWidth:h,height:g}=t,p=c,_=c+(m-h)/2,x=(p+_)/2,w=(m+h)/2,j=p+m/2,S=g>=0?1:-1,O=S*n,C=S>0?"end":"start",A=S>0?"start":"end",k=m>=0?1:-1,D=k*n,M=k>0?"end":"start",L=k>0?"start":"end";if(i==="top"){var X={x:p+m/2,y:u-O,textAnchor:"middle",verticalAnchor:C};return Wt(Wt({},X),s?{height:Math.max(u-s.y,0),width:m}:{})}if(i==="bottom"){var re={x:_+h/2,y:u+g+O,textAnchor:"middle",verticalAnchor:A};return Wt(Wt({},re),s?{height:Math.max(s.y+s.height-(u+g),0),width:h}:{})}if(i==="left"){var ae={x:x-D,y:u+g/2,textAnchor:M,verticalAnchor:"middle"};return Wt(Wt({},ae),s?{width:Math.max(ae.x-s.x,0),height:g}:{})}if(i==="right"){var G={x:x+w+D,y:u+g/2,textAnchor:L,verticalAnchor:"middle"};return Wt(Wt({},G),s?{width:Math.max(s.x+s.width-G.x,0),height:g}:{})}var B=s?{width:w,height:g}:{};return i==="insideLeft"?Wt({x:x+D,y:u+g/2,textAnchor:L,verticalAnchor:"middle"},B):i==="insideRight"?Wt({x:x+w-D,y:u+g/2,textAnchor:M,verticalAnchor:"middle"},B):i==="insideTop"?Wt({x:p+m/2,y:u+O,textAnchor:"middle",verticalAnchor:A},B):i==="insideBottom"?Wt({x:_+h/2,y:u+g-O,textAnchor:"middle",verticalAnchor:C},B):i==="insideTopLeft"?Wt({x:p+D,y:u+O,textAnchor:L,verticalAnchor:A},B):i==="insideTopRight"?Wt({x:p+m-D,y:u+O,textAnchor:M,verticalAnchor:A},B):i==="insideBottomLeft"?Wt({x:_+D,y:u+g-O,textAnchor:L,verticalAnchor:C},B):i==="insideBottomRight"?Wt({x:_+h-D,y:u+g-O,textAnchor:M,verticalAnchor:C},B):i&&typeof i=="object"&&(ke(i.x)||Ya(i.x))&&(ke(i.y)||Ya(i.y))?Wt({x:c+Dr(i.x,w),y:u+Dr(i.y,g),textAnchor:"end",verticalAnchor:"end"},B):Wt({x:j,y:u+g/2,textAnchor:"middle",verticalAnchor:"middle"},B)},P7={angle:0,offset:5,zIndex:nr.label,position:"middle",textBreakAll:!1};function Li(e){var t=br(e,P7),{viewBox:r,position:n,value:i,children:s,content:c,className:u="",textBreakAll:m,labelRef:h}=t,g=C7(),p=LP(),_=n==="center"?p:g??p,x,w,j;if(r==null?x=_:db(r)?x=r:x=rD(r),!x||Mt(i)&&Mt(s)&&!y.isValidElement(c)&&typeof c!="function")return null;var S=Wt(Wt({},t),{},{viewBox:x});if(y.isValidElement(c)){var{labelRef:O}=S,C=UC(S,b7);return y.cloneElement(c,C)}if(typeof c=="function"){var{content:A}=S,k=UC(S,_7);if(w=y.createElement(c,k),y.isValidElement(w))return w}else w=A7(t);var D=Br(t);if(db(x)){if(n==="insideStart"||n==="insideEnd"||n==="end")return k7(t,n,w,D,x);j=D7(x,t.offset,t.position)}else j=T7(t,x);return y.createElement(Jr,{zIndex:t.zIndex},y.createElement(eh,Ua({ref:h,className:st("recharts-label",u)},D,j,{textAnchor:h7(D.textAnchor)?D.textAnchor:j.textAnchor,breakAll:m}),w))}Li.displayName="Label";var M7=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?y.createElement(Li,Ua({key:"label-implicit"},n)):ha(e)?y.createElement(Li,Ua({key:"label-implicit",value:e},n)):y.isValidElement(e)?e.type===Li?y.cloneElement(e,Wt({key:"label-implicit"},n)):y.createElement(Li,Ua({key:"label-implicit",content:e},n)):p_(e)?y.createElement(Li,Ua({key:"label-implicit",content:e},n)):e&&typeof e=="object"?y.createElement(Li,Ua({},e,{key:"label-implicit"},n)):null};function R7(e){var{label:t,labelRef:r}=e,n=LP();return M7(t,n,r)||null}var Vv={},Wv={},$C;function q7(){return $C||($C=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(Wv)),Wv}var Xv={},HC;function z7(){return HC||(HC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(Xv)),Xv}var FC;function L7(){return FC||(FC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=q7(),r=z7(),n=Kb();function i(s){if(n.isArrayLike(s))return t.last(r.toArray(s))}e.last=i})(Vv)),Vv}var Zv,KC;function I7(){return KC||(KC=1,Zv=L7().last),Zv}var U7=I7();const B7=Ja(U7);var $7=["valueAccessor"],H7=["dataKey","clockWise","id","textBreakAll","zIndex"];function Qf(){return Qf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qf.apply(null,arguments)}function YC(e,t){if(e==null)return{};var r,n,i=F7(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function F7(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var K7=e=>Array.isArray(e.value)?B7(e.value):e.value,IP=y.createContext(void 0),UP=IP.Provider,BP=y.createContext(void 0),Y7=BP.Provider;function G7(){return y.useContext(IP)}function V7(){return y.useContext(BP)}function uf(e){var{valueAccessor:t=K7}=e,r=YC(e,$7),{dataKey:n,clockWise:i,id:s,textBreakAll:c,zIndex:u}=r,m=YC(r,H7),h=G7(),g=V7(),p=h||g;return!p||!p.length?null:y.createElement(Jr,{zIndex:u??nr.label},y.createElement(yr,{className:"recharts-label-list"},p.map((_,x)=>{var w,j=Mt(n)?t(_,x):gt(_&&_.payload,n),S=Mt(s)?{}:{id:"".concat(s,"-").concat(x)};return y.createElement(Li,Qf({key:"label-".concat(x)},Br(_),m,S,{fill:(w=r.fill)!==null&&w!==void 0?w:_.fill,parentViewBox:_.parentViewBox,value:j,textBreakAll:c,viewBox:_.viewBox,index:x,zIndex:0}))})))}uf.displayName="LabelList";function g_(e){var{label:t}=e;return t?t===!0?y.createElement(uf,{key:"labelList-implicit"}):y.isValidElement(t)||p_(t)?y.createElement(uf,{key:"labelList-implicit",content:t}):typeof t=="object"?y.createElement(uf,Qf({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function fb(){return fb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fb.apply(null,arguments)}var $P=e=>{var{cx:t,cy:r,r:n,className:i}=e,s=st("recharts-dot",i);return ke(t)&&ke(r)&&ke(n)?y.createElement("circle",fb({},vn(e),Fb(e),{className:s,cx:t,cy:r,r:n})):null},HP=e=>e.graphicalItems.polarItems,W7=W([qt,ru],L0),th=W([HP,Lt,W7],I0),X7=W([th],U0),rh=W([X7,$m],B0),Z7=W([rh,Lt,th],H0);W([rh,Lt,th],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(i=>{var s,c=gt(n,(s=t.dataKey)!==null&&s!==void 0?s:i.dataKey);return{value:c,errorDomain:[]}})).filter(Boolean):t?.dataKey!=null?e.map(n=>({value:gt(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]})));var GC=()=>{},Q7=W([rh,Lt,th,Xm,qt],G0),J7=W([Lt,K0,Y0,GC,Q7,GC,et,qt],V0),FP=W([Lt,et,rh,Z7,tu,qt,J7],W0),eK=W([FP,Lt,al],Q0);W([Lt,FP,eK,qt],e_);var tK={radiusAxis:{},angleAxis:{}},KP=Qr({name:"polarAxis",initialState:tK,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:LZ,removeRadiusAxis:IZ,addAngleAxis:UZ,removeAngleAxis:BZ}=KP.actions,rK=KP.reducer;function VC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function WC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VC(Object(r),!0).forEach(function(n){nK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nK(e,t,r){return(t=aK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aK(e){var t=iK(e,"string");return typeof t=="symbol"?t:t+""}function iK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oK=(e,t)=>t,v_=W([HP,oK],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),sK=[],y_=(e,t,r)=>r?.length===0?sK:r,YP=W([$m,v_,y_],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var i;if(t?.data!=null&&t.data.length>0?i=t.data:i=n,(!i||!i.length)&&r!=null&&(i=r.map(s=>WC(WC({},t.presentationProps),s.props))),i!=null)return i}}),lK=W([YP,v_,y_],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,i)=>{var s,c=gt(n,t.nameKey,t.name),u;return r!=null&&(s=r[i])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?u=r[i].props.fill:typeof n=="object"&&n!=null&&"fill"in n?u=n.fill:u=t.fill,{value:Qs(c,t.dataKey),color:u,payload:n,type:t.legendType}})}),cK=W([YP,v_,y_,cr],(e,t,r,n)=>{if(!(t==null||e==null))return dY({offset:n,pieSettings:t,displayedData:e,cells:r})}),Qv={exports:{}},pt={};var XC;function uK(){if(XC)return pt;XC=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),_=Symbol.for("react.view_transition"),x=Symbol.for("react.client.reference");function w(j){if(typeof j=="object"&&j!==null){var S=j.$$typeof;switch(S){case e:switch(j=j.type,j){case r:case i:case n:case m:case h:case _:return j;default:switch(j=j&&j.$$typeof,j){case c:case u:case p:case g:return j;case s:return j;default:return S}}case t:return S}}}return pt.ContextConsumer=s,pt.ContextProvider=c,pt.Element=e,pt.ForwardRef=u,pt.Fragment=r,pt.Lazy=p,pt.Memo=g,pt.Portal=t,pt.Profiler=i,pt.StrictMode=n,pt.Suspense=m,pt.SuspenseList=h,pt.isContextConsumer=function(j){return w(j)===s},pt.isContextProvider=function(j){return w(j)===c},pt.isElement=function(j){return typeof j=="object"&&j!==null&&j.$$typeof===e},pt.isForwardRef=function(j){return w(j)===u},pt.isFragment=function(j){return w(j)===r},pt.isLazy=function(j){return w(j)===p},pt.isMemo=function(j){return w(j)===g},pt.isPortal=function(j){return w(j)===t},pt.isProfiler=function(j){return w(j)===i},pt.isStrictMode=function(j){return w(j)===n},pt.isSuspense=function(j){return w(j)===m},pt.isSuspenseList=function(j){return w(j)===h},pt.isValidElementType=function(j){return typeof j=="string"||typeof j=="function"||j===r||j===i||j===n||j===m||j===h||typeof j=="object"&&j!==null&&(j.$$typeof===p||j.$$typeof===g||j.$$typeof===c||j.$$typeof===s||j.$$typeof===u||j.$$typeof===x||j.getModuleId!==void 0)},pt.typeOf=w,pt}var ZC;function dK(){return ZC||(ZC=1,Qv.exports=uK()),Qv.exports}var fK=dK(),QC=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",JC=null,Jv=null,GP=e=>{if(e===JC&&Array.isArray(Jv))return Jv;var t=[];return y.Children.forEach(e,r=>{Mt(r)||(fK.isFragment(r)?t=t.concat(GP(r.props.children)):t.push(r))}),Jv=t,JC=e,t};function b_(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(i=>QC(i)):n=[QC(t)],GP(e).forEach(i=>{var s=zo(i,"type.displayName")||zo(i,"type.name");s&&n.indexOf(s)!==-1&&r.push(i)}),r}var VP=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,ey={},eA;function mK(){return eA||(eA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const i=r[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(r,Symbol.toStringTag)?.writable?!1:r.toString()===`[object ${i}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(ey)),ey}var ty,tA;function hK(){return tA||(tA=1,ty=mK().isPlainObject),ty}var pK=hK();const gK=Ja(pK);var rA,nA,aA,iA,oA;function sA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function lA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sA(Object(r),!0).forEach(function(n){vK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vK(e,t,r){return(t=yK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yK(e){var t=bK(e,"string");return typeof t=="symbol"?t:t+""}function bK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jf(){return Jf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jf.apply(null,arguments)}function hc(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var cA=(e,t,r,n,i)=>{var s=r-n,c;return c=Ft(rA||(rA=hc(["M ",",",""])),e,t),c+=Ft(nA||(nA=hc(["L ",",",""])),e+r,t),c+=Ft(aA||(aA=hc(["L ",",",""])),e+r-s/2,t+i),c+=Ft(iA||(iA=hc(["L ",",",""])),e+r-s/2-n,t+i),c+=Ft(oA||(oA=hc(["L ",","," Z"])),e,t),c},_K={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},xK=e=>{var t=br(e,_K),{x:r,y:n,upperWidth:i,lowerWidth:s,height:c,className:u}=t,{animationEasing:m,animationDuration:h,animationBegin:g,isUpdateAnimationActive:p}=t,_=y.useRef(null),[x,w]=y.useState(-1),j=y.useRef(i),S=y.useRef(s),O=y.useRef(c),C=y.useRef(r),A=y.useRef(n),k=Xc(e,"trapezoid-");if(y.useEffect(()=>{if(_.current&&_.current.getTotalLength)try{var ge=_.current.getTotalLength();ge&&w(ge)}catch{}},[]),r!==+r||n!==+n||i!==+i||s!==+s||c!==+c||i===0&&s===0||c===0)return null;var D=st("recharts-trapezoid",u);if(!p)return y.createElement("g",null,y.createElement("path",Jf({},Br(t),{className:D,d:cA(r,n,i,s,c)})));var M=j.current,L=S.current,X=O.current,re=C.current,ae=A.current,G="0px ".concat(x===-1?1:x,"px"),B="".concat(x,"px 0px"),ce=vD(["strokeDasharray"],h,m);return y.createElement(Wc,{animationId:k,key:k,canBegin:x>0,duration:h,easing:m,isActive:p,begin:g},ge=>{var q=Dt(M,i,ge),R=Dt(L,s,ge),I=Dt(X,c,ge),ee=Dt(re,r,ge),U=Dt(ae,n,ge);_.current&&(j.current=q,S.current=R,O.current=I,C.current=ee,A.current=U);var me=ge>0?{transition:ce,strokeDasharray:B}:{strokeDasharray:G};return y.createElement("path",Jf({},Br(t),{className:D,d:cA(ee,U,q,R,I),ref:_,style:lA(lA({},me),t.style)}))})},wK=["option","shapeType","activeClassName"];function jK(e,t){if(e==null)return{};var r,n,i=SK(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function SK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function uA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function em(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uA(Object(r),!0).forEach(function(n){EK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EK(e,t,r){return(t=OK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OK(e){var t=CK(e,"string");return typeof t=="symbol"?t:t+""}function CK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function AK(e,t){return em(em({},t),e)}function NK(e,t){return e==="symbols"}function dA(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return y.createElement(xD,r);case"trapezoid":return y.createElement(xK,r);case"sector":return y.createElement(ED,r);case"symbols":if(NK(t))return y.createElement(nk,r);break;case"curve":return y.createElement(n0,r);default:return null}}function kK(e){return y.isValidElement(e)?e.props:e}function __(e){var{option:t,shapeType:r,activeClassName:n="recharts-active-shape"}=e,i=jK(e,wK),s;if(y.isValidElement(t))s=y.cloneElement(t,em(em({},i),kK(t)));else if(typeof t=="function")s=t(i,i.index);else if(gK(t)&&typeof t!="boolean"){var c=AK(t,i);s=y.createElement(dA,{shapeType:r,elementProps:c})}else{var u=i;s=y.createElement(dA,{shapeType:r,elementProps:u})}return i.isActive?y.createElement(yr,{className:n},s):s}var x_=(e,t,r)=>{var n=Rt();return(i,s)=>c=>{e?.(i,s,c),n(oP({activeIndex:String(s),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:r}))}},w_=e=>{var t=Rt();return(r,n)=>i=>{e?.(r,n,i),t(zH())}},j_=(e,t,r)=>{var n=Rt();return(i,s)=>c=>{e?.(i,s,c),n(LH({activeIndex:String(s),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:r}))}};function S_(e){var{tooltipEntrySettings:t}=e,r=Rt(),n=Tr(),i=y.useRef(null);return y.useLayoutEffect(()=>{n||(i.current===null?r(PH(t)):i.current!==t&&r(MH({prev:i.current,next:t})),i.current=t)},[t,r,n]),y.useLayoutEffect(()=>()=>{i.current&&(r(RH(i.current)),i.current=null)},[r]),null}function WP(e){var{legendPayload:t}=e,r=Rt(),n=Tr(),i=y.useRef(null);return y.useLayoutEffect(()=>{n||(i.current===null?r(mD(t)):i.current!==t&&r(hD({prev:i.current,next:t})),i.current=t)},[r,n,t]),y.useLayoutEffect(()=>()=>{i.current&&(r(pD(i.current)),i.current=null)},[r]),null}function DK(e){var{legendPayload:t}=e,r=Rt(),n=De(et),i=y.useRef(null);return y.useLayoutEffect(()=>{n!=="centric"&&n!=="radial"||(i.current===null?r(mD(t)):i.current!==t&&r(hD({prev:i.current,next:t})),i.current=t)},[r,n,t]),y.useLayoutEffect(()=>()=>{i.current&&(r(pD(i.current)),i.current=null)},[r]),null}var ry,TK=()=>{var[e]=y.useState(()=>jc("uid-"));return e},PK=(ry=hq.useId)!==null&&ry!==void 0?ry:TK;function MK(e,t){var r=PK();return t||(e?"".concat(e,"-").concat(r):r)}var RK=y.createContext(void 0),E_=e=>{var{id:t,type:r,children:n}=e,i=MK("recharts-".concat(r),t);return y.createElement(RK.Provider,{value:i},n(i))},qK={cartesianItems:[],polarItems:[]},XP=Qr({name:"graphicalItems",initialState:qK,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:kt()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,i=Qn(e).cartesianItems.indexOf(r);i>-1&&(e.cartesianItems[i]=n)},prepare:kt()},removeCartesianGraphicalItem:{reducer(e,t){var r=Qn(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:kt()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:kt()},removePolarGraphicalItem:{reducer(e,t){var r=Qn(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:kt()}}}),{addCartesianGraphicalItem:zK,replaceCartesianGraphicalItem:LK,removeCartesianGraphicalItem:IK,addPolarGraphicalItem:UK,removePolarGraphicalItem:BK}=XP.actions,$K=XP.reducer,HK=e=>{var t=Rt(),r=y.useRef(null);return y.useLayoutEffect(()=>{r.current===null?t(zK(e)):r.current!==e&&t(LK({prev:r.current,next:e})),r.current=e},[t,e]),y.useLayoutEffect(()=>()=>{r.current&&(t(IK(r.current)),r.current=null)},[t]),null},ZP=y.memo(HK);function FK(e){var t=Rt();return y.useLayoutEffect(()=>(t(UK(e)),()=>{t(BK(e))}),[t,e]),null}var KK=["key"],YK=["onMouseEnter","onClick","onMouseLeave"],GK=["id"],VK=["id"];function fA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Kt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fA(Object(r),!0).forEach(function(n){WK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WK(e,t,r){return(t=XK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XK(e){var t=ZK(e,"string");return typeof t=="symbol"?t:t+""}function ZK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vi(){return Vi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vi.apply(null,arguments)}function nh(e,t){if(e==null)return{};var r,n,i=QK(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function QK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function JK(e){var t=y.useMemo(()=>b_(e.children,uu),[e.children]),r=De(n=>lK(n,e.id,t));return r==null?null:y.createElement(DK,{legendPayload:r})}var eY=y.memo(e=>{var{dataKey:t,nameKey:r,sectors:n,stroke:i,strokeWidth:s,fill:c,name:u,hide:m,tooltipType:h,id:g}=e,p={dataDefinedOnItem:n.map(_=>_.tooltipPayload),positions:n.map(_=>_.tooltipPosition),settings:{stroke:i,strokeWidth:s,fill:c,dataKey:t,nameKey:r,name:Qs(u,t),hide:m,type:h,color:c,unit:"",graphicalItemId:g}};return y.createElement(S_,{tooltipEntrySettings:p})}),tY=(e,t)=>e>t?"start":e<t?"end":"middle",rY=(e,t,r)=>Dr(typeof t=="function"?t(e):t,r,r*.8),nY=(e,t,r)=>{var{top:n,left:i,width:s,height:c}=t,u=wD(s,c),m=i+Dr(e.cx,s,s/2),h=n+Dr(e.cy,c,c/2),g=Dr(e.innerRadius,u,0),p=rY(r,e.outerRadius,u),_=e.maxRadius||Math.sqrt(s*s+c*c)/2;return{cx:m,cy:h,innerRadius:g,outerRadius:p,maxRadius:_}},aY=(e,t)=>{var r=vr(t-e),n=Math.min(Math.abs(t-e),360);return r*n};function iY(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var oY=(e,t)=>{if(y.isValidElement(e))return y.cloneElement(e,t);if(typeof e=="function")return e(t);var r=st("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:n}=t,i=nh(t,KK);return y.createElement(n0,Vi({},i,{type:"linear",className:r}))},sY=(e,t,r)=>{if(y.isValidElement(e))return y.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),y.isValidElement(n)))return n;var i=st("recharts-pie-label-text",iY(e));return y.createElement(eh,Vi({},t,{alignmentBaseline:"middle",className:i}),n)};function lY(e){var{sectors:t,props:r,showLabels:n}=e,{label:i,labelLine:s,dataKey:c}=r;if(!n||!i||!t)return null;var u=vn(r),m=Ro(i),h=Ro(s),g=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,p=t.map((_,x)=>{var w=(_.startAngle+_.endAngle)/2,j=rr(_.cx,_.cy,_.outerRadius+g,w),S=Kt(Kt(Kt(Kt({},u),_),{},{stroke:"none"},m),{},{index:x,textAnchor:tY(j.x,_.cx)},j),O=Kt(Kt(Kt(Kt({},u),_),{},{fill:"none",stroke:_.fill},h),{},{index:x,points:[rr(_.cx,_.cy,_.outerRadius,w),j],key:"line"});return y.createElement(Jr,{zIndex:nr.label,key:"label-".concat(_.startAngle,"-").concat(_.endAngle,"-").concat(_.midAngle,"-").concat(x)},y.createElement(yr,null,s&&oY(s,O),sY(i,S,gt(_,c))))});return y.createElement(yr,{className:"recharts-pie-labels"},p)}function cY(e){var{sectors:t,props:r,showLabels:n}=e,{label:i}=r;return typeof i=="object"&&i!=null&&"position"in i?y.createElement(g_,{label:i}):y.createElement(lY,{sectors:t,props:r,showLabels:n})}function uY(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:i,shape:s,id:c}=e,u=De(Gi),m=De(c_),h=De(j9),{onMouseEnter:g,onClick:p,onMouseLeave:_}=i,x=nh(i,YK),w=x_(g,i.dataKey,c),j=w_(_),S=j_(p,i.dataKey,c);return t==null||t.length===0?null:y.createElement(y.Fragment,null,t.map((O,C)=>{if(O?.startAngle===0&&O?.endAngle===0&&t.length!==1)return null;var A=h==null||h===c,k=String(C)===u&&(m==null||i.dataKey===m)&&A,D=u?n:null,M=r&&k?r:D,L=Kt(Kt({},O),{},{stroke:O.stroke,tabIndex:-1,[Zk]:C,[Qk]:c});return y.createElement(yr,Vi({key:"sector-".concat(O?.startAngle,"-").concat(O?.endAngle,"-").concat(O.midAngle,"-").concat(C),tabIndex:-1,className:"recharts-pie-sector"},pm(x,O,C),{onMouseEnter:w(O,C),onMouseLeave:j(O,C),onClick:S(O,C)}),y.createElement(__,Vi({option:s??M,index:C,shapeType:"sector",isActive:k},L)))}))}function dY(e){var t,{pieSettings:r,displayedData:n,cells:i,offset:s}=e,{cornerRadius:c,startAngle:u,endAngle:m,dataKey:h,nameKey:g,tooltipType:p}=r,_=Math.abs(r.minAngle),x=aY(u,m),w=Math.abs(x),j=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,S=n.filter(M=>gt(M,h,0)!==0).length,O=(w>=360?S:S-1)*j,C=w-S*_-O,A=n.reduce((M,L)=>{var X=gt(L,h,0);return M+(ke(X)?X:0)},0),k;if(A>0){var D;k=n.map((M,L)=>{var X=gt(M,h,0),re=gt(M,g,L),ae=nY(r,s,M),G=(ke(X)?X:0)/A,B,ce=Kt(Kt({},M),i&&i[L]&&i[L].props);L?B=D.endAngle+vr(x)*j*(X!==0?1:0):B=u;var ge=B+vr(x)*((X!==0?_:0)+G*C),q=(B+ge)/2,R=(ae.innerRadius+ae.outerRadius)/2,I=[{name:re,value:X,payload:ce,dataKey:h,type:p,graphicalItemId:r.id}],ee=rr(ae.cx,ae.cy,R,q);return D=Kt(Kt(Kt(Kt({},r.presentationProps),{},{percent:G,cornerRadius:typeof c=="string"?parseFloat(c):c,name:re,tooltipPayload:I,midAngle:q,middleRadius:R,tooltipPosition:ee},ce),ae),{},{value:X,dataKey:h,startAngle:B,endAngle:ge,payload:ce,paddingAngle:vr(x)*j}),D})}return k}function fY(e){var{showLabels:t,sectors:r,children:n}=e,i=y.useMemo(()=>!t||!r?[]:r.map(s=>({value:s.value,payload:s.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:s.cx,cy:s.cy,innerRadius:s.innerRadius,outerRadius:s.outerRadius,startAngle:s.startAngle,endAngle:s.endAngle,clockWise:!1},fill:s.fill})),[r,t]);return y.createElement(Y7,{value:t?i:void 0},n)}function mY(e){var{props:t,previousSectorsRef:r,id:n}=e,{sectors:i,isAnimationActive:s,animationBegin:c,animationDuration:u,animationEasing:m,activeShape:h,inactiveShape:g,onAnimationStart:p,onAnimationEnd:_}=t,x=Xc(t,"recharts-pie-"),w=r.current,[j,S]=y.useState(!1),O=y.useCallback(()=>{typeof _=="function"&&_(),S(!1)},[_]),C=y.useCallback(()=>{typeof p=="function"&&p(),S(!0)},[p]);return y.createElement(fY,{showLabels:!j,sectors:i},y.createElement(Wc,{animationId:x,begin:c,duration:u,isActive:s,easing:m,onAnimationStart:C,onAnimationEnd:O,key:x},A=>{var k=[],D=i&&i[0],M=D?.startAngle;return i?.forEach((L,X)=>{var re=w&&w[X],ae=X>0?zo(L,"paddingAngle",0):0;if(re){var G=Dt(re.endAngle-re.startAngle,L.endAngle-L.startAngle,A),B=Kt(Kt({},L),{},{startAngle:M+ae,endAngle:M+G+ae});k.push(B),M=B.endAngle}else{var{endAngle:ce,startAngle:ge}=L,q=Dt(0,ce-ge,A),R=Kt(Kt({},L),{},{startAngle:M+ae,endAngle:M+q+ae});k.push(R),M=R.endAngle}}),r.current=k,y.createElement(yr,null,y.createElement(uY,{sectors:k,activeShape:h,inactiveShape:g,allOtherPieProps:t,shape:t.shape,id:n}))}),y.createElement(cY,{showLabels:!j,sectors:i,props:t}),t.children)}var hY={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:nr.area};function pY(e){var{id:t}=e,r=nh(e,GK),{hide:n,className:i,rootTabIndex:s}=e,c=y.useMemo(()=>b_(e.children,uu),[e.children]),u=De(g=>cK(g,t,c)),m=y.useRef(null),h=st("recharts-pie",i);return n||u==null?(m.current=null,y.createElement(yr,{tabIndex:s,className:h})):y.createElement(Jr,{zIndex:e.zIndex},y.createElement(eY,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:u,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),y.createElement(yr,{tabIndex:s,className:h},y.createElement(mY,{props:Kt(Kt({},r),{},{sectors:u}),previousSectorsRef:m,id:t})))}function QP(e){var t=br(e,hY),{id:r}=t,n=nh(t,VK),i=vn(n);return y.createElement(E_,{id:r,type:"pie"},s=>y.createElement(y.Fragment,null,y.createElement(FK,{type:"pie",id:s,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:i,maxRadius:t.maxRadius}),y.createElement(JK,Vi({},n,{id:s})),y.createElement(pY,Vi({},n,{id:s}))))}QP.displayName="Pie";var gY=["points"];function mA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ny(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mA(Object(r),!0).forEach(function(n){vY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vY(e,t,r){return(t=yY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yY(e){var t=bY(e,"string");return typeof t=="symbol"?t:t+""}function bY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tm(){return tm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tm.apply(null,arguments)}function _Y(e,t){if(e==null)return{};var r,n,i=xY(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function xY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function wY(e){var{option:t,dotProps:r,className:n}=e;if(y.isValidElement(t))return y.cloneElement(t,r);if(typeof t=="function")return t(r);var i=st(n,typeof t!="boolean"?t.className:""),s=r??{},{points:c}=s,u=_Y(s,gY);return y.createElement($P,tm({},u,{className:i}))}function jY(e,t){return e==null?!1:t?!0:e.length===1}function SY(e){var{points:t,dot:r,className:n,dotClassName:i,dataKey:s,baseProps:c,needClip:u,clipPathId:m,zIndex:h=nr.scatter}=e;if(!jY(t,r))return null;var g=VP(r),p=u3(r),_=t.map((w,j)=>{var S,O,C=ny(ny(ny({r:3},c),p),{},{index:j,cx:(S=w.x)!==null&&S!==void 0?S:void 0,cy:(O=w.y)!==null&&O!==void 0?O:void 0,dataKey:s,value:w.value,payload:w.payload,points:t});return y.createElement(wY,{key:"dot-".concat(j),option:r,dotProps:C,className:i})}),x={};return u&&m!=null&&(x.clipPath="url(#clipPath-".concat(g?"":"dots-").concat(m,")")),y.createElement(Jr,{zIndex:h},y.createElement(yr,tm({className:n},x),_))}function hA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function pA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hA(Object(r),!0).forEach(function(n){EY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EY(e,t,r){return(t=OY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OY(e){var t=CY(e,"string");return typeof t=="symbol"?t:t+""}function CY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var JP=0,AY={xAxis:{},yAxis:{},zAxis:{}},eM=Qr({name:"cartesianAxis",initialState:AY,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:kt()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:kt()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:kt()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:kt()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:kt()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:kt()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:kt()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:kt()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:kt()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,i=e.yAxis[r];if(i){var s=i.widthHistory||[];if(s.length===3&&s[0]===s[2]&&n===s[1]&&n!==i.width&&Math.abs(n-s[0])<=1)return;var c=[...s,n].slice(-3);e.yAxis[r]=pA(pA({},e.yAxis[r]),{},{width:n,widthHistory:c})}}}}),{addXAxis:NY,replaceXAxis:kY,removeXAxis:DY,addYAxis:TY,replaceYAxis:PY,removeYAxis:MY,addZAxis:$Z,replaceZAxis:HZ,removeZAxis:FZ,updateYAxisWidth:RY}=eM.actions,qY=eM.reducer,zY=W([cr],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),LY=W([zY,ri,ni],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),O_=()=>De(LY),IY=()=>De(A9);function gA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ay(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gA(Object(r),!0).forEach(function(n){UY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UY(e,t,r){return(t=BY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BY(e){var t=$Y(e,"string");return typeof t=="symbol"?t:t+""}function $Y(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var HY=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:i,dataKey:s,clipPath:c}=e;if(i===!1||t.x==null||t.y==null)return null;var u={index:r,dataKey:s,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},m=ay(ay(ay({},u),Ro(i)),Fb(i)),h;return y.isValidElement(i)?h=y.cloneElement(i,m):typeof i=="function"?h=i(m):h=y.createElement($P,m),y.createElement(yr,{className:"recharts-active-dot",clipPath:c},h)};function FY(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:i,clipPath:s,zIndex:c=nr.activeDot}=e,u=De(Gi),m=IY();if(t==null||m==null)return null;var h=t.find(g=>m.includes(g.payload));return Mt(h)?null:y.createElement(Jr,{zIndex:c},y.createElement(HY,{point:h,childIndex:Number(u),mainColor:r,dataKey:i,activeDot:n,clipPath:s}))}var vA=(e,t,r)=>{var n=r??e;if(!Mt(n))return Dr(n,t,0)},KY=(e,t,r)=>{var n={},i=e.filter(Km),s=e.filter(h=>h.stackId==null),c=i.reduce((h,g)=>(h[g.stackId]||(h[g.stackId]=[]),h[g.stackId].push(g),h),n),u=Object.entries(c).map(h=>{var[g,p]=h,_=p.map(w=>w.dataKey),x=vA(t,r,p[0].barSize);return{stackId:g,dataKeys:_,barSize:x}}),m=s.map(h=>{var g=[h.dataKey].filter(_=>_!=null),p=vA(t,r,h.barSize);return{stackId:void 0,dataKeys:g,barSize:p}});return[...u,...m]};function yA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Vd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yA(Object(r),!0).forEach(function(n){YY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YY(e,t,r){return(t=GY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GY(e){var t=VY(e,"string");return typeof t=="symbol"?t:t+""}function VY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WY(e,t,r,n,i){var s=n.length;if(!(s<1)){var c=Dr(e,r,0,!0),u,m=[];if(zt(n[0].barSize)){var h=!1,g=r/s,p=n.reduce((O,C)=>O+(C.barSize||0),0);p+=(s-1)*c,p>=r&&(p-=(s-1)*c,c=0),p>=r&&g>0&&(h=!0,g*=.9,p=s*g);var _=(r-p)/2>>0,x={offset:_-c,size:0};u=n.reduce((O,C)=>{var A,k={stackId:C.stackId,dataKeys:C.dataKeys,position:{offset:x.offset+x.size+c,size:h?g:(A=C.barSize)!==null&&A!==void 0?A:0}},D=[...O,k];return x=D[D.length-1].position,D},m)}else{var w=Dr(t,r,0,!0);r-2*w-(s-1)*c<=0&&(c=0);var j=(r-2*w-(s-1)*c)/s;j>1&&(j>>=0);var S=zt(i)?Math.min(j,i):j;u=n.reduce((O,C,A)=>[...O,{stackId:C.stackId,dataKeys:C.dataKeys,position:{offset:w+(j+c)*A+(j-S)/2,size:S}}],m)}return u}}var XY=(e,t,r,n,i,s,c)=>{var u=Mt(c)?t:c,m=WY(r,n,i!==s?i:s,e,u);return i!==s&&m!=null&&(m=m.map(h=>Vd(Vd({},h),{},{position:Vd(Vd({},h.position),{},{offset:h.position.offset-i/2})}))),m},ZY=(e,t)=>{var r=q0(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var i=e[n];if(i){var{stackedData:s}=i;if(s)return s.find(c=>c.key===r)}}}};function QY(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&zt(e.zIndex)?e.zIndex:t}var tM=e=>{var{chartData:t}=e,r=Rt(),n=Tr();return y.useEffect(()=>n?()=>{}:(r(EC(t)),()=>{r(EC(void 0))}),[t,r,n]),null},bA={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},rM=Qr({name:"brush",initialState:bA,reducers:{setBrushSettings(e,t){return t.payload==null?bA:t.payload}}}),{setBrushSettings:KZ}=rM.actions,JY=rM.reducer;function _A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Wd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_A(Object(r),!0).forEach(function(n){nM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_A(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nM(e,t,r){return(t=eG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eG(e){var t=tG(e,"string");return typeof t=="symbol"?t:t+""}function tG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rG=(e,t)=>{var{x:r,y:n}=e,{x:i,y:s}=t;return{x:Math.min(r,i),y:Math.min(n,s),width:Math.abs(i-r),height:Math.abs(s-n)}},YZ=e=>{var{x1:t,y1:r,x2:n,y2:i}=e;return rG({x:t,y:r},{x:n,y:i})};class ah{static create(t){return new ah(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(t)+s}default:return this.scale(t)}if(r){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+c}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],i=r[r.length-1];return n<=i?t>=n&&t<=i:t>=i&&t<=n}}nM(ah,"EPS",1e-4);var GZ=e=>{var t=Object.keys(e).reduce((r,n)=>Wd(Wd({},r),{},{[n]:ah.create(e[n])}),{});return Wd(Wd({},t),{},{apply(r){var{bandAware:n,position:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.fromEntries(Object.entries(r).map(s=>{var[c,u]=s;return[c,t[c].apply(u,{bandAware:n,position:i})]}))},isInRange(r){return Object.keys(r).every(n=>t[n].isInRange(r[n]))}})};function nG(e){return(e%180+180)%180}var aG=function(t){var{width:r,height:n}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=nG(i),c=s*Math.PI/180,u=Math.atan(n/r),m=c>u&&c<Math.PI-u?n/Math.sin(c):r/Math.cos(c);return Math.abs(m)},iG={dots:[],areas:[],lines:[]},aM=Qr({name:"referenceElements",initialState:iG,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Qn(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Qn(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Qn(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:VZ,removeDot:WZ,addArea:XZ,removeArea:ZZ,addLine:QZ,removeLine:JZ}=aM.actions,oG=aM.reducer,iM=y.createContext(void 0),sG=e=>{var{children:t}=e,[r]=y.useState("".concat(jc("recharts"),"-clip")),n=O_();if(n==null)return null;var{x:i,y:s,width:c,height:u}=n;return y.createElement(iM.Provider,{value:r},y.createElement("defs",null,y.createElement("clipPath",{id:r},y.createElement("rect",{x:i,y:s,height:u,width:c}))),t)},eQ=()=>y.useContext(iM);function oM(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t){var i=e[n];i!==void 0&&r.push(i)}return r}function lG(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return aG(n,r)}function cG(e,t,r){var n=r==="width",{x:i,y:s,width:c,height:u}=e;return t===1?{start:n?i:s,end:n?i+c:s+u}:{start:n?i+c:s+u,end:n?i:s}}function zc(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-i)<=0}function uG(e,t){return oM(e,t+1)}function dG(e,t,r,n,i){for(var s=(n||[]).slice(),{start:c,end:u}=t,m=0,h=1,g=c,p=function(){var w=n?.[m];if(w===void 0)return{v:oM(n,h)};var j=m,S,O=()=>(S===void 0&&(S=r(w,j)),S),C=w.coordinate,A=m===0||zc(e,C,O,g,u);A||(m=0,g=c,h+=1),A&&(g=C+e*(O()/2+i),m+=h)},_;h<=s.length;)if(_=p(),_)return _.v;return[]}function fG(e,t,r,n,i){var s=(n||[]).slice(),c=s.length;if(c===0)return[];for(var{start:u,end:m}=t,h=1;h<=c;h++){for(var g=(c-1)%h,p=u,_=!0,x=function(){var C=n[w],A=w,k,D=()=>(k===void 0&&(k=r(C,A)),k),M=C.coordinate,L=w===g||zc(e,M,D,p,m);if(!L)return _=!1,1;L&&(p=M+e*(D()/2+i))},w=g;w<c&&!x();w+=h);if(_){for(var j=[],S=g;S<c;S+=h)j.push(n[S]);return j}}return[]}function xA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Nr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xA(Object(r),!0).forEach(function(n){mG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mG(e,t,r){return(t=hG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hG(e){var t=pG(e,"string");return typeof t=="symbol"?t:t+""}function pG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gG(e,t,r,n,i){for(var s=(n||[]).slice(),c=s.length,{start:u}=t,{end:m}=t,h=function(_){var x=s[_],w,j=()=>(w===void 0&&(w=r(x,_)),w);if(_===c-1){var S=e*(x.coordinate+e*j()/2-m);s[_]=x=Nr(Nr({},x),{},{tickCoord:S>0?x.coordinate-S*e:x.coordinate})}else s[_]=x=Nr(Nr({},x),{},{tickCoord:x.coordinate});if(x.tickCoord!=null){var O=zc(e,x.tickCoord,j,u,m);O&&(m=x.tickCoord-e*(j()/2+i),s[_]=Nr(Nr({},x),{},{isShow:!0}))}},g=c-1;g>=0;g--)h(g);return s}function vG(e,t,r,n,i,s){var c=(n||[]).slice(),u=c.length,{start:m,end:h}=t;if(s){var g=n[u-1],p=r(g,u-1),_=e*(g.coordinate+e*p/2-h);if(c[u-1]=g=Nr(Nr({},g),{},{tickCoord:_>0?g.coordinate-_*e:g.coordinate}),g.tickCoord!=null){var x=zc(e,g.tickCoord,()=>p,m,h);x&&(h=g.tickCoord-e*(p/2+i),c[u-1]=Nr(Nr({},g),{},{isShow:!0}))}}for(var w=s?u-1:u,j=function(C){var A=c[C],k,D=()=>(k===void 0&&(k=r(A,C)),k);if(C===0){var M=e*(A.coordinate-e*D()/2-m);c[C]=A=Nr(Nr({},A),{},{tickCoord:M<0?A.coordinate-M*e:A.coordinate})}else c[C]=A=Nr(Nr({},A),{},{tickCoord:A.coordinate});if(A.tickCoord!=null){var L=zc(e,A.tickCoord,D,m,h);L&&(m=A.tickCoord+e*(D()/2+i),c[C]=Nr(Nr({},A),{},{isShow:!0}))}},S=0;S<w;S++)j(S);return c}function C_(e,t,r){var{tick:n,ticks:i,viewBox:s,minTickGap:c,orientation:u,interval:m,tickFormatter:h,unit:g,angle:p}=e;if(!i||!i.length||!n)return[];if(ke(m)||Rm.isSsr){var _;return(_=uG(i,ke(m)?m:0))!==null&&_!==void 0?_:[]}var x=[],w=u==="top"||u==="bottom"?"width":"height",j=g&&w==="width"?xc(g,{fontSize:t,letterSpacing:r}):{width:0,height:0},S=(A,k)=>{var D=typeof h=="function"?h(A.value,k):A.value;return w==="width"?lG(xc(D,{fontSize:t,letterSpacing:r}),j,p):xc(D,{fontSize:t,letterSpacing:r})[w]},O=i.length>=2?vr(i[1].coordinate-i[0].coordinate):1,C=cG(s,O,w);return m==="equidistantPreserveStart"?dG(O,C,S,i,c):m==="equidistantPreserveEnd"?fG(O,C,S,i,c):(m==="preserveStart"||m==="preserveStartEnd"?x=vG(O,C,S,i,c,m==="preserveStartEnd"):x=gG(O,C,S,i,c),x.filter(A=>A.isShow))}var yG=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:s=0}=e,c=0;if(t){Array.from(t).forEach(g=>{if(g){var p=g.getBoundingClientRect();p.width>c&&(c=p.width)}});var u=r?r.getBoundingClientRect().width:0,m=i+s,h=c+m+u+(r?n:0);return Math.round(h)}return 0},bG=["axisLine","width","height","className","hide","ticks","axisType"];function _G(e,t){if(e==null)return{};var r,n,i=xG(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function xG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function $o(){return $o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$o.apply(null,arguments)}function wA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function tr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wA(Object(r),!0).forEach(function(n){wG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wG(e,t,r){return(t=jG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jG(e){var t=SG(e,"string");return typeof t=="symbol"?t:t+""}function SG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fa={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:nr.axis};function EG(e){var{x:t,y:r,width:n,height:i,orientation:s,mirror:c,axisLine:u,otherSvgProps:m}=e;if(!u)return null;var h=tr(tr(tr({},m),vn(u)),{},{fill:"none"});if(s==="top"||s==="bottom"){var g=+(s==="top"&&!c||s==="bottom"&&c);h=tr(tr({},h),{},{x1:t,y1:r+g*i,x2:t+n,y2:r+g*i})}else{var p=+(s==="left"&&!c||s==="right"&&c);h=tr(tr({},h),{},{x1:t+p*n,y1:r,x2:t+p*n,y2:r+i})}return y.createElement("line",$o({},h,{className:st("recharts-cartesian-axis-line",zo(u,"className"))}))}function OG(e,t,r,n,i,s,c,u,m){var h,g,p,_,x,w,j=u?-1:1,S=e.tickSize||c,O=ke(e.tickCoord)?e.tickCoord:e.coordinate;switch(s){case"top":h=g=e.coordinate,_=r+ +!u*i,p=_-j*S,w=p-j*m,x=O;break;case"left":p=_=e.coordinate,g=t+ +!u*n,h=g-j*S,x=h-j*m,w=O;break;case"right":p=_=e.coordinate,g=t+ +u*n,h=g+j*S,x=h+j*m,w=O;break;default:h=g=e.coordinate,_=r+ +u*i,p=_+j*S,w=p+j*m,x=O;break}return{line:{x1:h,y1:p,x2:g,y2:_},tick:{x,y:w}}}function CG(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function AG(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function NG(e){var{option:t,tickProps:r,value:n}=e,i,s=st(r.className,"recharts-cartesian-axis-tick-value");if(y.isValidElement(t))i=y.cloneElement(t,tr(tr({},r),{},{className:s}));else if(typeof t=="function")i=t(tr(tr({},r),{},{className:s}));else{var c="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(c=st(c,t?.className)),i=y.createElement(eh,$o({},r,{className:c}),n)}return i}var kG=y.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:i,stroke:s,tickFormatter:c,unit:u,padding:m,tickTextProps:h,orientation:g,mirror:p,x:_,y:x,width:w,height:j,tickSize:S,tickMargin:O,fontSize:C,letterSpacing:A,getTicksConfig:k,events:D,axisType:M}=e,L=C_(tr(tr({},k),{},{ticks:r}),C,A),X=CG(g,p),re=AG(g,p),ae=vn(k),G=Ro(n),B={};typeof i=="object"&&(B=i);var ce=tr(tr({},ae),{},{fill:"none"},B),ge=L.map(I=>tr({entry:I},OG(I,_,x,w,j,g,S,p,O))),q=ge.map(I=>{var{entry:ee,line:U}=I;return y.createElement(yr,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(ee.value,"-").concat(ee.coordinate,"-").concat(ee.tickCoord)},i&&y.createElement("line",$o({},ce,U,{className:st("recharts-cartesian-axis-tick-line",zo(i,"className"))})))}),R=ge.map((I,ee)=>{var{entry:U,tick:me}=I,we=tr(tr(tr(tr({textAnchor:X,verticalAnchor:re},ae),{},{stroke:"none",fill:s},G),me),{},{index:ee,payload:U,visibleTicksCount:L.length,tickFormatter:c,padding:m},h);return y.createElement(yr,$o({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(U.value,"-").concat(U.coordinate,"-").concat(U.tickCoord)},pm(D,U,ee)),n&&y.createElement(NG,{option:n,tickProps:we,value:"".concat(typeof c=="function"?c(U.value,ee):U.value).concat(u||"")}))});return y.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(M,"-ticks")},R.length>0&&y.createElement(Jr,{zIndex:nr.label},y.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(M,"-tick-labels"),ref:t},R)),q.length>0&&y.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(M,"-tick-lines")},q))}),DG=y.forwardRef((e,t)=>{var{axisLine:r,width:n,height:i,className:s,hide:c,ticks:u,axisType:m}=e,h=_G(e,bG),[g,p]=y.useState(""),[_,x]=y.useState(""),w=y.useRef(null);y.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var S;return yG({ticks:w.current,label:(S=e.labelRef)===null||S===void 0?void 0:S.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var j=y.useCallback(S=>{if(S){var O=S.getElementsByClassName("recharts-cartesian-axis-tick-value");w.current=O;var C=O[0];if(C){var A=window.getComputedStyle(C),k=A.fontSize,D=A.letterSpacing;(k!==g||D!==_)&&(p(k),x(D))}}},[g,_]);return c||n!=null&&n<=0||i!=null&&i<=0?null:y.createElement(Jr,{zIndex:e.zIndex},y.createElement(yr,{className:st("recharts-cartesian-axis",s)},y.createElement(EG,{x:e.x,y:e.y,width:n,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:vn(e)}),y.createElement(kG,{ref:j,axisType:m,events:h,fontSize:g,getTicksConfig:e,height:e.height,letterSpacing:_,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:u,unit:e.unit,width:e.width,x:e.x,y:e.y}),y.createElement(E7,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},y.createElement(R7,{label:e.label,labelRef:e.labelRef}),e.children)))}),A_=y.forwardRef((e,t)=>{var r=br(e,Fa);return y.createElement(DG,$o({},r,{ref:t}))});A_.displayName="CartesianAxis";var TG=["x1","y1","x2","y2","key"],PG=["offset"],MG=["xAxisId","yAxisId"],RG=["xAxisId","yAxisId"];function jA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function kr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jA(Object(r),!0).forEach(function(n){qG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qG(e,t,r){return(t=zG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zG(e){var t=LG(e,"string");return typeof t=="symbol"?t:t+""}function LG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function No(){return No=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},No.apply(null,arguments)}function rm(e,t){if(e==null)return{};var r,n,i=IG(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function IG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var UG=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:i,width:s,height:c,ry:u}=e;return y.createElement("rect",{x:n,y:i,ry:u,width:s,height:c,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function sM(e){var{option:t,lineItemProps:r}=e,n;if(y.isValidElement(t))n=y.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var i,{x1:s,y1:c,x2:u,y2:m,key:h}=r,g=rm(r,TG),p=(i=vn(g))!==null&&i!==void 0?i:{},{offset:_}=p,x=rm(p,PG);n=y.createElement("line",No({},x,{x1:s,y1:c,x2:u,y2:m,fill:"none",key:h}))}return n}function BG(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:s,yAxisId:c}=e,u=rm(e,MG),m=i.map((h,g)=>{var p=kr(kr({},u),{},{x1:t,y1:h,x2:t+r,y2:h,key:"line-".concat(g),index:g});return y.createElement(sM,{key:"line-".concat(g),option:n,lineItemProps:p})});return y.createElement("g",{className:"recharts-cartesian-grid-horizontal"},m)}function $G(e){var{y:t,height:r,vertical:n=!0,verticalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:s,yAxisId:c}=e,u=rm(e,RG),m=i.map((h,g)=>{var p=kr(kr({},u),{},{x1:h,y1:t,x2:h,y2:t+r,key:"line-".concat(g),index:g});return y.createElement(sM,{option:n,lineItemProps:p,key:"line-".concat(g)})});return y.createElement("g",{className:"recharts-cartesian-grid-vertical"},m)}function HG(e){var{horizontalFill:t,fillOpacity:r,x:n,y:i,width:s,height:c,horizontalPoints:u,horizontal:m=!0}=e;if(!m||!t||!t.length||u==null)return null;var h=u.map(p=>Math.round(p+i-i)).sort((p,_)=>p-_);i!==h[0]&&h.unshift(0);var g=h.map((p,_)=>{var x=!h[_+1],w=x?i+c-p:h[_+1]-p;if(w<=0)return null;var j=_%t.length;return y.createElement("rect",{key:"react-".concat(_),y:p,x:n,height:w,width:s,stroke:"none",fill:t[j],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return y.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},g)}function FG(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:i,y:s,width:c,height:u,verticalPoints:m}=e;if(!t||!r||!r.length)return null;var h=m.map(p=>Math.round(p+i-i)).sort((p,_)=>p-_);i!==h[0]&&h.unshift(0);var g=h.map((p,_)=>{var x=!h[_+1],w=x?i+c-p:h[_+1]-p;if(w<=0)return null;var j=_%r.length;return y.createElement("rect",{key:"react-".concat(_),x:p,y:s,width:w,height:u,stroke:"none",fill:r[j],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return y.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},g)}var KG=(e,t)=>{var{xAxis:r,width:n,height:i,offset:s}=e;return Vk(C_(kr(kr(kr({},Fa),r),{},{ticks:Wk(r),viewBox:{x:0,y:0,width:n,height:i}})),s.left,s.left+s.width,t)},YG=(e,t)=>{var{yAxis:r,width:n,height:i,offset:s}=e;return Vk(C_(kr(kr(kr({},Fa),r),{},{ticks:Wk(r),viewBox:{x:0,y:0,width:n,height:i}})),s.top,s.top+s.height,t)},GG={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:nr.grid};function mb(e){var t=aD(),r=iD(),n=nD(),i=kr(kr({},br(e,GG)),{},{x:ke(e.x)?e.x:n.left,y:ke(e.y)?e.y:n.top,width:ke(e.width)?e.width:n.width,height:ke(e.height)?e.height:n.height}),{xAxisId:s,yAxisId:c,x:u,y:m,width:h,height:g,syncWithTicks:p,horizontalValues:_,verticalValues:x}=i,w=Tr(),j=De(re=>mC(re,"xAxis",s,w)),S=De(re=>mC(re,"yAxis",c,w));if(!pa(h)||!pa(g)||!ke(u)||!ke(m))return null;var O=i.verticalCoordinatesGenerator||KG,C=i.horizontalCoordinatesGenerator||YG,{horizontalPoints:A,verticalPoints:k}=i;if((!A||!A.length)&&typeof C=="function"){var D=_&&_.length,M=C({yAxis:S?kr(kr({},S),{},{ticks:D?_:S.ticks}):void 0,width:t??h,height:r??g,offset:n},D?!0:p);kf(Array.isArray(M),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof M,"]")),Array.isArray(M)&&(A=M)}if((!k||!k.length)&&typeof O=="function"){var L=x&&x.length,X=O({xAxis:j?kr(kr({},j),{},{ticks:L?x:j.ticks}):void 0,width:t??h,height:r??g,offset:n},L?!0:p);kf(Array.isArray(X),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof X,"]")),Array.isArray(X)&&(k=X)}return y.createElement(Jr,{zIndex:i.zIndex},y.createElement("g",{className:"recharts-cartesian-grid"},y.createElement(UG,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),y.createElement(HG,No({},i,{horizontalPoints:A})),y.createElement(FG,No({},i,{verticalPoints:k})),y.createElement(BG,No({},i,{offset:n,horizontalPoints:A,xAxis:j,yAxis:S})),y.createElement($G,No({},i,{offset:n,verticalPoints:k,xAxis:j,yAxis:S}))))}mb.displayName="CartesianGrid";var VG={},lM=Qr({name:"errorBars",initialState:VG,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:i}=t.payload;e[r]&&(e[r]=e[r].map(s=>s.dataKey===n.dataKey&&s.direction===n.direction?i:s))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),{addErrorBar:tQ,replaceErrorBar:rQ,removeErrorBar:nQ}=lM.actions,WG=lM.reducer,XG=["children"];function ZG(e,t){if(e==null)return{};var r,n,i=QG(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function QG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var JG={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},eV=y.createContext(JG);function cM(e){var{children:t}=e,r=ZG(e,XG);return y.createElement(eV.Provider,{value:r},t)}function N_(e,t){var r,n,i=De(h=>oi(h,e)),s=De(h=>si(h,t)),c=(r=i?.allowDataOverflow)!==null&&r!==void 0?r:hr.allowDataOverflow,u=(n=s?.allowDataOverflow)!==null&&n!==void 0?n:pr.allowDataOverflow,m=c||u;return{needClip:m,needClipX:c,needClipY:u}}function uM(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,i=O_(),{needClipX:s,needClipY:c,needClip:u}=N_(t,r);if(!u||!i)return null;var{x:m,y:h,width:g,height:p}=i;return y.createElement("clipPath",{id:"clipPath-".concat(n)},y.createElement("rect",{x:s?m:m-g/2,y:c?h:h-p/2,width:s?g:g*2,height:c?p:p*2}))}var dM=(e,t,r,n)=>Yi(e,"xAxis",t,n),fM=(e,t,r,n)=>Ki(e,"xAxis",t,n),mM=(e,t,r,n)=>Yi(e,"yAxis",r,n),hM=(e,t,r,n)=>Ki(e,"yAxis",r,n),tV=W([et,dM,mM,fM,hM],(e,t,r,n,i)=>Wi(e,"xAxis")?Fs(t,n,!1):Fs(r,i,!1)),rV=(e,t,r,n,i)=>i;function nV(e){return e.type==="line"}var aV=W([Vm,rV],(e,t)=>e.filter(nV).find(r=>r.id===t)),iV=W([et,dM,mM,fM,hM,aV,tV,C0],(e,t,r,n,i,s,c,u)=>{var{chartData:m,dataStartIndex:h,dataEndIndex:g}=u;if(!(s==null||t==null||r==null||n==null||i==null||n.length===0||i.length===0||c==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:p,data:_}=s,x;if(_!=null&&_.length>0?x=_:x=m?.slice(h,g+1),x!=null)return YV({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:i,dataKey:p,bandSize:c,displayedData:x})}});function oV(e){var t=Ro(e),r=3,n=2;if(t!=null){var{r:i,strokeWidth:s}=t,c=Number(i),u=Number(s);return(Number.isNaN(c)||c<0)&&(c=r),(Number.isNaN(u)||u<0)&&(u=n),{r:c,strokeWidth:u}}return{r,strokeWidth:n}}var iy={exports:{}},oy={};var SA;function sV(){if(SA)return oy;SA=1;var e=lm();function t(m,h){return m===h&&(m!==0||1/m===1/h)||m!==m&&h!==h}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,i=e.useRef,s=e.useEffect,c=e.useMemo,u=e.useDebugValue;return oy.useSyncExternalStoreWithSelector=function(m,h,g,p,_){var x=i(null);if(x.current===null){var w={hasValue:!1,value:null};x.current=w}else w=x.current;x=c(function(){function S(D){if(!O){if(O=!0,C=D,D=p(D),_!==void 0&&w.hasValue){var M=w.value;if(_(M,D))return A=M}return A=D}if(M=A,r(C,D))return M;var L=p(D);return _!==void 0&&_(M,L)?(C=D,M):(C=D,A=L)}var O=!1,C,A,k=g===void 0?null:g;return[function(){return S(h())},k===null?void 0:function(){return S(k())}]},[h,g,p,_]);var j=n(m,x[0],x[1]);return s(function(){w.hasValue=!0,w.value=j},[j]),u(j),j},oy}var EA;function lV(){return EA||(EA=1,iy.exports=sV()),iy.exports}lV();function cV(e){e()}function uV(){let e=null,t=null;return{clear(){e=null,t=null},notify(){cV(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=t={callback:r,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!n||e===null||(n=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var OA={notify(){},get:()=>[]};function dV(e,t){let r,n=OA,i=0,s=!1;function c(j){g();const S=n.subscribe(j);let O=!1;return()=>{O||(O=!0,S(),p())}}function u(){n.notify()}function m(){w.onStateChange&&w.onStateChange()}function h(){return s}function g(){i++,r||(r=e.subscribe(m),n=uV())}function p(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=OA)}function _(){s||(s=!0,g())}function x(){s&&(s=!1,p())}const w={addNestedSub:c,notifyNestedSubs:u,handleChangeWrapper:m,isSubscribed:h,trySubscribe:_,tryUnsubscribe:x,getListeners:()=>n};return w}var fV=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",mV=fV(),hV=()=>typeof navigator<"u"&&navigator.product==="ReactNative",pV=hV(),gV=()=>mV||pV?y.useLayoutEffect:y.useEffect,vV=gV();function CA(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function yV(e,t){if(CA(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(!Object.prototype.hasOwnProperty.call(t,r[i])||!CA(e[r[i]],t[r[i]]))return!1;return!0}var bV=Symbol.for("react-redux-context"),_V=typeof globalThis<"u"?globalThis:{};function xV(){if(!y.createContext)return{};const e=_V[bV]??=new Map;let t=e.get(y.createContext);return t||(t=y.createContext(null),e.set(y.createContext,t)),t}var wV=xV();function jV(e){const{children:t,context:r,serverState:n,store:i}=e,s=y.useMemo(()=>{const m=dV(i);return{store:i,subscription:m,getServerState:n?()=>n:void 0}},[i,n]),c=y.useMemo(()=>i.getState(),[i]);vV(()=>{const{subscription:m}=s;return m.onStateChange=m.notifyNestedSubs,m.trySubscribe(),c!==i.getState()&&m.notifyNestedSubs(),()=>{m.tryUnsubscribe(),m.onStateChange=void 0}},[s,c]);const u=r||wV;return y.createElement(u.Provider,{value:s},t)}var SV=jV,EV=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function OV(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function ih(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(EV.has(n)){if(e[n]==null&&t[n]==null)continue;if(!yV(e[n],t[n]))return!1}else if(!OV(e[n],t[n]))return!1;return!0}var CV=["id"],AV=["type","layout","connectNulls","needClip","shape"],NV=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Lc(){return Lc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lc.apply(null,arguments)}function AA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ua(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AA(Object(r),!0).forEach(function(n){kV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kV(e,t,r){return(t=DV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DV(e){var t=TV(e,"string");return typeof t=="symbol"?t:t+""}function TV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function k_(e,t){if(e==null)return{};var r,n,i=PV(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function PV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var MV=e=>{var{dataKey:t,name:r,stroke:n,legendType:i,hide:s}=e;return[{inactive:s,dataKey:t,type:i,color:n,value:Qs(r,t),payload:e}]},RV=y.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:i,fill:s,name:c,hide:u,unit:m,tooltipType:h,id:g}=e,p={dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:i,fill:s,dataKey:t,nameKey:void 0,name:Qs(c,t),hide:u,type:h,color:n,unit:m,graphicalItemId:g}};return y.createElement(S_,{tooltipEntrySettings:p})}),pM=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function qV(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],i=0;i<t;++i)n=[...n,...r];return n}var zV=(e,t,r)=>{var n=r.reduce((p,_)=>p+_);if(!n)return pM(t,e);for(var i=Math.floor(e/n),s=e%n,c=t-e,u=[],m=0,h=0;m<r.length;h+=r[m],++m)if(h+r[m]>s){u=[...r.slice(0,m),s-h];break}var g=u.length%2===0?[0,c]:[c];return[...qV(r,i),...u,...g].map(p=>"".concat(p,"px")).join(", ")};function LV(e){var{clipPathId:t,points:r,props:n}=e,{dot:i,dataKey:s,needClip:c}=n,{id:u}=n,m=k_(n,CV),h=vn(m);return y.createElement(SY,{points:r,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:s,baseProps:h,needClip:c,clipPathId:t})}function IV(e){var{showLabels:t,children:r,points:n}=e,i=y.useMemo(()=>n?.map(s=>{var c,u,m={x:(c=s.x)!==null&&c!==void 0?c:0,y:(u=s.y)!==null&&u!==void 0?u:0,width:0,lowerWidth:0,upperWidth:0,height:0};return ua(ua({},m),{},{value:s.value,payload:s.payload,viewBox:m,parentViewBox:void 0,fill:void 0})}),[n]);return y.createElement(UP,{value:t?i:void 0},r)}function NA(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:i,props:s}=e,{type:c,layout:u,connectNulls:m,needClip:h,shape:g}=s,p=k_(s,AV),_=ua(ua({},Br(p)),{},{fill:"none",className:"recharts-line-curve",clipPath:h?"url(#clipPath-".concat(t,")"):void 0,points:n,type:c,layout:u,connectNulls:m,strokeDasharray:i??s.strokeDasharray});return y.createElement(y.Fragment,null,n?.length>1&&y.createElement(__,Lc({shapeType:"curve",option:g},_,{pathRef:r})),y.createElement(LV,{points:n,clipPathId:t,props:s}))}function UV(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function BV(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:i,longestAnimatedLengthRef:s}=e,{points:c,strokeDasharray:u,isAnimationActive:m,animationBegin:h,animationDuration:g,animationEasing:p,animateNewValues:_,width:x,height:w,onAnimationEnd:j,onAnimationStart:S}=r,O=i.current,C=Xc(c,"recharts-line-"),A=y.useRef(C),[k,D]=y.useState(!1),M=!k,L=y.useCallback(()=>{typeof j=="function"&&j(),D(!1)},[j]),X=y.useCallback(()=>{typeof S=="function"&&S(),D(!0)},[S]),re=UV(n.current),ae=y.useRef(0);A.current!==C&&(ae.current=s.current,A.current=C);var G=ae.current;return y.createElement(IV,{points:c,showLabels:M},r.children,y.createElement(Wc,{animationId:C,begin:h,duration:g,isActive:m,easing:p,onAnimationEnd:L,onAnimationStart:X,key:C},B=>{var ce=Dt(G,re+G,B),ge=Math.min(ce,re),q;if(m)if(u){var R="".concat(u).split(/[,\s]+/gim).map(U=>parseFloat(U));q=zV(ge,re,R)}else q=pM(re,ge);else q=u==null?void 0:String(u);if(B>0&&re>0&&(i.current=c,s.current=Math.max(s.current,ge)),O){var I=O.length/c.length,ee=B===1?c:c.map((U,me)=>{var we=Math.floor(me*I);if(O[we]){var J=O[we];return ua(ua({},U),{},{x:Dt(J.x,U.x,B),y:Dt(J.y,U.y,B)})}return _?ua(ua({},U),{},{x:Dt(x*2,U.x,B),y:Dt(w/2,U.y,B)}):ua(ua({},U),{},{x:U.x,y:U.y})});return i.current=ee,y.createElement(NA,{props:r,points:ee,clipPathId:t,pathRef:n,strokeDasharray:q})}return y.createElement(NA,{props:r,points:c,clipPathId:t,pathRef:n,strokeDasharray:q})}),y.createElement(g_,{label:r.label}))}function $V(e){var{clipPathId:t,props:r}=e,n=y.useRef(null),i=y.useRef(0),s=y.useRef(null);return y.createElement(BV,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:i,pathRef:s})}var HV=(e,t)=>{var r,n;return{x:(r=e.x)!==null&&r!==void 0?r:void 0,y:(n=e.y)!==null&&n!==void 0?n:void 0,value:e.value,errorVal:gt(e.payload,t)}};class FV extends y.Component{render(){var{hide:t,dot:r,points:n,className:i,xAxisId:s,yAxisId:c,top:u,left:m,width:h,height:g,id:p,needClip:_,zIndex:x}=this.props;if(t)return null;var w=st("recharts-line",i),j=p,{r:S,strokeWidth:O}=oV(r),C=VP(r),A=S*2+O,k=_?"url(#clipPath-".concat(C?"":"dots-").concat(j,")"):void 0;return y.createElement(Jr,{zIndex:x},y.createElement(yr,{className:w},_&&y.createElement("defs",null,y.createElement(uM,{clipPathId:j,xAxisId:s,yAxisId:c}),!C&&y.createElement("clipPath",{id:"clipPath-dots-".concat(j)},y.createElement("rect",{x:m-A/2,y:u-A/2,width:h+A,height:g+A}))),y.createElement(cM,{xAxisId:s,yAxisId:c,data:n,dataPointFormatter:HV,errorBarOffset:0},y.createElement($V,{props:this.props,clipPathId:j}))),y.createElement(FY,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:k}))}}var gM={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:nr.line,type:"linear"};function KV(e){var t=br(e,gM),{activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:s,animationEasing:c,connectNulls:u,dot:m,hide:h,isAnimationActive:g,label:p,legendType:_,xAxisId:x,yAxisId:w,id:j}=t,S=k_(t,NV),{needClip:O}=N_(x,w),C=O_(),A=Yo(),k=Tr(),D=De(ae=>iV(ae,x,w,k,j));if(A!=="horizontal"&&A!=="vertical"||D==null||C==null)return null;var{height:M,width:L,x:X,y:re}=C;return y.createElement(FV,Lc({},S,{id:j,connectNulls:u,dot:m,activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:s,animationEasing:c,isAnimationActive:g,hide:h,label:p,legendType:_,xAxisId:x,yAxisId:w,points:D,layout:A,height:M,width:L,left:X,top:re,needClip:O}))}function YV(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:s,dataKey:c,bandSize:u,displayedData:m}=e;return m.map((h,g)=>{var p=gt(h,c);if(t==="horizontal"){var _=vE({axis:r,ticks:i,bandSize:u,entry:h,index:g}),x=Mt(p)?null:n.scale(p);return{x:_,y:x,value:p,payload:h}}var w=Mt(p)?null:r.scale(p),j=vE({axis:n,ticks:s,bandSize:u,entry:h,index:g});return w==null||j==null?null:{x:w,y:j,value:p,payload:h}}).filter(Boolean)}function GV(e){var t=br(e,gM),r=Tr();return y.createElement(E_,{id:t.id,type:"line"},n=>y.createElement(y.Fragment,null,y.createElement(WP,{legendPayload:MV(t)}),y.createElement(RV,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:n}),y.createElement(ZP,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),y.createElement(KV,Lc({},t,{id:n}))))}var vM=y.memo(GV,ih);vM.displayName="Line";function Wo(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||n===void 0?void 0:n.xAxisId)!==null&&r!==void 0?r:JP}function Xo(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||n===void 0?void 0:n.yAxisId)!==null&&r!==void 0?r:JP}var VV="Invariant failed";function WV(e,t){throw new Error(VV)}function hb(){return hb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hb.apply(null,arguments)}function nm(e){return y.createElement(__,hb({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var XV=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,i)=>{if(ke(t))return t;var s=ke(n)||Mt(n);return s?t(n,i):(s||WV(),r)}},ZV=(e,t,r)=>r,QV=(e,t)=>t,du=W([Vm,QV],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),JV=W([du],e=>e?.maxBarSize),eW=(e,t,r,n)=>n,tW=W([et,Vm,Wo,Xo,ZV],(e,t,r,n,i)=>t.filter(s=>e==="horizontal"?s.xAxisId===r:s.yAxisId===n).filter(s=>s.isPanorama===i).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),rW=(e,t,r)=>{var n=et(e),i=Wo(e,t),s=Xo(e,t);if(!(i==null||s==null))return n==="horizontal"?ib(e,"yAxis",s,r):ib(e,"xAxis",i,r)},nW=(e,t)=>{var r=et(e),n=Wo(e,t),i=Xo(e,t);if(!(n==null||i==null))return r==="horizontal"?fC(e,"xAxis",n):fC(e,"yAxis",i)},aW=W([tW,O8,nW],KY),iW=(e,t,r)=>{var n,i,s=du(e,t);if(s!=null){var c=Wo(e,t),u=Xo(e,t);if(!(c==null||u==null)){var m=et(e),h=xT(e),{maxBarSize:g}=s,p=Mt(g)?h:g,_,x;return m==="horizontal"?(_=Yi(e,"xAxis",c,r),x=Ki(e,"xAxis",c,r)):(_=Yi(e,"yAxis",u,r),x=Ki(e,"yAxis",u,r)),(n=(i=Fs(_,x,!0))!==null&&i!==void 0?i:p)!==null&&n!==void 0?n:0}}},yM=(e,t,r)=>{var n=et(e),i=Wo(e,t),s=Xo(e,t);if(!(i==null||s==null)){var c,u;return n==="horizontal"?(c=Yi(e,"xAxis",i,r),u=Ki(e,"xAxis",i,r)):(c=Yi(e,"yAxis",s,r),u=Ki(e,"yAxis",s,r)),Fs(c,u)}},oW=W([aW,xT,E8,wT,iW,yM,JV],XY),sW=(e,t,r)=>{var n=Wo(e,t);if(n!=null)return Yi(e,"xAxis",n,r)},lW=(e,t,r)=>{var n=Xo(e,t);if(n!=null)return Yi(e,"yAxis",n,r)},cW=(e,t,r)=>{var n=Wo(e,t);if(n!=null)return Ki(e,"xAxis",n,r)},uW=(e,t,r)=>{var n=Xo(e,t);if(n!=null)return Ki(e,"yAxis",n,r)},dW=W([oW,du],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),fW=W([rW,du],ZY),mW=W([cr,Jb,sW,lW,cW,uW,dW,et,m8,yM,fW,du,eW],(e,t,r,n,i,s,c,u,m,h,g,p,_)=>{var{chartData:x,dataStartIndex:w,dataEndIndex:j}=m;if(!(p==null||c==null||t==null||u!=="horizontal"&&u!=="vertical"||r==null||n==null||i==null||s==null||h==null)){var{data:S}=p,O;if(S!=null&&S.length>0?O=S:O=x?.slice(w,j+1),O!=null)return $W({layout:u,barSettings:p,pos:c,parentViewBox:t,bandSize:h,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:s,stackedData:g,displayedData:O,offset:e,cells:_,dataStartIndex:w})}}),hW=["index"];function pb(){return pb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pb.apply(null,arguments)}function pW(e,t){if(e==null)return{};var r,n,i=gW(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function gW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var bM=y.createContext(void 0),vW=e=>{var t=y.useContext(bM);if(t!=null)return t.stackId;if(e!=null)return w5(e)},yW=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),bW=e=>{var t=y.useContext(bM);if(t!=null){var{stackId:r}=t;return"url(#".concat(yW(r,e),")")}},_W=e=>{var{index:t}=e,r=pW(e,hW),n=bW(t);return y.createElement(yr,pb({className:"recharts-bar-stack-layer",clipPath:n},r))},xW=["onMouseEnter","onMouseLeave","onClick"],wW=["value","background","tooltipPosition"],jW=["id"],SW=["onMouseEnter","onClick","onMouseLeave"];function Qa(){return Qa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qa.apply(null,arguments)}function kA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ir(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kA(Object(r),!0).forEach(function(n){EW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EW(e,t,r){return(t=OW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OW(e){var t=CW(e,"string");return typeof t=="symbol"?t:t+""}function CW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function am(e,t){if(e==null)return{};var r,n,i=AW(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function AW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var NW=e=>{var{dataKey:t,name:r,fill:n,legendType:i,hide:s}=e;return[{inactive:s,dataKey:t,type:i,color:n,value:Qs(r,t),payload:e}]},kW=y.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:i,name:s,hide:c,unit:u,tooltipType:m,id:h}=e,g={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:Qs(s,t),hide:c,type:m,color:i,unit:u,graphicalItemId:h}};return y.createElement(S_,{tooltipEntrySettings:g})});function DW(e){var t=De(Gi),{data:r,dataKey:n,background:i,allOtherBarProps:s}=e,{onMouseEnter:c,onMouseLeave:u,onClick:m}=s,h=am(s,xW),g=x_(c,n,s.id),p=w_(u),_=j_(m,n,s.id);if(!i||r==null)return null;var x=Ro(i);return y.createElement(Jr,{zIndex:QY(i,nr.barBackground)},r.map((w,j)=>{var{value:S,background:O,tooltipPosition:C}=w,A=am(w,wW);if(!O)return null;var k=g(w,j),D=p(w,j),M=_(w,j),L=Ir(Ir(Ir(Ir(Ir({option:i,isActive:String(j)===t},A),{},{fill:"#eee"},O),x),pm(h,w,j)),{},{onMouseEnter:k,onMouseLeave:D,onClick:M,dataKey:n,index:j,className:"recharts-bar-background-rectangle"});return y.createElement(nm,Qa({key:"background-bar-".concat(j)},L))}))}function TW(e){var{showLabels:t,children:r,rects:n}=e,i=n?.map(s=>{var c={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return Ir(Ir({},c),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:c,fill:s.fill})});return y.createElement(UP,{value:t?i:void 0},r)}function PW(e){var{shape:t,activeBar:r,baseProps:n,entry:i,index:s,dataKey:c}=e,u=De(Gi),m=De(c_),h=r&&String(s)===u&&(m==null||c===m),g=h?r:t;return h?y.createElement(Jr,{zIndex:nr.activeBar},y.createElement(nm,Qa({},n,{name:String(n.name)},i,{isActive:h,option:g,index:s,dataKey:c}))):y.createElement(nm,Qa({},n,{name:String(n.name)},i,{isActive:h,option:g,index:s,dataKey:c}))}function MW(e){var{shape:t,baseProps:r,entry:n,index:i,dataKey:s}=e;return y.createElement(nm,Qa({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:i,dataKey:s}))}function RW(e){var t,{data:r,props:n}=e,i=(t=vn(n))!==null&&t!==void 0?t:{},{id:s}=i,c=am(i,jW),{shape:u,dataKey:m,activeBar:h}=n,{onMouseEnter:g,onClick:p,onMouseLeave:_}=n,x=am(n,SW),w=x_(g,m,s),j=w_(_),S=j_(p,m,s);return r?y.createElement(y.Fragment,null,r.map((O,C)=>y.createElement(_W,Qa({index:C,key:"rectangle-".concat(O?.x,"-").concat(O?.y,"-").concat(O?.value,"-").concat(C),className:"recharts-bar-rectangle"},pm(x,O,C),{onMouseEnter:w(O,C),onMouseLeave:j(O,C),onClick:S(O,C)}),h?y.createElement(PW,{shape:u,activeBar:h,baseProps:c,entry:O,index:C,dataKey:m}):y.createElement(MW,{shape:u,baseProps:c,entry:O,index:C,dataKey:m})))):null}function qW(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:i,isAnimationActive:s,animationBegin:c,animationDuration:u,animationEasing:m,onAnimationEnd:h,onAnimationStart:g}=t,p=r.current,_=Xc(t,"recharts-bar-"),[x,w]=y.useState(!1),j=!x,S=y.useCallback(()=>{typeof h=="function"&&h(),w(!1)},[h]),O=y.useCallback(()=>{typeof g=="function"&&g(),w(!0)},[g]);return y.createElement(TW,{showLabels:j,rects:n},y.createElement(Wc,{animationId:_,begin:c,duration:u,isActive:s,easing:m,onAnimationEnd:S,onAnimationStart:O,key:_},C=>{var A=C===1?n:n?.map((k,D)=>{var M=p&&p[D];if(M)return Ir(Ir({},k),{},{x:Dt(M.x,k.x,C),y:Dt(M.y,k.y,C),width:Dt(M.width,k.width,C),height:Dt(M.height,k.height,C)});if(i==="horizontal"){var L=Dt(0,k.height,C),X=Dt(k.stackedBarStart,k.y,C);return Ir(Ir({},k),{},{y:X,height:L})}var re=Dt(0,k.width,C),ae=Dt(k.stackedBarStart,k.x,C);return Ir(Ir({},k),{},{width:re,x:ae})});return C>0&&(r.current=A??null),A==null?null:y.createElement(yr,null,y.createElement(RW,{props:t,data:A}))}),y.createElement(g_,{label:t.label}),t.children)}function zW(e){var t=y.useRef(null);return y.createElement(qW,{previousRectanglesRef:t,props:e})}var _M=0,LW=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:gt(e,t)}};class IW extends y.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:i,xAxisId:s,yAxisId:c,needClip:u,background:m,id:h}=this.props;if(t||r==null)return null;var g=st("recharts-bar",i),p=h;return y.createElement(yr,{className:g,id:h},u&&y.createElement("defs",null,y.createElement(uM,{clipPathId:p,xAxisId:s,yAxisId:c})),y.createElement(yr,{className:"recharts-bar-rectangles",clipPath:u?"url(#clipPath-".concat(p,")"):void 0},y.createElement(DW,{data:r,dataKey:n,background:m,allOtherBarProps:this.props}),y.createElement(zW,this.props)))}}var UW={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:_M,xAxisId:0,yAxisId:0,zIndex:nr.bar};function BW(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:s,activeBar:c,animationBegin:u,animationDuration:m,animationEasing:h,isAnimationActive:g}=e,{needClip:p}=N_(t,r),_=Yo(),x=Tr(),w=b_(e.children,uu),j=De(C=>mW(C,e.id,x,w));if(_!=="vertical"&&_!=="horizontal")return null;var S,O=j?.[0];return O==null||O.height==null||O.width==null?S=0:S=_==="vertical"?O.height/2:O.width/2,y.createElement(cM,{xAxisId:t,yAxisId:r,data:j,dataPointFormatter:LW,errorBarOffset:S},y.createElement(IW,Qa({},e,{layout:_,needClip:p,data:j,xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:s,activeBar:c,animationBegin:u,animationDuration:m,animationEasing:h,isAnimationActive:g})))}function $W(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:i,bandSize:s,xAxis:c,yAxis:u,xAxisTicks:m,yAxisTicks:h,stackedData:g,displayedData:p,offset:_,cells:x,parentViewBox:w,dataStartIndex:j}=e,S=t==="horizontal"?u:c,O=g?S.scale.domain():null,C=j5({numericAxis:S}),A=S.scale(C);return p.map((k,D)=>{var M,L,X,re,ae,G;if(g){var B=g[D+j];if(B==null)return null;M=v5(B,O)}else M=gt(k,r),Array.isArray(M)||(M=[C,M]);var ce=XV(n,_M)(M[1],D);if(t==="horizontal"){var ge,[q,R]=[u.scale(M[0]),u.scale(M[1])];L=yE({axis:c,ticks:m,bandSize:s,offset:i.offset,entry:k,index:D}),X=(ge=R??q)!==null&&ge!==void 0?ge:void 0,re=i.size;var I=q-R;if(ae=ea(I)?0:I,G={x:L,y:_.top,width:re,height:_.height},Math.abs(ce)>0&&Math.abs(ae)<Math.abs(ce)){var ee=vr(ae||ce)*(Math.abs(ce)-Math.abs(ae));X-=ee,ae+=ee}}else{var[U,me]=[c.scale(M[0]),c.scale(M[1])];if(L=U,X=yE({axis:u,ticks:h,bandSize:s,offset:i.offset,entry:k,index:D}),re=me-U,ae=i.size,G={x:_.left,y:X,width:_.width,height:ae},Math.abs(ce)>0&&Math.abs(re)<Math.abs(ce)){var we=vr(re||ce)*(Math.abs(ce)-Math.abs(re));re+=we}}if(L==null||X==null||re==null||ae==null)return null;var J=Ir(Ir({},k),{},{stackedBarStart:A,x:L,y:X,width:re,height:ae,value:g?M:M[1],payload:k,background:G,tooltipPosition:{x:L+re/2,y:X+ae/2},parentViewBox:w},x&&x[D]&&x[D].props);return J}).filter(Boolean)}function HW(e){var t=br(e,UW),r=vW(t.stackId),n=Tr();return y.createElement(E_,{id:t.id,type:"bar"},i=>y.createElement(y.Fragment,null,y.createElement(WP,{legendPayload:NW(t)}),y.createElement(kW,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:i}),y.createElement(ZP,{type:"bar",id:i,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:r,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),y.createElement(Jr,{zIndex:t.zIndex},y.createElement(BW,Qa({},t,{id:i})))))}var xM=y.memo(HW,ih);xM.displayName="Bar";var FW=["domain","range"],KW=["domain","range"];function DA(e,t){if(e==null)return{};var r,n,i=YW(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function YW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function TA(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function wM(e,t){if(e===t)return!0;var{domain:r,range:n}=e,i=DA(e,FW),{domain:s,range:c}=t,u=DA(t,KW);return!TA(r,s)||!TA(n,c)?!1:ih(i,u)}var GW=["dangerouslySetInnerHTML","ticks","scale"],VW=["id","scale"];function gb(){return gb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gb.apply(null,arguments)}function PA(e,t){if(e==null)return{};var r,n,i=WW(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function WW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function XW(e){var t=Rt(),r=y.useRef(null);return y.useLayoutEffect(()=>{r.current===null?t(NY(e)):r.current!==e&&t(kY({prev:r.current,next:e})),r.current=e},[e,t]),y.useLayoutEffect(()=>()=>{r.current&&(t(DY(r.current)),r.current=null)},[t]),null}var ZW=e=>{var{xAxisId:t,className:r}=e,n=De(Jb),i=Tr(),s="xAxis",c=De(O=>eP(O,s,t,i)),u=De(O=>XT(O,t)),m=De(O=>jH(O,t)),h=De(O=>DT(O,t));if(u==null||m==null||h==null)return null;var{dangerouslySetInnerHTML:g,ticks:p,scale:_}=e,x=PA(e,GW),{id:w,scale:j}=h,S=PA(h,VW);return y.createElement(A_,gb({},x,S,{x:m.x,y:m.y,width:u.width,height:u.height,className:st("recharts-".concat(s," ").concat(s),r),viewBox:n,ticks:c,axisType:s}))},QW={allowDataOverflow:hr.allowDataOverflow,allowDecimals:hr.allowDecimals,allowDuplicatedCategory:hr.allowDuplicatedCategory,angle:hr.angle,axisLine:Fa.axisLine,height:hr.height,hide:!1,includeHidden:hr.includeHidden,interval:hr.interval,minTickGap:hr.minTickGap,mirror:hr.mirror,orientation:hr.orientation,padding:hr.padding,reversed:hr.reversed,scale:hr.scale,tick:hr.tick,tickCount:hr.tickCount,tickLine:Fa.tickLine,tickSize:Fa.tickSize,type:hr.type,xAxisId:0},JW=e=>{var t=br(e,QW);return y.createElement(y.Fragment,null,y.createElement(XW,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),y.createElement(ZW,t))},vb=y.memo(JW,wM);vb.displayName="XAxis";var eX=["dangerouslySetInnerHTML","ticks","scale"],tX=["id","scale"];function yb(){return yb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yb.apply(null,arguments)}function MA(e,t){if(e==null)return{};var r,n,i=rX(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function rX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function nX(e){var t=Rt(),r=y.useRef(null);return y.useLayoutEffect(()=>{r.current===null?t(TY(e)):r.current!==e&&t(PY({prev:r.current,next:e})),r.current=e},[e,t]),y.useLayoutEffect(()=>()=>{r.current&&(t(MY(r.current)),r.current=null)},[t]),null}var aX=e=>{var{yAxisId:t,className:r,width:n,label:i}=e,s=y.useRef(null),c=y.useRef(null),u=De(Jb),m=Tr(),h=Rt(),g="yAxis",p=De(M=>ZT(M,t)),_=De(M=>EH(M,t)),x=De(M=>eP(M,g,t,m)),w=De(M=>TT(M,t));if(y.useLayoutEffect(()=>{if(!(n!=="auto"||!p||p_(i)||y.isValidElement(i)||w==null)){var M=s.current;if(M){var L=M.getCalculatedWidth();Math.round(p.width)!==Math.round(L)&&h(RY({id:t,width:L}))}}},[x,p,h,i,t,n,w]),p==null||_==null||w==null)return null;var{dangerouslySetInnerHTML:j,ticks:S,scale:O}=e,C=MA(e,eX),{id:A,scale:k}=w,D=MA(w,tX);return y.createElement(A_,yb({},C,D,{ref:s,labelRef:c,x:_.x,y:_.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:p.width,height:p.height,className:st("recharts-".concat(g," ").concat(g),r),viewBox:u,ticks:x,axisType:g}))},iX={allowDataOverflow:pr.allowDataOverflow,allowDecimals:pr.allowDecimals,allowDuplicatedCategory:pr.allowDuplicatedCategory,angle:pr.angle,axisLine:Fa.axisLine,hide:!1,includeHidden:pr.includeHidden,interval:pr.interval,minTickGap:pr.minTickGap,mirror:pr.mirror,orientation:pr.orientation,padding:pr.padding,reversed:pr.reversed,scale:pr.scale,tick:pr.tick,tickCount:pr.tickCount,tickLine:Fa.tickLine,tickSize:Fa.tickSize,type:pr.type,width:pr.width,yAxisId:0},oX=e=>{var t=br(e,iX);return y.createElement(y.Fragment,null,y.createElement(nX,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),y.createElement(aX,t))},bb=y.memo(oX,wM);bb.displayName="YAxis";var sX=(e,t)=>t,D_=W([sX,et,NT,dr,gP,li,B9,cr],V9),T_=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},jM=Ln("mouseClick"),SM=Yc();SM.startListening({actionCreator:jM,effect:(e,t)=>{var r=e.payload,n=D_(t.getState(),T_(r));n?.activeIndex!=null&&t.dispatch(IH({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var _b=Ln("mouseMove"),EM=Yc(),Xd=null;EM.startListening({actionCreator:_b,effect:(e,t)=>{var r=e.payload;Xd!==null&&cancelAnimationFrame(Xd);var n=T_(r);Xd=requestAnimationFrame(()=>{var i=t.getState(),s=n_(i,i.tooltip.settings.shared);if(s==="axis"){var c=D_(i,n);c?.activeIndex!=null?t.dispatch(lP({activeIndex:c.activeIndex,activeDataKey:void 0,activeCoordinate:c.activeCoordinate})):t.dispatch(sP())}Xd=null})}});function lX(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var RA={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},OM=Qr({name:"rootProps",initialState:RA,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:RA.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),cX=OM.reducer,{updateOptions:uX}=OM.actions,CM=Qr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:dX}=CM.actions,fX=CM.reducer,AM=Ln("keyDown"),NM=Ln("focus"),P_=Yc();P_.startListening({actionCreator:AM,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,s=e.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var c=a_(i,sl(r),iu(r),lu(r)),u=c==null?-1:Number(c);if(!(!Number.isFinite(u)||u<0)){var m=li(r);if(s==="Enter"){var h=Zf(r,"axis","hover",String(i.index));t.dispatch(sb({active:!i.active,activeIndex:i.index,activeCoordinate:h}));return}var g=NH(r),p=g==="left-to-right"?1:-1,_=s==="ArrowRight"?1:-1,x=u+_*p;if(!(m==null||x>=m.length||x<0)){var w=Zf(r,"axis","hover",String(x));t.dispatch(sb({active:!0,activeIndex:x.toString(),activeCoordinate:w}))}}}}}});P_.startListening({actionCreator:NM,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var s="0",c=Zf(r,"axis","hover",String(s));t.dispatch(sb({active:!0,activeIndex:s,activeCoordinate:c}))}}}});var Rn=Ln("externalEvent"),kM=Yc(),sy=new Map;kM.startListening({actionCreator:Rn,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var i=n.type,s=sy.get(i);s!==void 0&&cancelAnimationFrame(s);var c=requestAnimationFrame(()=>{try{var u=t.getState(),m={activeCoordinate:E9(u),activeDataKey:c_(u),activeIndex:Gi(u),activeLabel:bP(u),activeTooltipIndex:Gi(u),isTooltipActive:O9(u)};r(m,n)}finally{sy.delete(i)}});sy.set(i,c)}}});var mX=W([il],e=>e.tooltipItemPayloads),hX=W([mX,su,(e,t)=>t,(e,t,r)=>r],(e,t,r,n)=>{var i=e.find(u=>u.settings.graphicalItemId===n);if(i!=null){var{positions:s}=i;if(s!=null){var c=t(s,r);return c}}}),DM=Ln("touchMove"),TM=Yc();TM.startListening({actionCreator:DM,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),i=n_(n,n.tooltip.settings.shared);if(i==="axis"){var s=r.touches[0];if(s==null)return;var c=D_(n,T_({clientX:s.clientX,clientY:s.clientY,currentTarget:r.currentTarget}));c?.activeIndex!=null&&t.dispatch(lP({activeIndex:c.activeIndex,activeDataKey:void 0,activeCoordinate:c.activeCoordinate}))}else if(i==="item"){var u,m=r.touches[0];if(document.elementFromPoint==null||m==null)return;var h=document.elementFromPoint(m.clientX,m.clientY);if(!h||!h.getAttribute)return;var g=h.getAttribute(Zk),p=(u=h.getAttribute(Qk))!==null&&u!==void 0?u:void 0,_=ol(n).find(j=>j.id===p);if(g==null||_==null||p==null)return;var{dataKey:x}=_,w=hX(n,g,p);t.dispatch(oP({activeDataKey:x,activeIndex:g,activeCoordinate:w,activeGraphicalItemId:p}))}}}});var pX=bk({brush:JY,cartesianAxis:qY,chartData:EF,errorBars:WG,graphicalItems:$K,layout:d5,legend:vU,options:_F,polarAxis:rK,polarOptions:fX,referenceElements:oG,rootProps:cX,tooltip:UH,zIndex:lF}),gX=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return q4({reducer:pX,preloadedState:t,middleware:n=>{var i;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([SM.middleware,EM.middleware,P_.middleware,kM.middleware,TM.middleware])},enhancers:n=>{var i=n;return typeof n=="function"&&(i=n()),i.concat(Mk({type:"raf"}))},devTools:{serialize:{replacer:lX},name:"recharts-".concat(r)}})};function PM(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,i=Tr(),s=y.useRef(null);if(i)return r;s.current==null&&(s.current=gX(t,n));var c=Yb;return y.createElement(SV,{context:c,store:s.current},r)}function vX(e){var{layout:t,margin:r}=e,n=Rt(),i=Tr();return y.useEffect(()=>{i||(n(l5(t)),n(s5(r)))},[n,i,t,r]),null}var MM=y.memo(vX,ih);function RM(e){var t=Rt();return y.useEffect(()=>{t(uX(e))},[t,e]),null}function qA(e){var{zIndex:t,isPanorama:r}=e,n=y.useRef(null),i=Rt();return y.useLayoutEffect(()=>(n.current&&i(oF({zIndex:t,element:n.current,isPanorama:r})),()=>{i(sF({zIndex:t,isPanorama:r}))}),[i,t,r]),y.createElement("g",{tabIndex:-1,ref:n})}function zA(e){var{children:t,isPanorama:r}=e,n=De(X9);if(!n||n.length===0)return t;var i=n.filter(c=>c<0),s=n.filter(c=>c>0);return y.createElement(y.Fragment,null,i.map(c=>y.createElement(qA,{key:c,zIndex:c,isPanorama:r})),t,s.map(c=>y.createElement(qA,{key:c,zIndex:c,isPanorama:r})))}var yX=["children"];function bX(e,t){if(e==null)return{};var r,n,i=_X(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function _X(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function im(){return im=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},im.apply(null,arguments)}var xX={width:"100%",height:"100%",display:"block"},wX=y.forwardRef((e,t)=>{var r=aD(),n=iD(),i=gD();if(!pa(r)||!pa(n))return null;var{children:s,otherAttributes:c,title:u,desc:m}=e,h,g;return c!=null&&(typeof c.tabIndex=="number"?h=c.tabIndex:h=i?0:void 0,typeof c.role=="string"?g=c.role:g=i?"application":void 0),y.createElement(RN,im({},c,{title:u,desc:m,role:g,tabIndex:h,width:r,height:n,style:xX,ref:t}),s)}),jX=e=>{var{children:t}=e,r=De(Nm);if(!r)return null;var{width:n,height:i,y:s,x:c}=r;return y.createElement(RN,{width:n,height:i,x:c,y:s},t)},LA=y.forwardRef((e,t)=>{var{children:r}=e,n=bX(e,yX),i=Tr();return i?y.createElement(jX,null,y.createElement(zA,{isPanorama:!0},r)):y.createElement(wX,im({ref:t},n),y.createElement(zA,{isPanorama:!1},r))});function SX(){var e=Rt(),[t,r]=y.useState(null),n=De(N5);return y.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),s=i.width/t.offsetWidth;zt(s)&&s!==n&&e(u5(s))}},[t,e,n]),r}function IA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function EX(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IA(Object(r),!0).forEach(function(n){OX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OX(e,t,r){return(t=CX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CX(e){var t=AX(e,"string");return typeof t=="symbol"?t:t+""}function AX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ho(){return Ho=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ho.apply(null,arguments)}var NX=()=>(MF(),null);function om(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var kX=y.forwardRef((e,t)=>{var r,n,i=y.useRef(null),[s,c]=y.useState({containerWidth:om((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:om((n=e.style)===null||n===void 0?void 0:n.height)}),u=y.useCallback((h,g)=>{c(p=>{var _=Math.round(h),x=Math.round(g);return p.containerWidth===_&&p.containerHeight===x?p:{containerWidth:_,containerHeight:x}})},[]),m=y.useCallback(h=>{if(typeof t=="function"&&t(h),h!=null&&typeof ResizeObserver<"u"){var{width:g,height:p}=h.getBoundingClientRect();u(g,p);var _=w=>{var{width:j,height:S}=w[0].contentRect;u(j,S)},x=new ResizeObserver(_);x.observe(h),i.current=x}},[t,u]);return y.useEffect(()=>()=>{var h=i.current;h?.disconnect()},[u]),y.createElement(y.Fragment,null,y.createElement(Dm,{width:s.containerWidth,height:s.containerHeight}),y.createElement("div",Ho({ref:m},e)))}),DX=y.forwardRef((e,t)=>{var{width:r,height:n}=e,[i,s]=y.useState({containerWidth:om(r),containerHeight:om(n)}),c=y.useCallback((m,h)=>{s(g=>{var p=Math.round(m),_=Math.round(h);return g.containerWidth===p&&g.containerHeight===_?g:{containerWidth:p,containerHeight:_}})},[]),u=y.useCallback(m=>{if(typeof t=="function"&&t(m),m!=null){var{width:h,height:g}=m.getBoundingClientRect();c(h,g)}},[t,c]);return y.createElement(y.Fragment,null,y.createElement(Dm,{width:i.containerWidth,height:i.containerHeight}),y.createElement("div",Ho({ref:u},e)))}),TX=y.forwardRef((e,t)=>{var{width:r,height:n}=e;return y.createElement(y.Fragment,null,y.createElement(Dm,{width:r,height:n}),y.createElement("div",Ho({ref:t},e)))}),PX=y.forwardRef((e,t)=>{var{width:r,height:n}=e;return Ya(r)||Ya(n)?y.createElement(DX,Ho({},e,{ref:t})):y.createElement(TX,Ho({},e,{ref:t}))});function MX(e){return e===!0?kX:PX}var RX=y.forwardRef((e,t)=>{var{children:r,className:n,height:i,onClick:s,onContextMenu:c,onDoubleClick:u,onMouseDown:m,onMouseEnter:h,onMouseLeave:g,onMouseMove:p,onMouseUp:_,onTouchEnd:x,onTouchMove:w,onTouchStart:j,style:S,width:O,responsive:C,dispatchTouchEvents:A=!0}=e,k=y.useRef(null),D=Rt(),[M,L]=y.useState(null),[X,re]=y.useState(null),ae=SX(),G=e0(),B=G?.width>0?G.width:O,ce=G?.height>0?G.height:i,ge=y.useCallback(Q=>{ae(Q),typeof t=="function"&&t(Q),L(Q),re(Q),Q!=null&&(k.current=Q)},[ae,t,L,re]),q=y.useCallback(Q=>{D(jM(Q)),D(Rn({handler:s,reactEvent:Q}))},[D,s]),R=y.useCallback(Q=>{D(_b(Q)),D(Rn({handler:h,reactEvent:Q}))},[D,h]),I=y.useCallback(Q=>{D(sP()),D(Rn({handler:g,reactEvent:Q}))},[D,g]),ee=y.useCallback(Q=>{D(_b(Q)),D(Rn({handler:p,reactEvent:Q}))},[D,p]),U=y.useCallback(()=>{D(NM())},[D]),me=y.useCallback(Q=>{D(AM(Q.key))},[D]),we=y.useCallback(Q=>{D(Rn({handler:c,reactEvent:Q}))},[D,c]),J=y.useCallback(Q=>{D(Rn({handler:u,reactEvent:Q}))},[D,u]),H=y.useCallback(Q=>{D(Rn({handler:m,reactEvent:Q}))},[D,m]),je=y.useCallback(Q=>{D(Rn({handler:_,reactEvent:Q}))},[D,_]),Te=y.useCallback(Q=>{D(Rn({handler:j,reactEvent:Q}))},[D,j]),Ue=y.useCallback(Q=>{A&&D(DM(Q)),D(Rn({handler:w,reactEvent:Q}))},[D,A,w]),pe=y.useCallback(Q=>{D(Rn({handler:x,reactEvent:Q}))},[D,x]),Le=MX(C);return y.createElement(OP.Provider,{value:M},y.createElement(qN.Provider,{value:X},y.createElement(Le,{width:B??S?.width,height:ce??S?.height,className:st("recharts-wrapper",n),style:EX({position:"relative",cursor:"default",width:B,height:ce},S),onClick:q,onContextMenu:we,onDoubleClick:J,onFocus:U,onKeyDown:me,onMouseDown:H,onMouseEnter:R,onMouseLeave:I,onMouseMove:ee,onMouseUp:je,onTouchEnd:pe,onTouchMove:Ue,onTouchStart:Te,ref:ge},y.createElement(NX,null),r)))}),qX=["width","height","responsive","children","className","style","compact","title","desc"];function zX(e,t){if(e==null)return{};var r,n,i=LX(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function LX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var qM=y.forwardRef((e,t)=>{var{width:r,height:n,responsive:i,children:s,className:c,style:u,compact:m,title:h,desc:g}=e,p=zX(e,qX),_=vn(p);return m?y.createElement(y.Fragment,null,y.createElement(Dm,{width:r,height:n}),y.createElement(LA,{otherAttributes:_,title:h,desc:g},s)):y.createElement(RX,{className:c,style:u,width:r,height:n,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},y.createElement(LA,{otherAttributes:_,title:h,desc:g,ref:t},y.createElement(sG,null,s)))});function xb(){return xb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xb.apply(null,arguments)}var IX={top:5,right:5,bottom:5,left:5},UX={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:IX,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},zM=y.forwardRef(function(t,r){var n,i=br(t.categoricalChartProps,UX),{chartName:s,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:m,categoricalChartProps:h}=t,g={chartName:s,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:m,eventEmitter:void 0};return y.createElement(PM,{preloadedState:{options:g},reduxStoreName:(n=h.id)!==null&&n!==void 0?n:s},y.createElement(tM,{chartData:h.data}),y.createElement(MM,{layout:i.layout,margin:i.margin}),y.createElement(RM,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),y.createElement(qM,xb({},i,{ref:r})))}),BX=["axis"],$X=y.forwardRef((e,t)=>y.createElement(zM,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:BX,tooltipPayloadSearcher:h_,categoricalChartProps:e,ref:t})),HX=["axis","item"],FX=y.forwardRef((e,t)=>y.createElement(zM,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:HX,tooltipPayloadSearcher:h_,categoricalChartProps:e,ref:t}));function KX(e){var t=Rt();return y.useEffect(()=>{t(dX(e))},[t,e]),null}var YX=["layout"];function wb(){return wb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wb.apply(null,arguments)}function GX(e,t){if(e==null)return{};var r,n,i=VX(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function VX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var WX={top:5,right:5,bottom:5,left:5},LM={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:WX,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},XX=y.forwardRef(function(t,r){var n,i=br(t.categoricalChartProps,LM),{layout:s}=i,c=GX(i,YX),{chartName:u,defaultTooltipEventType:m,validateTooltipEventTypes:h,tooltipPayloadSearcher:g}=t,p={chartName:u,defaultTooltipEventType:m,validateTooltipEventTypes:h,tooltipPayloadSearcher:g,eventEmitter:void 0};return y.createElement(PM,{preloadedState:{options:p},reduxStoreName:(n=i.id)!==null&&n!==void 0?n:u},y.createElement(tM,{chartData:i.data}),y.createElement(MM,{layout:s,margin:i.margin}),y.createElement(RM,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),y.createElement(KX,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),y.createElement(qM,wb({},c,{ref:r})))});function UA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function BA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UA(Object(r),!0).forEach(function(n){ZX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZX(e,t,r){return(t=QX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QX(e){var t=JX(e,"string");return typeof t=="symbol"?t:t+""}function JX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eZ=["item"],tZ=BA(BA({},LM),{},{layout:"centric",startAngle:0,endAngle:360}),rZ=y.forwardRef((e,t)=>{var r=br(e,tZ);return y.createElement(XX,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:eZ,tooltipPayloadSearcher:h_,categoricalChartProps:r,ref:t})});function nZ({project:e,companyId:t,onBack:r}){const[n,i]=y.useState(!0),[s,c]=y.useState("week"),[u,m]=y.useState({areas:[],tickets:[],crewHistory:[],disposalLoads:[],dailyReports:[]});y.useEffect(()=>{e?.id&&h()},[e?.id,s]);const h=async()=>{i(!0);try{const C=new Date,A=new Date;s==="week"?A.setDate(C.getDate()-7):A.setDate(C.getDate()-30);const k=A.toISOString().split("T")[0],D=s==="week"?7:30,[M,L,X,re]=await Promise.all([be.getAreas(e.id),be.getTMTickets?.(e.id)||[],be.getDisposalLoadsHistory?.(e.id,D)||[],be.getDailyReports?.(e.id)||[]]),ae=[],G=new Date(A);for(;G<=C;){const B=G.toISOString().split("T")[0];try{const ce=await be.getCrewCheckin(e.id,B);ae.push({date:B,count:ce?.workers?.length||0,dayName:G.toLocaleDateString("en-US",{weekday:"short"})})}catch{ae.push({date:B,count:0,dayName:G.toLocaleDateString("en-US",{weekday:"short"})})}G.setDate(G.getDate()+1)}m({areas:M,tickets:L.filter(B=>B.work_date>=k),crewHistory:ae,disposalLoads:X,dailyReports:re.filter(B=>B.report_date>=k)})}catch(C){console.error("Error loading metrics:",C)}finally{i(!1)}},g=y.useRef(null),p=y.useCallback(()=>{g.current&&clearTimeout(g.current),g.current=setTimeout(()=>{h()},300)},[e?.id,s]);y.useEffect(()=>{if(!e?.id)return;const C=[],A=be.subscribeToAreas?.(e.id,p);A&&C.push(A);const k=be.subscribeToCrewCheckins?.(e.id,p);k&&C.push(k);const D=be.subscribeToTMTickets?.(e.id,p);D&&C.push(D);const M=be.subscribeToHaulOffs?.(e.id,p);M&&C.push(M);const L=be.subscribeToDailyReports?.(e.id,p);return L&&C.push(L),()=>{g.current&&clearTimeout(g.current),C.forEach(X=>be.unsubscribe?.(X))}},[e?.id,p]);const _=y.useMemo(()=>{const{areas:C,tickets:A,crewHistory:k,disposalLoads:D,dailyReports:M}=u,L=C.length,X=C.filter(H=>H.status==="done").length,re=C.filter(H=>H.status==="working").length,ae=C.filter(H=>H.status==="not_started").length,G=L>0?Math.round(X/L*100):0,B=k.reduce((H,je)=>H+je.count,0),ce=k.length>0&&Math.round(B/k.filter(H=>H.count>0).length*10)/10||0,ge=k.filter(H=>H.count>0).length,q=A.filter(H=>H.status==="pending"||H.status==="draft").length,R=A.filter(H=>H.status==="signed"||H.status==="approved").length,I=A.reduce((H,je)=>H+(je.total_amount||0),0),ee=D.reduce((H,je)=>H+(je.load_count||0),0),U=0,me=M.filter(H=>H.submitted).length,we=s==="week"?7:30,J=x(M);return{progress:{totalAreas:L,completedAreas:X,inProgressAreas:re,notStartedAreas:ae,progressPercent:G},crew:{totalManDays:B,avgCrewSize:ce,daysWithCrew:ge,history:k},tickets:{total:A.length,pending:q,signed:R,totalValue:I},disposal:{totalLoads:ee,totalTonnage:U},reports:{submitted:me,due:we,streak:J}}},[u,s]);function x(C){if(!C.length)return 0;const A=[...new Set(C.filter(L=>L.submitted).map(L=>L.report_date))].sort().reverse();let k=0;const D=new Date().toISOString().split("T")[0];let M=new Date(D);for(let L=0;L<30;L++){const X=M.toISOString().split("T")[0];if(A.includes(X))k++,M.setDate(M.getDate()-1);else break}return k}const w={primary:"#3b82f6",success:"#22c55e",warning:"#f59e0b",muted:"#6b7280",purple:"#8b5cf6"},j=[w.success,w.primary,w.muted],S=[{name:"Completed",value:_.progress.completedAreas},{name:"In Progress",value:_.progress.inProgressAreas},{name:"Not Started",value:_.progress.notStartedAreas}].filter(C=>C.value>0),O=y.useMemo(()=>{const C={};return u.tickets.forEach(A=>{const k=A.work_date;C[k]=(C[k]||0)+1}),_.crew.history.map(A=>({...A,tickets:C[A.date]||0}))},[u.tickets,_.crew.history]);return n?f.jsxs("div",{className:"foreman-metrics loading",children:[f.jsxs("div",{className:"metrics-header",children:[f.jsxs("button",{className:"back-btn",onClick:r,children:[f.jsx(sr,{size:20}),"Back"]}),f.jsx("h2",{children:"Project Metrics"})]}),f.jsxs("div",{className:"loading-state",children:[f.jsx("div",{className:"spinner"}),f.jsx("p",{children:"Loading metrics..."})]})]}):f.jsxs("div",{className:"foreman-metrics",children:[f.jsxs("div",{className:"metrics-header",children:[f.jsxs("button",{className:"back-btn",onClick:r,children:[f.jsx(sr,{size:20}),"Back"]}),f.jsx("h2",{children:"Project Metrics"}),f.jsxs("div",{className:"time-toggle",children:[f.jsx("button",{className:s==="week"?"active":"",onClick:()=>c("week"),children:"7 Days"}),f.jsx("button",{className:s==="month"?"active":"",onClick:()=>c("month"),children:"30 Days"})]})]}),f.jsxs("div",{className:"summary-cards",children:[f.jsxs("div",{className:"summary-card progress-card",children:[f.jsx("div",{className:"card-icon",children:f.jsx(ZA,{size:24})}),f.jsxs("div",{className:"card-content",children:[f.jsxs("span",{className:"card-value",children:[_.progress.progressPercent,"%"]}),f.jsx("span",{className:"card-label",children:"Complete"})]}),f.jsxs("div",{className:"card-detail",children:[_.progress.completedAreas,"/",_.progress.totalAreas," areas"]})]}),f.jsxs("div",{className:"summary-card crew-card",children:[f.jsx("div",{className:"card-icon",children:f.jsx(QA,{size:24})}),f.jsxs("div",{className:"card-content",children:[f.jsx("span",{className:"card-value",children:_.crew.totalManDays}),f.jsx("span",{className:"card-label",children:"Man-Days"})]}),f.jsxs("div",{className:"card-detail",children:["Avg ",_.crew.avgCrewSize," workers/day"]})]}),f.jsxs("div",{className:"summary-card tickets-card",children:[f.jsx("div",{className:"card-icon",children:f.jsx(Fo,{size:24})}),f.jsxs("div",{className:"card-content",children:[f.jsx("span",{className:"card-value",children:_.tickets.total}),f.jsx("span",{className:"card-label",children:"T&M Tickets"})]}),f.jsxs("div",{className:"card-detail",children:[_.tickets.signed," signed, ",_.tickets.pending," pending"]})]}),f.jsxs("div",{className:"summary-card disposal-card",children:[f.jsx("div",{className:"card-icon",children:f.jsx(df,{size:24})}),f.jsxs("div",{className:"card-content",children:[f.jsx("span",{className:"card-value",children:_.disposal.totalLoads}),f.jsx("span",{className:"card-label",children:"Disposal Loads"})]}),f.jsxs("div",{className:"card-detail",children:[_.disposal.totalTonnage.toFixed(1)," tons"]})]})]}),f.jsxs("div",{className:"charts-grid",children:[f.jsxs("div",{className:"chart-card",children:[f.jsx("h3",{children:"Area Progress"}),S.length>0?f.jsx(Av,{width:"100%",height:200,children:f.jsxs(rZ,{children:[f.jsx(QP,{data:S,cx:"50%",cy:"50%",innerRadius:50,outerRadius:80,paddingAngle:2,dataKey:"value",label:({name:C,value:A})=>`${C}: ${A}`,labelLine:!1,children:S.map((C,A)=>f.jsx(uu,{fill:j[A%j.length]},`cell-${A}`))}),f.jsx(Yv,{})]})}):f.jsx("div",{className:"no-data",children:"No area data"})]}),f.jsxs("div",{className:"chart-card",children:[f.jsx("h3",{children:"Daily Crew Size"}),f.jsx(Av,{width:"100%",height:200,children:f.jsxs(FX,{data:_.crew.history,children:[f.jsx(mb,{strokeDasharray:"3 3",opacity:.3}),f.jsx(vb,{dataKey:"dayName",tick:{fontSize:12}}),f.jsx(bb,{tick:{fontSize:12}}),f.jsx(Yv,{formatter:C=>[C,"Workers"],labelFormatter:C=>`Day: ${C}`}),f.jsx(xM,{dataKey:"count",fill:w.primary,radius:[4,4,0,0]})]})})]}),f.jsxs("div",{className:"chart-card",children:[f.jsx("h3",{children:"T&M Tickets by Day"}),f.jsx(Av,{width:"100%",height:200,children:f.jsxs($X,{data:O,children:[f.jsx(mb,{strokeDasharray:"3 3",opacity:.3}),f.jsx(vb,{dataKey:"dayName",tick:{fontSize:12}}),f.jsx(bb,{tick:{fontSize:12}}),f.jsx(Yv,{formatter:C=>[C,"Tickets"]}),f.jsx(vM,{type:"monotone",dataKey:"tickets",stroke:w.success,strokeWidth:2,dot:{fill:w.success,strokeWidth:2}})]})})]}),f.jsxs("div",{className:"chart-card activity-card",children:[f.jsx("h3",{children:"Activity Summary"}),f.jsxs("div",{className:"activity-list",children:[f.jsxs("div",{className:"activity-item",children:[f.jsx("div",{className:"activity-icon",style:{backgroundColor:`${w.success}20`,color:w.success},children:f.jsx(Zn,{size:20})}),f.jsxs("div",{className:"activity-info",children:[f.jsx("span",{className:"activity-label",children:"Days with Crew"}),f.jsxs("span",{className:"activity-value",children:[_.crew.daysWithCrew," of ",s==="week"?7:30]})]})]}),f.jsxs("div",{className:"activity-item",children:[f.jsx("div",{className:"activity-icon",style:{backgroundColor:`${w.primary}20`,color:w.primary},children:f.jsx(pq,{size:20})}),f.jsxs("div",{className:"activity-info",children:[f.jsx("span",{className:"activity-label",children:"Reports Submitted"}),f.jsx("span",{className:"activity-value",children:_.reports.submitted})]})]}),f.jsxs("div",{className:"activity-item",children:[f.jsx("div",{className:"activity-icon",style:{backgroundColor:`${w.warning}20`,color:w.warning},children:f.jsx(Mo,{size:20})}),f.jsxs("div",{className:"activity-info",children:[f.jsx("span",{className:"activity-label",children:"Report Streak"}),f.jsxs("span",{className:"activity-value",children:[_.reports.streak," days"]})]})]}),_.tickets.totalValue>0&&f.jsxs("div",{className:"activity-item",children:[f.jsx("div",{className:"activity-icon",style:{backgroundColor:`${w.purple}20`,color:w.purple},children:f.jsx(gq,{size:20})}),f.jsxs("div",{className:"activity-info",children:[f.jsx("span",{className:"activity-label",children:"T&M Value"}),f.jsxs("span",{className:"activity-value",children:["$",_.tickets.totalValue.toLocaleString()]})]})]})]})]})]}),f.jsx("style",{children:`
        .foreman-metrics {
          padding: 1rem;
          max-width: 100%;
          overflow-x: hidden;
        }

        .foreman-metrics.loading {
          min-height: 400px;
        }

        .loading-state {
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          padding: 3rem;
          color: var(--text-secondary);
        }

        .metrics-header {
          display: flex;
          align-items: center;
          gap: 1rem;
          margin-bottom: 1.5rem;
          flex-wrap: wrap;
        }

        .metrics-header h2 {
          flex: 1;
          margin: 0;
          font-size: 1.25rem;
          color: var(--text-primary);
        }

        .back-btn {
          display: flex;
          align-items: center;
          gap: 0.5rem;
          padding: 0.5rem 1rem;
          background: var(--bg-elevated);
          border: 1px solid var(--border-color);
          border-radius: 8px;
          color: var(--text-primary);
          cursor: pointer;
          font-size: 0.875rem;
        }

        .back-btn:hover {
          background: var(--bg-tertiary);
        }

        .time-toggle {
          display: flex;
          background: var(--bg-elevated);
          border-radius: 8px;
          padding: 4px;
          gap: 4px;
        }

        .time-toggle button {
          padding: 0.5rem 1rem;
          border: none;
          background: transparent;
          border-radius: 6px;
          color: var(--text-secondary);
          cursor: pointer;
          font-size: 0.875rem;
          transition: all 0.2s;
        }

        .time-toggle button.active {
          background: var(--primary-color, #3b82f6);
          color: white;
        }

        .summary-cards {
          display: grid;
          grid-template-columns: repeat(2, 1fr);
          gap: 1rem;
          margin-bottom: 1.5rem;
        }

        @media (min-width: 640px) {
          .summary-cards {
            grid-template-columns: repeat(4, 1fr);
          }
        }

        .summary-card {
          background: var(--bg-card);
          border: 1px solid var(--border-color);
          border-radius: 12px;
          padding: 1rem;
          display: flex;
          flex-direction: column;
          gap: 0.5rem;
        }

        .card-icon {
          width: 40px;
          height: 40px;
          border-radius: 10px;
          display: flex;
          align-items: center;
          justify-content: center;
        }

        .progress-card .card-icon {
          background: #dbeafe;
          color: #3b82f6;
        }

        .crew-card .card-icon {
          background: #dcfce7;
          color: #22c55e;
        }

        .tickets-card .card-icon {
          background: #fef3c7;
          color: #f59e0b;
        }

        .disposal-card .card-icon {
          background: #f3e8ff;
          color: #8b5cf6;
        }

        [data-theme="dark"] .progress-card .card-icon {
          background: #1e3a5f;
        }

        [data-theme="dark"] .crew-card .card-icon {
          background: #14532d;
        }

        [data-theme="dark"] .tickets-card .card-icon {
          background: #451a03;
        }

        [data-theme="dark"] .disposal-card .card-icon {
          background: #3b0764;
        }

        .card-content {
          display: flex;
          flex-direction: column;
        }

        .card-value {
          font-size: 1.5rem;
          font-weight: 700;
          color: var(--text-primary);
          line-height: 1.2;
        }

        .card-label {
          font-size: 0.75rem;
          color: var(--text-secondary);
          text-transform: uppercase;
          letter-spacing: 0.5px;
        }

        .card-detail {
          font-size: 0.75rem;
          color: var(--text-secondary);
          margin-top: auto;
        }

        .charts-grid {
          display: grid;
          grid-template-columns: 1fr;
          gap: 1rem;
        }

        @media (min-width: 640px) {
          .charts-grid {
            grid-template-columns: repeat(2, 1fr);
          }
        }

        .chart-card {
          background: var(--bg-card);
          border: 1px solid var(--border-color);
          border-radius: 12px;
          padding: 1rem;
        }

        .chart-card h3 {
          margin: 0 0 1rem 0;
          font-size: 0.875rem;
          font-weight: 600;
          color: var(--text-primary);
        }

        .no-data {
          height: 200px;
          display: flex;
          align-items: center;
          justify-content: center;
          color: var(--text-secondary);
          font-size: 0.875rem;
        }

        .activity-card {
          grid-column: 1 / -1;
        }

        @media (min-width: 640px) {
          .activity-card {
            grid-column: auto;
          }
        }

        .activity-list {
          display: flex;
          flex-direction: column;
          gap: 0.75rem;
        }

        .activity-item {
          display: flex;
          align-items: center;
          gap: 0.75rem;
        }

        .activity-icon {
          width: 40px;
          height: 40px;
          border-radius: 10px;
          display: flex;
          align-items: center;
          justify-content: center;
          flex-shrink: 0;
        }

        .activity-info {
          display: flex;
          flex-direction: column;
          flex: 1;
        }

        .activity-label {
          font-size: 0.75rem;
          color: var(--text-secondary);
        }

        .activity-value {
          font-size: 1rem;
          font-weight: 600;
          color: var(--text-primary);
        }

        /* Recharts customization */
        .recharts-cartesian-grid-horizontal line,
        .recharts-cartesian-grid-vertical line {
          stroke: var(--border-color);
        }

        .recharts-text {
          fill: var(--text-secondary);
        }

        .recharts-tooltip-wrapper {
          outline: none;
        }

        .recharts-default-tooltip {
          background: var(--bg-card) !important;
          border: 1px solid var(--border-color) !important;
          border-radius: 8px !important;
        }

        .recharts-tooltip-label {
          color: var(--text-primary) !important;
        }

        .recharts-tooltip-item {
          color: var(--text-secondary) !important;
        }
      `})]})}const ly={crew:{id:"crew",label:"Crew Check-in",icon:QA,description:"Log who's on site today"},tm:{id:"tm",label:"T&M Ticket",icon:Fo,description:"Create time & materials ticket"},report:{id:"report",label:"Daily Report",icon:XA,description:"Submit end-of-day report"},progress:{id:"progress",label:"Update Progress",icon:JA,description:"Mark tasks complete"},disposal:{id:"disposal",label:"Disposal Loads",icon:df,description:"Log haul-off loads"},docs:{id:"docs",label:"Documents",icon:bq,description:"View project files"},metrics:{id:"metrics",label:"Project Metrics",icon:yq,description:"View charts & trends"},punchlist:{id:"punchlist",label:"Punch List",icon:vq,description:"View & resolve punch items"},injury:{id:"injury",label:"Report Injury",icon:sm,description:"Log safety incident",isDanger:!0}},$A=["crew","tm","report","progress"],HA=e=>`fm_pinned_${e}`;function aZ({project:e,todayStatus:t,progress:r,areasWorking:n,areasDone:i,areasRemaining:s,punchListOpenCount:c,onNavigate:u,onShowToast:m}){const[h,g]=y.useState(()=>{try{const k=localStorage.getItem(HA(e?.id));return k?JSON.parse(k):$A}catch{return $A}}),[p,_]=y.useState(!1),[x,w]=y.useState(!0);y.useEffect(()=>{if(e?.id)try{localStorage.setItem(HA(e.id),JSON.stringify(h))}catch{}},[h,e?.id]);const j=y.useCallback(k=>{g(D=>D.includes(k)?D.length<=1?(m?.("Keep at least one pinned action","info"),D):D.filter(M=>M!==k):D.length>=5?(m?.("Maximum 5 pinned actions","info"),D):[...D,k])},[m]),S=y.useMemo(()=>Object.keys(ly).filter(k=>!h.includes(k)),[h]),O=y.useCallback(k=>{switch(k){case"crew":return{done:t.crewCheckedIn,badge:t.crewCheckedIn?`${t.crewCount} on site`:null,status:t.crewCheckedIn?"Done today":"Not started"};case"tm":return{done:!1,badge:t.tmTicketsToday>0?`${t.tmTicketsToday} today`:null,status:t.tmTicketsToday>0?`${t.tmTicketsToday} created`:"Create new"};case"report":return{done:t.dailyReportDone,badge:null,status:t.dailyReportDone?"Submitted":"Not submitted"};case"progress":return{done:s===0,badge:s>0?`${s} left`:null,status:`${r}% complete`};case"disposal":return{done:!1,badge:t.disposalLoadsToday>0?`${t.disposalLoadsToday} today`:null,status:t.disposalLoadsToday>0?`${t.disposalLoadsToday} logged`:"Log loads"};case"punchlist":return{done:c===0&&c!==void 0,badge:c>0?`${c} open`:null,status:c>0?`${c} items open`:"All clear"};default:return{done:!1,badge:null,status:null}}},[t,r,s]),C=k=>{const D=ly[k];if(!D)return null;const M=D.icon,L=O(k);return f.jsxs("div",{className:"fm-pinned-card-wrapper",children:[f.jsxs("button",{className:`fm-pinned-card ${L.done?"completed":""} ${D.isDanger?"danger":""}`,onClick:()=>!p&&u(k),disabled:p,children:[f.jsx("div",{className:"fm-pinned-icon",children:f.jsx(M,{size:28})}),f.jsx("span",{className:"fm-pinned-label",children:D.label}),L.badge&&!p&&f.jsx("span",{className:"fm-pinned-badge",children:L.badge}),L.done&&!p&&f.jsx("div",{className:"fm-pinned-check",children:f.jsx(Zn,{size:18})})]}),p&&f.jsx("button",{className:"fm-pin-toggle pinned",onClick:()=>j(k),"aria-label":`Unpin ${D.label}`,children:f.jsx(xq,{size:16})})]},k)},A=k=>{const D=ly[k];if(!D)return null;const M=D.icon,L=O(k);return f.jsxs("div",{className:"fm-action-row-wrapper",children:[f.jsxs("button",{className:`fm-action-row ${D.isDanger?"danger":""}`,onClick:()=>!p&&u(k),disabled:p,children:[f.jsx(M,{size:20}),f.jsx("span",{className:"fm-action-label",children:D.label}),L.badge&&!p&&f.jsx("span",{className:"fm-action-badge",children:L.badge})]}),p&&f.jsx("button",{className:"fm-pin-toggle",onClick:()=>j(k),"aria-label":`Pin ${D.label}`,children:f.jsx(wq,{size:16})})]},k)};return f.jsxs("div",{className:"fm-landing",children:[f.jsxs("button",{className:"fm-metrics-snapshot",onClick:()=>u("metrics"),"aria-label":"View full project metrics",children:[f.jsxs("div",{className:"fm-snapshot-header",children:[f.jsx(ZA,{size:18}),f.jsx("span",{children:"Project Overview"}),f.jsx(ff,{size:16,className:"fm-snapshot-arrow"})]}),f.jsxs("div",{className:"fm-snapshot-stats",children:[f.jsxs("div",{className:"fm-snapshot-stat main",children:[f.jsxs("span",{className:"fm-snapshot-value",children:[r,"%"]}),f.jsx("span",{className:"fm-snapshot-label",children:"Complete"})]}),f.jsx("div",{className:"fm-snapshot-divider"}),f.jsxs("div",{className:"fm-snapshot-stat",children:[f.jsx("span",{className:"fm-snapshot-value",children:n}),f.jsx("span",{className:"fm-snapshot-label",children:"In Progress"})]}),f.jsxs("div",{className:"fm-snapshot-stat",children:[f.jsx("span",{className:"fm-snapshot-value",children:i}),f.jsx("span",{className:"fm-snapshot-label",children:"Done"})]}),f.jsxs("div",{className:"fm-snapshot-stat",children:[f.jsx("span",{className:"fm-snapshot-value",children:s}),f.jsx("span",{className:"fm-snapshot-label",children:"Remaining"})]})]}),t.crewCheckedIn&&f.jsxs("div",{className:"fm-snapshot-today",children:[f.jsx(Mo,{size:14}),f.jsxs("span",{children:[t.crewCount," crew on site today"]})]})]}),f.jsxs("div",{className:"fm-section-header",children:[f.jsx("h2",{children:"Quick Actions"}),f.jsx("button",{className:`fm-edit-btn ${p?"active":""}`,onClick:()=>_(!p),"aria-label":p?"Done editing":"Customize actions",children:p?"Done":f.jsx(_q,{size:18})})]}),p&&f.jsx("p",{className:"fm-edit-hint",children:"Tap icons to pin/unpin actions"}),f.jsx("div",{className:"fm-pinned-grid",children:h.map(C)}),S.length>0&&f.jsxs("div",{className:"fm-more-section",children:[f.jsxs("button",{className:"fm-more-header",onClick:()=>w(!x),"aria-expanded":!x,children:[f.jsx("span",{children:"More Actions"}),x?f.jsx(ff,{size:20}):f.jsx(WA,{size:20})]}),!x&&f.jsx("div",{className:"fm-more-content",children:S.map(A)})]}),f.jsx("style",{children:`
        .fm-landing {
          padding: 0 1rem 2rem;
        }

        /* Metrics Snapshot */
        .fm-metrics-snapshot {
          width: 100%;
          background: linear-gradient(135deg, var(--primary-color, #3b82f6) 0%, #2563eb 100%);
          border: none;
          border-radius: 16px;
          padding: 1rem;
          color: white;
          text-align: left;
          cursor: pointer;
          margin-bottom: 1.5rem;
          transition: transform 0.15s ease, box-shadow 0.15s ease;
        }

        .fm-metrics-snapshot:active {
          transform: scale(0.98);
        }

        .fm-snapshot-header {
          display: flex;
          align-items: center;
          gap: 0.5rem;
          font-size: 0.875rem;
          opacity: 0.9;
          margin-bottom: 0.75rem;
        }

        .fm-snapshot-arrow {
          margin-left: auto;
          opacity: 0.7;
        }

        .fm-snapshot-stats {
          display: flex;
          align-items: center;
          gap: 0.75rem;
        }

        .fm-snapshot-stat {
          display: flex;
          flex-direction: column;
          align-items: center;
          flex: 1;
        }

        .fm-snapshot-stat.main {
          flex: 1.5;
          align-items: flex-start;
        }

        .fm-snapshot-value {
          font-size: 1.5rem;
          font-weight: 700;
          line-height: 1.2;
        }

        .fm-snapshot-stat.main .fm-snapshot-value {
          font-size: 2rem;
        }

        .fm-snapshot-label {
          font-size: 0.7rem;
          opacity: 0.85;
          text-transform: uppercase;
          letter-spacing: 0.5px;
        }

        .fm-snapshot-divider {
          width: 1px;
          height: 40px;
          background: rgba(255,255,255,0.3);
        }

        .fm-snapshot-today {
          display: flex;
          align-items: center;
          gap: 0.5rem;
          margin-top: 0.75rem;
          padding-top: 0.75rem;
          border-top: 1px solid rgba(255,255,255,0.2);
          font-size: 0.8rem;
          opacity: 0.9;
        }

        /* Section Header */
        .fm-section-header {
          display: flex;
          align-items: center;
          justify-content: space-between;
          margin-bottom: 0.75rem;
        }

        .fm-section-header h2 {
          font-size: 1rem;
          font-weight: 600;
          color: var(--text-primary);
          margin: 0;
        }

        .fm-edit-btn {
          display: flex;
          align-items: center;
          justify-content: center;
          padding: 0.5rem;
          background: var(--bg-elevated);
          border: 1px solid var(--border-color);
          border-radius: 8px;
          color: var(--text-secondary);
          cursor: pointer;
          font-size: 0.8rem;
          min-width: 36px;
          min-height: 36px;
          transition: all 0.15s ease;
        }

        .fm-edit-btn.active {
          background: var(--primary-color, #3b82f6);
          border-color: var(--primary-color, #3b82f6);
          color: white;
          padding: 0.5rem 1rem;
        }

        .fm-edit-hint {
          font-size: 0.8rem;
          color: var(--text-secondary);
          margin: 0 0 0.75rem;
          text-align: center;
        }

        /* Pinned Actions Grid */
        .fm-pinned-grid {
          display: grid;
          grid-template-columns: repeat(2, 1fr);
          gap: 0.75rem;
          margin-bottom: 1.5rem;
        }

        .fm-pinned-card-wrapper {
          position: relative;
        }

        .fm-pinned-card {
          width: 100%;
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          padding: 1.25rem 1rem;
          background: var(--bg-card);
          border: 1px solid var(--border-color);
          border-radius: 12px;
          cursor: pointer;
          transition: all 0.15s ease;
          min-height: 110px;
          position: relative;
        }

        .fm-pinned-card:active:not(:disabled) {
          transform: scale(0.97);
          background: var(--bg-elevated);
        }

        .fm-pinned-card:disabled {
          opacity: 0.7;
          cursor: default;
        }

        .fm-pinned-card.completed {
          border-color: #22c55e;
          background: rgba(34, 197, 94, 0.08);
        }

        .fm-pinned-card.danger {
          border-color: #f59e0b;
        }

        .fm-pinned-card.danger .fm-pinned-icon {
          color: #f59e0b;
        }

        .fm-pinned-icon {
          color: var(--primary-color, #3b82f6);
          margin-bottom: 0.5rem;
        }

        .fm-pinned-label {
          font-size: 0.875rem;
          font-weight: 500;
          color: var(--text-primary);
          text-align: center;
        }

        .fm-pinned-badge {
          position: absolute;
          top: 8px;
          right: 8px;
          background: var(--primary-color, #3b82f6);
          color: white;
          font-size: 0.7rem;
          font-weight: 600;
          padding: 0.2rem 0.5rem;
          border-radius: 10px;
        }

        .fm-pinned-check {
          position: absolute;
          top: 8px;
          right: 8px;
          color: #22c55e;
        }

        .fm-pin-toggle {
          position: absolute;
          top: -8px;
          right: -8px;
          width: 28px;
          height: 28px;
          border-radius: 50%;
          background: var(--bg-card);
          border: 2px solid var(--border-color);
          display: flex;
          align-items: center;
          justify-content: center;
          cursor: pointer;
          color: var(--text-secondary);
          transition: all 0.15s ease;
          z-index: 10;
        }

        .fm-pin-toggle:hover {
          background: var(--bg-elevated);
        }

        .fm-pin-toggle.pinned {
          background: #ef4444;
          border-color: #ef4444;
          color: white;
        }

        /* More Actions Section */
        .fm-more-section {
          background: var(--bg-card);
          border: 1px solid var(--border-color);
          border-radius: 12px;
          overflow: hidden;
        }

        .fm-more-header {
          width: 100%;
          display: flex;
          align-items: center;
          justify-content: space-between;
          padding: 1rem;
          background: transparent;
          border: none;
          cursor: pointer;
          font-size: 0.9rem;
          font-weight: 500;
          color: var(--text-primary);
        }

        .fm-more-header:active {
          background: var(--bg-elevated);
        }

        .fm-more-content {
          border-top: 1px solid var(--border-color);
        }

        .fm-action-row-wrapper {
          position: relative;
          display: flex;
          align-items: center;
        }

        .fm-action-row-wrapper .fm-pin-toggle {
          position: static;
          margin-right: 0.75rem;
          flex-shrink: 0;
        }

        .fm-action-row {
          flex: 1;
          display: flex;
          align-items: center;
          gap: 0.75rem;
          padding: 1rem;
          background: transparent;
          border: none;
          border-bottom: 1px solid var(--border-color);
          cursor: pointer;
          text-align: left;
          color: var(--text-primary);
          transition: background 0.15s ease;
        }

        .fm-action-row:last-child {
          border-bottom: none;
        }

        .fm-action-row:active:not(:disabled) {
          background: var(--bg-elevated);
        }

        .fm-action-row:disabled {
          opacity: 0.7;
          cursor: default;
        }

        .fm-action-row.danger {
          color: #f59e0b;
        }

        .fm-action-label {
          flex: 1;
          font-size: 0.9rem;
        }

        .fm-action-badge {
          font-size: 0.75rem;
          color: var(--text-secondary);
          background: var(--bg-elevated);
          padding: 0.25rem 0.5rem;
          border-radius: 6px;
        }

        /* Dark mode adjustments */
        [data-theme="dark"] .fm-metrics-snapshot {
          background: linear-gradient(135deg, #1e40af 0%, #1e3a8a 100%);
        }

        [data-theme="dark"] .fm-pinned-card.completed {
          background: rgba(34, 197, 94, 0.15);
        }
      `})]})}const cy=[{value:"high",label:"High",color:"#ef4444"},{value:"medium",label:"Medium",color:"#f59e0b"},{value:"low",label:"Low",color:"#6b7280"}],uy=[{value:"open",label:"Open",icon:Sq,color:"#ef4444"},{value:"in_progress",label:"In Progress",icon:Mo,color:"#f59e0b"},{value:"complete",label:"Complete",icon:Zn,color:"#10b981"}];function IM({projectId:e,areas:t=[],companyId:r,onShowToast:n}){const[i,s]=y.useState([]),[c,u]=y.useState(!0),[m,h]=y.useState(!1),[g,p]=y.useState(null),[_,x]=y.useState("all"),[w,j]=y.useState("all"),[S,O]=y.useState(!1),[C,A]=y.useState({description:"",area_id:"",assigned_to:"",priority:"medium",notes:"",photo_url:""}),k=y.useCallback(async()=>{if(!e||!P){u(!1);return}try{const q=Ui(),{data:R,error:I}=await q.from("punch_list_items").select("*").eq("project_id",e).order("created_at",{ascending:!1});if(I)throw I;s(R||[])}catch(q){console.error("Error loading punch list:",q),s([])}finally{u(!1)}},[e]);y.useEffect(()=>{k()},[k]),y.useEffect(()=>{if(!e||!P)return;const q=T.channel(`punch_list:${e}`).on("postgres_changes",{event:"*",schema:"public",table:"punch_list_items",filter:`project_id=eq.${e}`},()=>k()).subscribe();return()=>{T.removeChannel(q)}},[e,k]);const D=y.useMemo(()=>i.filter(q=>!(_!=="all"&&q.status!==_||w!=="all"&&q.area_id!==w)),[i,_,w]),M=y.useMemo(()=>{const q=i.filter(ee=>ee.status==="open").length,R=i.filter(ee=>ee.status==="in_progress").length,I=i.filter(ee=>ee.status==="complete").length;return{open:q,inProgress:R,complete:I,total:i.length}},[i]),L=()=>{A({description:"",area_id:"",assigned_to:"",priority:"medium",notes:"",photo_url:""}),p(null),h(!1)},X=async q=>{if(q.preventDefault(),!C.description.trim()){n?.("Please enter a description","error");return}O(!0);try{const R=Ui();if(g){const{error:I}=await R.from("punch_list_items").update({description:C.description.trim(),area_id:C.area_id||null,assigned_to:C.assigned_to.trim()||null,priority:C.priority,notes:C.notes.trim()||null,photo_url:C.photo_url||null,updated_at:new Date().toISOString()}).eq("id",g.id);if(I)throw I;n?.("Punch item updated","success")}else{const{error:I}=await R.from("punch_list_items").insert({project_id:e,company_id:r,description:C.description.trim(),area_id:C.area_id||null,assigned_to:C.assigned_to.trim()||null,priority:C.priority,notes:C.notes.trim()||null,photo_url:C.photo_url||null,status:"open"});if(I)throw I;n?.("Punch item added","success")}L(),k()}catch(R){console.error("Error saving punch item:",R),n?.(R.message||"Error saving item","error")}finally{O(!1)}},re=async(q,R)=>{try{const I={status:R,updated_at:new Date().toISOString()};R==="complete"?I.completed_at=new Date().toISOString():I.completed_at=null;const{error:ee}=await Ui().from("punch_list_items").update(I).eq("id",q);if(ee)throw ee;k()}catch(I){console.error("Error updating status:",I),n?.("Error updating status","error")}},ae=async q=>{if(confirm("Delete this punch item?"))try{const{error:R}=await Ui().from("punch_list_items").delete().eq("id",q);if(R)throw R;n?.("Item deleted","success"),k()}catch(R){console.error("Error deleting item:",R),n?.("Error deleting item","error")}},G=q=>{A({description:q.description,area_id:q.area_id||"",assigned_to:q.assigned_to||"",priority:q.priority||"medium",notes:q.notes||"",photo_url:q.photo_url||""}),p(q),h(!0)},B=q=>q&&t.find(I=>I.id===q)?.name||null,ce=q=>cy.find(R=>R.value===q)||cy[1],ge=q=>uy.find(R=>R.value===q)||uy[0];return f.jsxs("div",{className:"punch-list-card",children:[f.jsxs("div",{className:"punch-list-header",children:[f.jsxs("div",{className:"punch-list-title",children:[f.jsx(Zn,{size:18}),f.jsx("h3",{children:"Punch List"}),M.total>0&&f.jsxs("span",{className:"punch-stats-inline",children:[f.jsxs("span",{className:"punch-stat-open",children:[M.open," open"]}),M.inProgress>0&&f.jsxs("span",{className:"punch-stat-progress",children:[M.inProgress," in progress"]}),f.jsxs("span",{className:"punch-stat-complete",children:[M.complete,"/",M.total," complete"]})]})]}),f.jsxs("button",{className:"punch-add-btn",onClick:()=>{L(),h(!0)},children:[f.jsx(Zd,{size:16}),"Add Item"]})]}),M.total>0&&f.jsxs("div",{className:"punch-progress-bar",children:[f.jsx("div",{className:"punch-progress-fill",style:{width:`${M.complete/M.total*100}%`}}),f.jsxs("span",{className:"punch-progress-label",children:[Math.round(M.complete/M.total*100),"% complete"]})]}),M.total>0&&f.jsxs("div",{className:"punch-filters",children:[f.jsxs("div",{className:"punch-filter-group",children:[f.jsx(jq,{size:14}),f.jsxs("select",{value:_,onChange:q=>x(q.target.value),className:"punch-filter-select",children:[f.jsx("option",{value:"all",children:"All Status"}),uy.map(q=>f.jsx("option",{value:q.value,children:q.label},q.value))]})]}),t.length>0&&f.jsxs("div",{className:"punch-filter-group",children:[f.jsx(fy,{size:14}),f.jsxs("select",{value:w,onChange:q=>j(q.target.value),className:"punch-filter-select",children:[f.jsx("option",{value:"all",children:"All Areas"}),t.map(q=>f.jsx("option",{value:q.id,children:q.name},q.id))]})]})]}),m&&f.jsxs("form",{className:"punch-form",onSubmit:X,children:[f.jsxs("div",{className:"punch-form-header",children:[f.jsx("h4",{children:g?"Edit Item":"New Punch Item"}),f.jsx("button",{type:"button",className:"punch-form-close",onClick:L,children:f.jsx(jb,{size:16})})]}),f.jsxs("div",{className:"punch-form-field",children:[f.jsx("label",{children:"Description *"}),f.jsx("textarea",{value:C.description,onChange:q=>A(R=>({...R,description:q.target.value})),placeholder:"What needs to be fixed or completed?",rows:2,required:!0})]}),f.jsxs("div",{className:"punch-form-row",children:[f.jsxs("div",{className:"punch-form-field",children:[f.jsx("label",{children:"Area"}),f.jsxs("select",{value:C.area_id,onChange:q=>A(R=>({...R,area_id:q.target.value})),children:[f.jsx("option",{value:"",children:"No area"}),t.map(q=>f.jsx("option",{value:q.id,children:q.name},q.id))]})]}),f.jsxs("div",{className:"punch-form-field",children:[f.jsx("label",{children:"Assigned To"}),f.jsx("input",{type:"text",value:C.assigned_to,onChange:q=>A(R=>({...R,assigned_to:q.target.value})),placeholder:"Name or company"})]}),f.jsxs("div",{className:"punch-form-field",children:[f.jsx("label",{children:"Priority"}),f.jsx("select",{value:C.priority,onChange:q=>A(R=>({...R,priority:q.target.value})),children:cy.map(q=>f.jsx("option",{value:q.value,children:q.label},q.value))})]})]}),f.jsxs("div",{className:"punch-form-field",children:[f.jsx("label",{children:"Notes"}),f.jsx("textarea",{value:C.notes,onChange:q=>A(R=>({...R,notes:q.target.value})),placeholder:"Additional details...",rows:2})]}),f.jsxs("div",{className:"punch-form-actions",children:[f.jsx("button",{type:"button",className:"punch-btn-cancel",onClick:L,children:"Cancel"}),f.jsxs("button",{type:"submit",className:"punch-btn-save",disabled:S,children:[f.jsx(Eq,{size:14}),S?"Saving...":g?"Update":"Add Item"]})]})]}),c?f.jsx("div",{className:"punch-loading",children:"Loading punch list..."}):D.length===0?f.jsxs("div",{className:"punch-empty",children:[f.jsx(Zn,{size:32,style:{opacity:.3}}),f.jsx("p",{children:i.length===0?"No punch items yet":"No items match filters"}),i.length===0&&f.jsx("span",{children:"Add items that need attention before project closeout"})]}):f.jsx("div",{className:"punch-items-list",children:D.map(q=>{const R=ge(q.status),I=ce(q.priority),ee=R.icon;return f.jsxs("div",{className:`punch-item punch-item-${q.status}`,children:[f.jsx("button",{className:"punch-item-status-btn",onClick:()=>{const U=q.status==="open"?"in_progress":q.status==="in_progress"?"complete":"open";re(q.id,U)},title:`Click to change status (current: ${R.label})`,children:f.jsx(ee,{size:18,style:{color:R.color}})}),f.jsxs("div",{className:"punch-item-content",children:[f.jsxs("div",{className:"punch-item-top",children:[f.jsx("span",{className:`punch-item-desc ${q.status==="complete"?"completed":""}`,children:q.description}),f.jsx("div",{className:"punch-item-badges",children:f.jsx("span",{className:"punch-priority-badge",style:{color:I.color,borderColor:`${I.color}40`},children:I.label})})]}),f.jsxs("div",{className:"punch-item-meta",children:[B(q.area_id)&&f.jsxs("span",{className:"punch-meta-tag",children:[f.jsx(fy,{size:11}),B(q.area_id)]}),q.assigned_to&&f.jsxs("span",{className:"punch-meta-tag",children:[f.jsx(Oq,{size:11}),q.assigned_to]}),q.completed_at&&f.jsxs("span",{className:"punch-meta-tag completed",children:[f.jsx(Zn,{size:11}),"Done ",new Date(q.completed_at).toLocaleDateString()]})]}),q.notes&&f.jsx("div",{className:"punch-item-notes",children:q.notes})]}),f.jsxs("div",{className:"punch-item-actions",children:[f.jsx("button",{className:"punch-action-btn",onClick:()=>G(q),title:"Edit",children:f.jsx(_c,{size:14})}),f.jsx("button",{className:"punch-action-btn delete",onClick:()=>ae(q.id),title:"Delete",children:f.jsx(Cq,{size:14})})]})]},q.id)})})]})}const aQ=Object.freeze(Object.defineProperty({__proto__:null,default:IM},Symbol.toStringTag,{value:"Module"}));function iZ({project:e,companyId:t,foremanName:r,onShowToast:n,onExit:i}){const[s,c]=y.useState([]),[u,m]=y.useState(!0),[h,g]=y.useState(null),[p,_]=y.useState({}),[x,w]=y.useState("home"),[j,S]=y.useState(!1),[O,C]=y.useState(0),[A,k]=y.useState({crewCheckedIn:!1,crewCount:0,tmTicketsToday:0,dailyReportDone:!1,disposalLoadsToday:0}),[D,M]=y.useState(()=>typeof window<"u"?document.documentElement.getAttribute("data-theme")==="dark":!1);new Date().getHours(),y.useEffect(()=>{e?.id&&(G(),L(),X())},[e?.id]);const L=async()=>{try{const H=new Date().toISOString().split("T")[0],Te=(await be.getCrewCheckin(e.id,H))?.workers||[],Ue=Te.length>0,Le=(await be.getTMTickets?.(e.id)||[]).filter(Ee=>Ee.work_date===H),Q=await be.getDisposalLoads?.(e.id,H)||[];k({crewCheckedIn:Ue,crewCount:Te.length,tmTicketsToday:Le.length,dailyReportDone:!1,disposalLoadsToday:Q.reduce((Ee,xe)=>Ee+(xe.load_count||1),0)})}catch(H){console.error("Error loading today status:",H)}},X=async()=>{if(!(!e?.id||!P))try{const{count:H}=await Ui().from("punch_list_items").select("*",{count:"exact",head:!0}).eq("project_id",e.id).eq("status","open");C(H||0)}catch{}},re=y.useRef(null),ae=y.useCallback(()=>{re.current&&clearTimeout(re.current),re.current=setTimeout(()=>{G(),L()},300)},[e?.id]);y.useEffect(()=>{if(!e?.id)return;const H=[],je=be.subscribeToAreas?.(e.id,ae);je&&H.push(je);const Te=be.subscribeToCrewCheckins?.(e.id,ae);Te&&H.push(Te);const Ue=be.subscribeToTMTickets?.(e.id,ae);Ue&&H.push(Ue);const pe=be.subscribeToHaulOffs?.(e.id,ae);pe&&H.push(pe);const Le=be.subscribeToDailyReports?.(e.id,ae);Le&&H.push(Le);const Q=be.subscribeToCORs?.(e.id,ae);Q&&H.push(Q);const Ee=be.subscribeToMaterialRequests?.(e.id,ae);Ee&&H.push(Ee);const xe=be.subscribeToProject?.(e.id,ae);xe&&H.push(xe);const ie=be.subscribeToPunchList?.(e.id,()=>{X(),ae()});if(ie&&H.push(ie),t){const Be=be.subscribeToMaterialsEquipment?.(t,ae);Be&&H.push(Be);const ve=be.subscribeToLaborRates?.(t,ae);ve&&H.push(ve)}return()=>{re.current&&clearTimeout(re.current),H.forEach(Be=>be.unsubscribe?.(Be))}},[e?.id,ae]);const G=async()=>{try{const H=await be.getAreas(e.id);c(H);const je=[...new Set(H.map(Ue=>Ue.group_name||"General"))],Te={};je.forEach(Ue=>Te[Ue]=!1),_(Te)}catch(H){console.error("Error loading areas:",H),n?.("Error loading areas","error")}finally{m(!1)}},B=async(H,je)=>{const Te=s.find(pe=>pe.id===H);if(!Te)return;const Ue=Te.status===je?"not_started":je;g(H);try{await be.updateAreaStatus(H,Ue),c(pe=>pe.map(Le=>Le.id===H?{...Le,status:Ue}:Le))}catch(pe){console.error("Error updating status:",pe),n?.("Error updating","error")}finally{g(null)}},ce=H=>{_(je=>({...je,[H]:!je[H]}))},ge=()=>{const H=D?"light":"dark";document.documentElement.setAttribute("data-theme",H),localStorage.setItem("theme",H),M(!D)},q=LL(s),R=s.filter(H=>H.status==="done").length,I=s.filter(H=>H.status==="working").length,ee=s.length-R,U=s.reduce((H,je)=>{const Te=je.group_name||"General";return H[Te]||(H[Te]=[]),H[Te].push(je),H},{}),me=Object.keys(U).length>1||Object.keys(U).length===1&&!U.General,we=H=>`${H.filter(Te=>Te.status==="done").length}/${H.length}`,J=y.useCallback(H=>{w(H)},[]);return x==="tm"?f.jsx("div",{className:"fm-view",children:f.jsx(QL,{project:e,companyId:t,onSubmit:()=>w("home"),onCancel:()=>w("home"),onShowToast:n})}):x==="report"?f.jsx(e3,{project:e,onShowToast:n,onClose:()=>w("home")}):x==="injury"?f.jsx("div",{className:"fm-view",children:f.jsx(t3,{project:e,companyId:t,onClose:()=>w("home"),onReportCreated:()=>{w("home"),n?.("Injury report submitted","success")}})}):x==="crew"?f.jsxs("div",{className:"fm-view",children:[f.jsxs("div",{className:"fm-subheader",children:[f.jsx("button",{className:"fm-back",onClick:()=>w("home"),children:f.jsx(sr,{size:20})}),f.jsx("h2",{children:"Crew Check-in"})]}),f.jsx(JL,{project:e,companyId:t,onShowToast:n})]}):x==="disposal"?f.jsxs("div",{className:"fm-view",children:[f.jsxs("div",{className:"fm-subheader",children:[f.jsx("button",{className:"fm-back",onClick:()=>w("home"),children:f.jsx(sr,{size:20})}),f.jsx("h2",{children:"Disposal Loads"})]}),f.jsx(n3,{project:e,date:new Date().toISOString().split("T")[0],onShowToast:n})]}):x==="docs"?f.jsxs("div",{className:"fm-view",children:[f.jsxs("div",{className:"fm-subheader",children:[f.jsx("button",{className:"fm-back",onClick:()=>w("home"),children:f.jsx(sr,{size:20})}),f.jsx("h2",{children:"Documents"})]}),f.jsx(o3,{projectId:e.id,onShowToast:n})]}):x==="metrics"?f.jsx(nZ,{project:e,companyId:t,onBack:()=>w("home")}):x==="punchlist"?f.jsxs("div",{className:"fm-view",children:[f.jsxs("div",{className:"fm-subheader",children:[f.jsx("button",{className:"fm-back",onClick:()=>{w("home"),X()},children:f.jsx(sr,{size:20})}),f.jsx("h2",{children:"Punch List"})]}),f.jsx(IM,{projectId:e.id,areas:s,companyId:t,onShowToast:n})]}):x==="progress"?f.jsxs("div",{className:"fm-view",children:[f.jsxs("div",{className:"fm-subheader",children:[f.jsx("button",{className:"fm-back",onClick:()=>w("home"),children:f.jsx(sr,{size:20})}),f.jsx("h2",{children:"Progress"}),f.jsxs("span",{className:"fm-subheader-badge",children:[q,"%"]})]}),f.jsx("div",{className:"fm-progress-content",children:u?f.jsxs("div",{className:"fm-loading",children:[f.jsx("div",{className:"spinner"}),f.jsx("span",{children:"Loading..."})]}):s.length===0?f.jsxs("div",{className:"fm-empty",children:[f.jsx(JA,{size:48}),f.jsx("h3",{children:"No tasks yet"}),f.jsx("p",{children:"Office will add tasks to this project"})]}):me?Object.entries(U).map(([H,je])=>f.jsxs("div",{className:"fm-group",children:[f.jsxs("button",{className:"fm-group-header",onClick:()=>ce(H),children:[f.jsxs("div",{className:"fm-group-left",children:[p[H]?f.jsx(ff,{size:18}):f.jsx(bc,{size:18}),f.jsx("span",{children:H})]}),f.jsx("span",{className:"fm-group-count",children:we(je)})]}),p[H]&&f.jsx("div",{className:"fm-group-items",children:je.map(Te=>f.jsxs("div",{className:`fm-task ${Te.status}`,children:[f.jsx("span",{className:"fm-task-name",children:Te.name}),f.jsxs("div",{className:"fm-task-btns",children:[f.jsx("button",{className:`fm-status-btn working ${Te.status==="working"?"active":""}`,onClick:()=>B(Te.id,"working"),disabled:h===Te.id,children:f.jsx(Mo,{size:14})}),f.jsx("button",{className:`fm-status-btn done ${Te.status==="done"?"active":""}`,onClick:()=>B(Te.id,"done"),disabled:h===Te.id,children:f.jsx(Zn,{size:14})})]})]},Te.id))})]},H)):f.jsx("div",{className:"fm-task-list",children:s.map(H=>f.jsxs("div",{className:`fm-task ${H.status}`,children:[f.jsx("span",{className:"fm-task-name",children:H.name}),f.jsxs("div",{className:"fm-task-btns",children:[f.jsx("button",{className:`fm-status-btn working ${H.status==="working"?"active":""}`,onClick:()=>B(H.id,"working"),disabled:h===H.id,children:f.jsx(Mo,{size:14})}),f.jsx("button",{className:`fm-status-btn done ${H.status==="done"?"active":""}`,onClick:()=>B(H.id,"done"),disabled:h===H.id,children:f.jsx(Zn,{size:14})})]})]},H.id))})})]}):f.jsxs("div",{className:"fm-view",children:[f.jsxs("div",{className:"fm-header",children:[f.jsx("button",{className:"fm-exit",onClick:i,children:f.jsx(sr,{size:20})}),f.jsxs("div",{className:"fm-header-center",children:[f.jsx("h1",{className:"fm-project-name",children:e.name}),r&&f.jsx("span",{className:"fm-foreman-name",children:r}),f.jsx("button",{className:"fm-info-toggle",onClick:()=>S(!j),children:f.jsx(Aq,{size:16})})]}),f.jsx("button",{className:"fm-theme",onClick:ge,children:D?f.jsx(KA,{size:20}):f.jsx(YA,{size:20})})]}),j&&f.jsxs("div",{className:"fm-project-info",children:[e.job_number&&f.jsxs("div",{className:"fm-info-item",children:[f.jsx("span",{children:"Job #"}),f.jsx("span",{children:e.job_number})]}),e.address&&f.jsxs("div",{className:"fm-info-item",children:[f.jsx("span",{children:"Address"}),f.jsx("span",{children:e.address})]}),e.general_contractor&&f.jsxs("div",{className:"fm-info-item",children:[f.jsx("span",{children:"GC"}),f.jsx("span",{children:e.general_contractor})]}),e.client_phone&&f.jsxs("div",{className:"fm-info-item",children:[f.jsx("span",{children:"Phone"}),f.jsx("a",{href:`tel:${e.client_phone}`,children:e.client_phone})]})]}),f.jsx(aZ,{project:e,todayStatus:A,progress:q,areasWorking:I,areasDone:R,areasRemaining:ee,punchListOpenCount:O,onNavigate:J,onShowToast:n})]})}const oZ=y.lazy(()=>ei(()=>import("./Dashboard-fAq6P0AS.js").then(e=>e.D),__vite__mapDeps([6,3,1,2,7]))),sZ=y.lazy(()=>ei(()=>import("./Setup-lByECN45.js"),__vite__mapDeps([8,3,1,2,4]))),lZ=y.lazy(()=>ei(()=>import("./BrandingSettings-93ksqCPU.js"),__vite__mapDeps([9,1,2,3,4]))),cZ=y.lazy(()=>ei(()=>import("./PricingManager-HUorvIn8.js"),__vite__mapDeps([10,1,2,3,4]))),uZ=y.lazy(()=>ei(()=>import("./PublicView-BULuh9xf.js"),__vite__mapDeps([11,1,2,3,4]))),dZ=y.lazy(()=>ei(()=>import("./SignaturePage-Abg5XSQ2.js"),__vite__mapDeps([12,1,2,7,3,13,4]))),fZ=y.lazy(()=>ei(()=>import("./MembershipManager-Bh88enr2.js"),__vite__mapDeps([14,1,2,3,4])));function M_(){return f.jsxs("div",{className:"page-loader",children:[f.jsx(Lr,{className:"loading-logo"}),f.jsx("div",{className:"spinner"})]})}function mZ({pendingCompanyName:e,userName:t,onCheckStatus:r,onLogout:n}){const[i,s]=y.useState(!1);y.useEffect(()=>{const u=setInterval(()=>{r()},3e4);return()=>clearInterval(u)},[r]);const c=async()=>{s(!0),await r(),setTimeout(()=>s(!1),1e3)};return f.jsxs("div",{className:"pending-approval-screen",children:[f.jsx(Lr,{className:"pending-logo"}),f.jsx("div",{className:"pending-pulse-ring",children:f.jsx("div",{className:"pending-pulse-dot"})}),f.jsx("h2",{children:"Awaiting Approval"}),e&&f.jsx("div",{className:"pending-company-name",children:e}),f.jsxs("p",{className:"pending-message",children:[t?`Hi ${t.split(" ")[0]}, your`:"Your"," membership request has been submitted. A company administrator will review and approve your access."]}),f.jsx("p",{className:"pending-auto-check",children:"We'll automatically check for updates"}),f.jsxs("div",{className:"pending-actions",children:[f.jsx("button",{className:"btn btn-secondary",onClick:n,children:"Sign Out"}),f.jsx("button",{className:"btn btn-primary",onClick:c,disabled:i,children:i?"Checking...":"Check Status"})]})]})}function hZ(){const{token:e}=fN();return f.jsx(y.Suspense,{fallback:f.jsx(M_,{}),children:f.jsx(uZ,{shareToken:e})})}function pZ(){const{token:e}=fN();return f.jsx(y.Suspense,{fallback:f.jsx(M_,{}),children:f.jsx(dZ,{signatureToken:e})})}function gZ(){const e=Cb(),t=va(),[r,n]=y.useState(null),[i,s]=y.useState(null),[c,u]=y.useState([]),[,m]=y.useState([]),[h,g]=y.useState(null),[p,_]=y.useState(""),[x,w]=y.useState(!0),[j,S]=y.useState(null),[O,C]=y.useState(!1),[A,k]=y.useState(!1),[D,M]=y.useState(null),[L,X]=y.useState(0),[re,ae]=y.useState(!1),[G,B]=y.useState(null),[ce,ge]=y.useState(""),[q,R]=y.useState(!1),I=y.useCallback((ve,Ne="")=>{S({message:ve,type:Ne})},[]),ee=y.useCallback(async()=>{try{if(!P){w(!1);return}const{data:{user:ve}}=await T.auth.getUser();if(!ve){w(!1);return}const{data:Ne}=await T.from("users").select("*").eq("id",ve.id).single();if(Ne){n(Ne);let Me=await be.getUserCompanies(ve.id);if(Me.length===0&&Ne.company_id&&await be.repairLegacyUser(ve.id,Ne.company_id,Ne.role||"member")&&(Me=await be.getUserCompanies(ve.id)),u(Me),Me.length===0){if(await be.getUserPendingMemberships(ve.id)>0){try{const{data:_t}=await T.from("user_companies").select("company_id, companies(name)").eq("user_id",ve.id).eq("status","pending").limit(1);_t?.[0]?.companies?.name&&ge(_t[0].companies.name)}catch{}e("/pending",{replace:!0});return}S({message:"No company access. Join a company to continue.",type:"error"}),await nf.signOut();return}const Ct=localStorage.getItem("selectedCompanyId");let Re=null;if(Ct&&Me.find(It=>It.id===Ct)?Re=Me.find(It=>It.id===Ct):Me.length>0&&(Re=Me[0]),Re){const{data:It}=await T.from("companies").select("*").eq("id",Re.id).single();s(It),R(!0);const _t=t.pathname,At=_t.startsWith("/view/")||_t.startsWith("/sign/"),Cr=["/dashboard","/projects/new","/pricing","/branding","/team"].includes(_t);!At&&!Cr&&_t!=="/field"&&e("/dashboard",{replace:!0})}}}catch(ve){console.error("Auth check error:",ve)}finally{w(!1)}},[e,t.pathname]);y.useEffect(()=>{const ve=t.pathname;ve.startsWith("/view/")||ve.startsWith("/sign/")?w(!1):ee()},[]),y.useEffect(()=>{if(!P)return;const{data:{subscription:ve}}=T.auth.onAuthStateChange(async Ne=>{if(Ne==="SIGNED_OUT"||Ne==="USER_DELETED"){const Me=t.pathname;if(Me.startsWith("/sign/")||Me.startsWith("/view/"))return;n(null),s(null),u([]),R(!1),e("/login",{replace:!0})}else if(Ne==="SIGNED_IN"&&!r){const Me=t.pathname;!Me.startsWith("/sign/")&&!Me.startsWith("/view/")&&ee()}});return()=>{ve?.unsubscribe()}},[r,ee,e,t.pathname]);const U=(ve,Ne="")=>{g(ve),_(Ne),e("/field")},me=async(ve,Ne)=>{try{await vy();const{data:Me,error:Ct}=await T.auth.signInWithPassword({email:ve,password:Ne});if(Ct){I(Ct.message||"Invalid credentials","error");return}const{data:Re,error:It}=await T.from("users").select("*").eq("id",Me.user.id).single();if(It){console.error("User fetch error:",It),I("Error loading profile","error");return}if(Re){n(Re);let _t=await be.getUserCompanies(Me.user.id);_t.length===0&&Re.company_id&&await be.repairLegacyUser(Me.user.id,Re.company_id,Re.role||"member")&&(_t=await be.getUserCompanies(Me.user.id)),u(_t);const At=localStorage.getItem("selectedCompanyId");let Cr=null;if(At&&_t.find(jt=>jt.id===At)?Cr=_t.find(jt=>jt.id===At):_t.length>0&&(Cr=_t[0]),Cr){const{data:jt}=await T.from("companies").select("*").eq("id",Cr.id).single();s(jt),R(!0);const{data:Ye}=await T.auth.mfa.listFactors(),Hr=Ye?.totp?.find(_n=>_n.status==="verified");Hr?(B(Hr.id),ae(!0)):e("/dashboard")}else if(await be.getUserPendingMemberships(Me.user.id)>0){try{const{data:Ye}=await T.from("user_companies").select("company_id, companies(name)").eq("user_id",Me.user.id).eq("status","pending").limit(1);Ye?.[0]?.companies?.name&&ge(Ye[0].companies.name)}catch{}e("/pending")}else I("No company access. Please contact admin.","error")}else I("Profile not found. Please contact admin.","error")}catch(Me){console.error("Login error:",Me),I("Login failed","error")}},we=async ve=>{try{const{data:Ne}=await T.from("companies").select("*").eq("id",ve).single();Ne&&(s(Ne),localStorage.setItem("selectedCompanyId",ve),C(!1),e("/dashboard"),I(`Switched to ${Ne.name}`,"success"))}catch(Ne){console.error("Switch company error:",Ne),I("Error switching company","error")}},J=async()=>{try{await nf.signOut(),n(null),s(null),u([]),R(!1),localStorage.removeItem("selectedCompanyId"),e("/login")}catch(ve){console.error("Logout error:",ve),I("Error signing out","error")}},H=async()=>{await vy(),g(null),_(""),e("/login")},je=()=>{e("/dashboard"),i?.id&&Te()},Te=async()=>{if(i?.id)try{const ve=await be.getProjects(i.id);m(ve)}catch(ve){console.error("Error loading projects:",ve)}};y.useEffect(()=>{i?.id&&q&&(Te(),Ue())},[i?.id,q]);const Ue=async()=>{if(i?.id)try{const Ne=(await be.getCompanyMemberships(i.id)).filter(Me=>Me.status==="pending").length;X(Ne)}catch(ve){console.error("Error loading pending count:",ve)}},pe=y.useCallback(()=>{M(null)},[]),Ee=c.find(ve=>ve.id===i?.id)?.access_level==="administrator"||i?.owner_user_id===r?.id,xe=j&&f.jsx(kN,{message:j.message,type:j.type,onClose:()=>S(null)});if(x)return f.jsx(Sg,{children:f.jsx(kd,{companyId:i?.id,children:f.jsxs("div",{className:"loading-screen",children:[f.jsx(Lr,{className:"loading-logo"}),f.jsx("div",{className:"spinner"})]})})});if(re)return f.jsx(Sg,{children:f.jsxs(kd,{companyId:i?.id,children:[f.jsx(xo,{children:f.jsx(zL,{factorId:G,onVerified:()=>{ae(!1),e("/dashboard")},onCancel:async()=>{ae(!1),B(null),await nf.signOut(),n(null),s(null),u([]),R(!1),e("/login")}})}),xe]})});const ie=ve=>!r||!i||!q?f.jsx(_o,{to:"/login",replace:!0}):ve,Be=ve=>f.jsx(PL,{children:f.jsxs("div",{children:[!P&&f.jsx("div",{className:"demo-banner",children:"Demo Mode - Data saved locally in your browser"}),f.jsx("nav",{className:"nav",children:f.jsxs("div",{className:"nav-content",children:[f.jsx(Lr,{}),f.jsxs("div",{className:"nav-tabs nav-tabs-desktop",children:[f.jsx("button",{className:`nav-tab ${t.pathname==="/dashboard"?"active":""}`,onClick:()=>e("/dashboard"),children:"Dashboard"}),f.jsx("button",{className:`nav-tab ${t.pathname==="/projects/new"?"active":""}`,onClick:()=>e("/projects/new"),children:"+ New Project"}),f.jsx("button",{className:`nav-tab ${t.pathname==="/pricing"?"active":""}`,onClick:()=>e("/pricing"),children:"Pricing"}),Ee&&f.jsx("button",{className:`nav-tab ${t.pathname==="/branding"?"active":""}`,onClick:()=>e("/branding"),children:"Branding"}),Ee&&f.jsxs("button",{className:`nav-tab ${t.pathname==="/team"?"active":""}`,onClick:()=>e("/team"),children:["Team",L>0&&f.jsx("span",{className:"nav-tab-badge",children:L})]})]}),f.jsxs("div",{className:"nav-user nav-user-desktop",children:[f.jsx(KS,{compact:!0}),f.jsxs("div",{className:"mobile-menu",children:[f.jsx("button",{className:"mobile-menu-btn",onClick:()=>k(!A),"aria-label":"User menu",children:""}),A&&f.jsxs("div",{className:"mobile-menu-dropdown",children:[f.jsxs("div",{className:"mobile-menu-info",children:[f.jsx("div",{className:"mobile-menu-user",children:r?.name||r?.email}),i&&f.jsx("div",{className:"mobile-menu-company",children:i.name})]}),f.jsx("button",{className:"mobile-menu-logout",onClick:()=>{k(!1),J()},children:"Sign Out"})]})]}),c.length>1&&f.jsxs("div",{className:"company-switcher",children:[f.jsxs("button",{className:"company-switcher-btn",onClick:()=>C(!O),children:[i?.name||"Select Company",f.jsx("span",{className:"switcher-arrow",children:""})]}),O&&f.jsx("div",{className:"company-dropdown",children:c.map(Ne=>f.jsxs("button",{className:`company-option ${Ne.id===i?.id?"active":""}`,onClick:()=>we(Ne.id),children:[Ne.name,Ne.id===i?.id&&f.jsx("span",{className:"check",children:""})]},Ne.id))})]}),c.length<=1&&i&&f.jsx("span",{className:"nav-company-name",children:i.name}),f.jsx("span",{className:"nav-user-name",children:r?.name||r?.email}),f.jsx("button",{className:"nav-logout",onClick:J,children:"Sign Out"})]}),f.jsx("button",{className:"mobile-menu-btn",onClick:()=>k(!0),"aria-label":"Open menu",children:f.jsxs("span",{className:"hamburger-icon",children:[f.jsx("span",{}),f.jsx("span",{}),f.jsx("span",{})]})})]})}),A&&f.jsx("div",{className:"mobile-drawer-overlay",onClick:()=>k(!1),children:f.jsxs("div",{className:"mobile-drawer",onClick:Ne=>Ne.stopPropagation(),children:[f.jsxs("div",{className:"mobile-drawer-header",children:[f.jsx(Lr,{}),f.jsx("button",{className:"mobile-drawer-close",onClick:()=>k(!1),"aria-label":"Close menu",children:""})]}),f.jsxs("div",{className:"mobile-drawer-user",children:[f.jsx("div",{className:"mobile-user-avatar",children:(r?.name||r?.email||"U")[0].toUpperCase()}),f.jsxs("div",{className:"mobile-user-info",children:[f.jsx("span",{className:"mobile-user-name",children:r?.name||r?.email}),f.jsx("span",{className:"mobile-user-company",children:i?.name})]})]}),c.length>1&&f.jsxs("div",{className:"mobile-drawer-section",children:[f.jsx("div",{className:"mobile-section-title",children:"Switch Company"}),f.jsx("div",{className:"mobile-company-list",children:c.map(Ne=>f.jsxs("button",{className:`mobile-company-option ${Ne.id===i?.id?"active":""}`,onClick:()=>{we(Ne.id),k(!1)},children:[f.jsx("span",{className:"mobile-company-name",children:Ne.name}),Ne.id===i?.id&&f.jsx("span",{className:"mobile-company-check",children:""})]},Ne.id))})]}),f.jsxs("div",{className:"mobile-drawer-section",children:[f.jsx("div",{className:"mobile-section-title",children:"Navigation"}),f.jsxs("div",{className:"mobile-nav-list",children:[f.jsx("button",{className:`mobile-nav-item ${t.pathname==="/dashboard"?"active":""}`,onClick:()=>{e("/dashboard"),k(!1)},children:"Dashboard"}),f.jsx("button",{className:`mobile-nav-item ${t.pathname==="/projects/new"?"active":""}`,onClick:()=>{e("/projects/new"),k(!1)},children:"+ New Project"}),f.jsx("button",{className:`mobile-nav-item ${t.pathname==="/pricing"?"active":""}`,onClick:()=>{e("/pricing"),k(!1)},children:"Pricing"}),Ee&&f.jsx("button",{className:`mobile-nav-item ${t.pathname==="/branding"?"active":""}`,onClick:()=>{e("/branding"),k(!1)},children:"Branding"}),Ee&&f.jsxs("button",{className:`mobile-nav-item ${t.pathname==="/team"?"active":""}`,onClick:()=>{e("/team"),k(!1)},children:["Team",L>0&&f.jsx("span",{className:"mobile-nav-badge",children:L})]})]})]}),f.jsxs("div",{className:"mobile-drawer-section",children:[f.jsx("div",{className:"mobile-section-title",children:"Appearance"}),f.jsx("div",{className:"mobile-theme-toggle",children:f.jsx(KS,{})})]}),f.jsx("div",{className:"mobile-drawer-footer",children:f.jsx("button",{className:"mobile-logout-btn",onClick:()=>{J(),k(!1)},children:"Sign Out"})})]})}),f.jsx(xo,{children:f.jsx(y.Suspense,{fallback:f.jsx(M_,{}),children:f.jsx("div",{className:"container",children:ve},i?.id)})}),f.jsx(YS,{}),xe,f.jsx(qL,{})]})});return f.jsx(Sg,{children:f.jsx(kd,{companyId:i?.id,children:f.jsxs(Mz,{children:[f.jsx(fn,{path:"/view/:token",element:f.jsxs(xo,{children:[f.jsx(hZ,{}),xe]})}),f.jsx(fn,{path:"/sign/:token",element:f.jsxs(xo,{children:[f.jsx(pZ,{}),xe]})}),f.jsx(fn,{path:"/login",element:r&&i&&q?f.jsx(_o,{to:"/dashboard",replace:!0}):f.jsxs(xo,{children:[f.jsx(RL,{onForemanAccess:U,onOfficeLogin:me,onShowToast:I}),xe]})}),f.jsx(fn,{path:"/pending",element:f.jsxs(xo,{children:[f.jsx(mZ,{pendingCompanyName:ce,userName:r?.name,onCheckStatus:ee,onLogout:J}),xe]})}),f.jsx(fn,{path:"/field",element:h?f.jsxs(kd,{companyId:h.company_id,children:[f.jsx(xo,{children:f.jsx(iZ,{project:h,companyId:h.company_id,foremanName:p,onShowToast:I,onExit:H})}),f.jsx(YS,{}),xe]}):f.jsx(_o,{to:"/login",replace:!0})}),f.jsx(fn,{path:"/dashboard",element:ie(Be(f.jsx(oZ,{company:i,user:r,isAdmin:Ee,onShowToast:I,navigateToProjectId:D,onProjectNavigated:pe})))}),f.jsx(fn,{path:"/projects/new",element:ie(Be(f.jsx(sZ,{company:i,user:r,onProjectCreated:je,onShowToast:I})))}),f.jsx(fn,{path:"/pricing",element:ie(Be(f.jsx(cZ,{company:i,onShowToast:I})))}),f.jsx(fn,{path:"/branding",element:ie(Be(f.jsx(lZ,{company:i,onShowToast:I})))}),f.jsx(fn,{path:"/team",element:ie(Ee?Be(f.jsx(fZ,{company:i,user:r,onShowToast:I})):f.jsx(_o,{to:"/dashboard",replace:!0}))}),f.jsx(fn,{path:"/",element:r&&i&&q?f.jsx(_o,{to:"/dashboard",replace:!0}):f.jsx(_o,{to:"/login",replace:!0})}),f.jsx(fn,{path:"*",element:f.jsx(_o,{to:"/",replace:!0})})]})})})}zq.createRoot(document.getElementById("root")).render(f.jsx(Nq.StrictMode,{children:f.jsx(aL,{children:f.jsx(gZ,{})})}));"serviceWorker"in navigator&&(window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(e=>{setInterval(()=>{e.update().catch(t=>console.debug("[SW] Update check failed:",t.message))},3e5)}).catch(e=>{console.debug("[SW] Registration failed:",e.message)})}),navigator.serviceWorker.addEventListener("message",e=>{e.data?.type==="SW_UPDATED"&&(console.log("[App] Service worker updated, reloading for fresh assets..."),window.location.reload()),e.data?.type==="ASSET_NOT_FOUND"&&(console.warn("[App] Asset not found:",e.data.url,"- reloading..."),"caches"in window?caches.keys().then(t=>{t.forEach(r=>caches.delete(r))}).finally(()=>{window.location.reload()}):window.location.reload())}));export{ZP as $,Br as A,R7 as B,E7 as C,nr as D,zt as E,ha as F,ea as G,YZ as H,W as I,et as J,Yi as K,yr as L,Ki as M,m8 as N,qZ as O,Wo as P,Xo as Q,ib as R,RN as S,q0 as T,Wi as U,Fs as V,Vm as W,ih as X,E_ as Y,Jr as Z,WP as _,pm as a,w5 as a0,Qs as a1,S_ as a2,Yo as a3,U9 as a4,N_ as a5,O_ as a6,oV as a7,VP as a8,uM as a9,rZ as aA,QP as aB,uu as aC,AL as aD,NL as aE,kL as aF,CZ as aG,UL as aH,t3 as aI,kN as aJ,T as aK,wZ as aL,$X as aM,vM as aN,jZ as aO,OZ as aP,IL as aQ,SZ as aR,EZ as aS,Lr as aT,AZ as aU,o3 as aV,P as aW,xZ as aX,aQ as aY,FY as aa,gt as ab,vE as ac,Xc as ad,PZ as ae,Wc as af,Dt as ag,Mt as ah,g_ as ai,UP as aj,vn as ak,n0 as al,SY as am,Rm as an,zM as ao,h_ as ap,Ke as aq,be as ar,f as as,Av as at,FX as au,mb as av,vb as aw,bb as ax,Yv as ay,xM as az,nk as b,st as c,NZ as d,TZ as e,d4 as f,aD as g,iD as h,xN as i,ke as j,Rt as k,RZ as l,MZ as m,zI as n,QZ as o,JZ as p,Tr as q,br as r,kZ as s,eQ as t,De as u,oi as v,si as w,Zm as x,km as y,GZ as z};
//# sourceMappingURL=index-Cp3nbsT5.js.map
