{"version":3,"file":"AddCostModal-C6jKBXDl.js","sources":["../../src/components/AddCostModal.jsx"],"sourcesContent":["import { useState } from 'react'\nimport { X, DollarSign, HardHat, Package, Wrench, Users, MoreHorizontal, Truck } from 'lucide-react'\n\n// Category options with icons\nconst categories = [\n  { value: 'labor', label: 'Labor', Icon: HardHat, description: 'Additional labor costs' },\n  { value: 'materials', label: 'Materials', Icon: Package, description: 'Materials and supplies' },\n  { value: 'equipment', label: 'Equipment', Icon: Wrench, description: 'Equipment rental or purchase' },\n  { value: 'subcontractor', label: 'Subcontractor', Icon: Users, description: 'Subcontractor work' },\n  { value: 'disposal', label: 'Disposal', Icon: Truck, description: 'Additional disposal costs' },\n  { value: 'other', label: 'Other', Icon: MoreHorizontal, description: 'Miscellaneous costs' }\n]\n\nexport default function AddCostModal({ onClose, onSave, saving = false }) {\n  const [formData, setFormData] = useState({\n    category: 'materials',\n    description: '',\n    amount: '',\n    cost_date: new Date().toISOString().split('T')[0],\n    notes: ''\n  })\n  const [errors, setErrors] = useState({})\n\n  const handleChange = (field, value) => {\n    setFormData(prev => ({ ...prev, [field]: value }))\n    // Clear error when user types\n    if (errors[field]) {\n      setErrors(prev => ({ ...prev, [field]: null }))\n    }\n  }\n\n  const validate = () => {\n    const newErrors = {}\n\n    if (!formData.description.trim()) {\n      newErrors.description = 'Description is required'\n    }\n\n    const amount = parseFloat(formData.amount)\n    if (isNaN(amount) || amount <= 0) {\n      newErrors.amount = 'Enter a valid amount'\n    }\n\n    if (!formData.cost_date) {\n      newErrors.cost_date = 'Date is required'\n    }\n\n    setErrors(newErrors)\n    return Object.keys(newErrors).length === 0\n  }\n\n  const handleSubmit = (e) => {\n    e.preventDefault()\n    if (validate()) {\n      onSave(formData)\n    }\n  }\n\n  return (\n    <div className=\"modal-overlay\" onClick={onClose} role=\"dialog\" aria-modal=\"true\">\n      <div className=\"modal-content add-cost-modal\" onClick={e => e.stopPropagation()}>\n        <div className=\"modal-header\">\n          <h2>\n            <DollarSign size={20} />\n            Add Cost\n          </h2>\n          <button className=\"close-btn\" onClick={onClose} aria-label=\"Close\">\n            <X size={20} />\n          </button>\n        </div>\n\n        <form onSubmit={handleSubmit}>\n          <div className=\"modal-body\">\n            {/* Category Selection */}\n            <div className=\"form-group\">\n              <label>Category *</label>\n              <div className=\"category-grid\">\n                {categories.map(cat => {\n                  const Icon = cat.Icon\n                  const isSelected = formData.category === cat.value\n                  return (\n                    <button\n                      key={cat.value}\n                      type=\"button\"\n                      className={`category-option ${isSelected ? 'selected' : ''}`}\n                      onClick={() => handleChange('category', cat.value)}\n                    >\n                      <Icon size={18} />\n                      <span className=\"category-label\">{cat.label}</span>\n                    </button>\n                  )\n                })}\n              </div>\n            </div>\n\n            {/* Description */}\n            <div className=\"form-group\">\n              <label htmlFor=\"cost-description\">Description *</label>\n              <input\n                id=\"cost-description\"\n                type=\"text\"\n                value={formData.description}\n                onChange={(e) => handleChange('description', e.target.value)}\n                placeholder=\"e.g., Excavator rental - Week 1\"\n                className={errors.description ? 'error' : ''}\n              />\n              {errors.description && (\n                <span className=\"form-error\">{errors.description}</span>\n              )}\n            </div>\n\n            {/* Amount and Date Row */}\n            <div className=\"form-row\">\n              <div className=\"form-group\">\n                <label htmlFor=\"cost-amount\">Amount *</label>\n                <div className=\"input-with-prefix\">\n                  <span className=\"input-prefix\">$</span>\n                  <input\n                    id=\"cost-amount\"\n                    type=\"text\"\n                    inputMode=\"decimal\"\n                    value={formData.amount}\n                    onChange={(e) => {\n                      const val = e.target.value.replace(/[^0-9.]/g, '')\n                      handleChange('amount', val)\n                    }}\n                    placeholder=\"0.00\"\n                    className={errors.amount ? 'error' : ''}\n                  />\n                </div>\n                {errors.amount && (\n                  <span className=\"form-error\">{errors.amount}</span>\n                )}\n              </div>\n\n              <div className=\"form-group\">\n                <label htmlFor=\"cost-date\">Date *</label>\n                <input\n                  id=\"cost-date\"\n                  type=\"date\"\n                  value={formData.cost_date}\n                  onChange={(e) => handleChange('cost_date', e.target.value)}\n                  className={errors.cost_date ? 'error' : ''}\n                />\n                {errors.cost_date && (\n                  <span className=\"form-error\">{errors.cost_date}</span>\n                )}\n              </div>\n            </div>\n\n            {/* Notes */}\n            <div className=\"form-group\">\n              <label htmlFor=\"cost-notes\">Notes (optional)</label>\n              <textarea\n                id=\"cost-notes\"\n                value={formData.notes}\n                onChange={(e) => handleChange('notes', e.target.value)}\n                placeholder=\"Additional details...\"\n                rows={2}\n              />\n            </div>\n          </div>\n\n          <div className=\"modal-footer\">\n            <button\n              type=\"button\"\n              className=\"btn btn-secondary\"\n              onClick={onClose}\n              disabled={saving}\n            >\n              Cancel\n            </button>\n            <button\n              type=\"submit\"\n              className=\"btn btn-primary\"\n              disabled={saving}\n            >\n              {saving ? 'Saving...' : 'Add Cost'}\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  )\n}\n"],"names":["categories","HardHat","Package","Wrench","Users","Truck","MoreHorizontal","AddCostModal","onClose","onSave","saving","formData","setFormData","useState","errors","setErrors","handleChange","field","value","prev","validate","newErrors","amount","handleSubmit","e","jsxs","jsx","DollarSign","X","cat","Icon","isSelected","val"],"mappings":"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"}