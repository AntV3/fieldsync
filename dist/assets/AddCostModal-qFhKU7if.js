import{j as e}from"./index-P4-kdNvF.js";import{r as d,aa as x,X as j,H as b,a6 as v,W as g,a5 as N,l as f,a4 as y}from"./icons-DdhIMWD5.js";import"./react-DXGY7bZi.js";import"./pdf-ChZ1zkDw.js";import"./supabase-VuevzHjS.js";const C=[{value:"labor",label:"Labor",Icon:b,description:"Additional labor costs"},{value:"materials",label:"Materials",Icon:v,description:"Materials and supplies"},{value:"equipment",label:"Equipment",Icon:g,description:"Equipment rental or purchase"},{value:"subcontractor",label:"Subcontractor",Icon:N,description:"Subcontractor work"},{value:"disposal",label:"Disposal",Icon:f,description:"Additional disposal costs"},{value:"other",label:"Other",Icon:y,description:"Miscellaneous costs"}];function _({onClose:i,onSave:m,saving:n=!1}){const[t,p]=d.useState({category:"materials",description:"",amount:"",cost_date:new Date().toISOString().split("T")[0],notes:""}),[s,c]=d.useState({}),r=(a,o)=>{p(l=>({...l,[a]:o})),s[a]&&c(l=>({...l,[a]:null}))},u=()=>{const a={};t.description.trim()||(a.description="Description is required");const o=parseFloat(t.amount);return(isNaN(o)||o<=0)&&(a.amount="Enter a valid amount"),t.cost_date||(a.cost_date="Date is required"),c(a),Object.keys(a).length===0},h=a=>{a.preventDefault(),u()&&m(t)};return e.jsx("div",{className:"modal-overlay",onClick:i,role:"dialog","aria-modal":"true",children:e.jsxs("div",{className:"modal-content add-cost-modal",onClick:a=>a.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsxs("h2",{children:[e.jsx(x,{size:20}),"Add Cost"]}),e.jsx("button",{className:"close-btn",onClick:i,"aria-label":"Close",children:e.jsx(j,{size:20})})]}),e.jsxs("form",{onSubmit:h,children:[e.jsxs("div",{className:"modal-body",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Category *"}),e.jsx("div",{className:"category-grid",children:C.map(a=>{const o=a.Icon,l=t.category===a.value;return e.jsxs("button",{type:"button",className:`category-option ${l?"selected":""}`,onClick:()=>r("category",a.value),children:[e.jsx(o,{size:18}),e.jsx("span",{className:"category-label",children:a.label})]},a.value)})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"cost-description",children:"Description *"}),e.jsx("input",{id:"cost-description",type:"text",value:t.description,onChange:a=>r("description",a.target.value),placeholder:"e.g., Excavator rental - Week 1",className:s.description?"error":""}),s.description&&e.jsx("span",{className:"form-error",children:s.description})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"cost-amount",children:"Amount *"}),e.jsxs("div",{className:"input-with-prefix",children:[e.jsx("span",{className:"input-prefix",children:"$"}),e.jsx("input",{id:"cost-amount",type:"text",inputMode:"decimal",value:t.amount,onChange:a=>{const o=a.target.value.replace(/[^0-9.]/g,"");r("amount",o)},placeholder:"0.00",className:s.amount?"error":""})]}),s.amount&&e.jsx("span",{className:"form-error",children:s.amount})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"cost-date",children:"Date *"}),e.jsx("input",{id:"cost-date",type:"date",value:t.cost_date,onChange:a=>r("cost_date",a.target.value),className:s.cost_date?"error":""}),s.cost_date&&e.jsx("span",{className:"form-error",children:s.cost_date})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"cost-notes",children:"Notes (optional)"}),e.jsx("textarea",{id:"cost-notes",value:t.notes,onChange:a=>r("notes",a.target.value),placeholder:"Additional details...",rows:2})]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn-secondary",onClick:i,disabled:n,children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn btn-primary",disabled:n,children:n?"Saving...":"Add Cost"})]})]})]})})}export{_ as default};
//# sourceMappingURL=AddCostModal-qFhKU7if.js.map
