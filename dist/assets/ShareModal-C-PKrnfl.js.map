{"version":3,"file":"ShareModal-C-PKrnfl.js","sources":["../../src/components/ShareModal.jsx"],"sourcesContent":["import { useState, useEffect, useCallback } from 'react'\nimport { db } from '../lib/supabase'\nimport Toast from './Toast'\n\nfunction ShareModal({ project, user, onClose, onShareCreated }) {\n  const [loading, setLoading] = useState(false)\n  const [toast, setToast] = useState(null)\n  const [existingShares, setExistingShares] = useState([])\n  const [showNewShare, setShowNewShare] = useState(false)\n\n  // Permission checkboxes\n  const [permissions, setPermissions] = useState({\n    progress: true,\n    photos: true,\n    daily_reports: true,\n    tm_tickets: false,\n    crew_info: false\n  })\n\n  // Expiration settings\n  const [expirationType, setExpirationType] = useState('never')\n  const [customExpiration, setCustomExpiration] = useState('')\n\n  const loadShares = useCallback(async () => {\n    try {\n      const shares = await db.getProjectShares(project.id)\n      setExistingShares(shares)\n    } catch (error) {\n      console.error('Error loading shares:', error)\n    }\n  }, [project.id])\n\n  // Load existing shares\n  useEffect(() => {\n    loadShares()\n  }, [loadShares])\n\n  const handlePermissionChange = (key) => {\n    setPermissions(prev => ({\n      ...prev,\n      [key]: !prev[key]\n    }))\n  }\n\n  const calculateExpiresAt = () => {\n    if (expirationType === 'never') return null\n\n    const now = new Date()\n    if (expirationType === '30days') {\n      now.setDate(now.getDate() + 30)\n    } else if (expirationType === '90days') {\n      now.setDate(now.getDate() + 90)\n    } else if (expirationType === 'custom' && customExpiration) {\n      return new Date(customExpiration).toISOString()\n    }\n\n    return now.toISOString()\n  }\n\n  const handleGenerateLink = async () => {\n    setLoading(true)\n    try {\n      const expiresAt = calculateExpiresAt()\n\n      const share = await db.createProjectShare(\n        project.id,\n        user.id,\n        permissions,\n        expiresAt\n      )\n\n      setToast({ type: 'success', message: 'Share link created!' })\n      setShowNewShare(false)\n      loadShares()\n\n      if (onShareCreated) {\n        onShareCreated(share)\n      }\n    } catch (error) {\n      console.error('Error creating share:', error)\n      setToast({ type: 'error', message: 'Failed to create share link' })\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const handleCopyLink = (token) => {\n    const url = `${window.location.origin}/view/${token}`\n    navigator.clipboard.writeText(url)\n    setToast({ type: 'success', message: 'Link copied to clipboard!' })\n  }\n\n  const handleRevoke = async (shareId) => {\n    if (!confirm('Are you sure you want to revoke this share link?')) return\n\n    try {\n      await db.revokeProjectShare(shareId)\n      setToast({ type: 'success', message: 'Share link revoked' })\n      loadShares()\n    } catch (error) {\n      console.error('Error revoking share:', error)\n      setToast({ type: 'error', message: 'Failed to revoke share link' })\n    }\n  }\n\n  const handleDelete = async (shareId) => {\n    if (!confirm('Are you sure you want to permanently delete this share link?')) return\n\n    try {\n      await db.deleteProjectShare(shareId)\n      setToast({ type: 'success', message: 'Share link deleted' })\n      loadShares()\n    } catch (error) {\n      console.error('Error deleting share:', error)\n      setToast({ type: 'error', message: 'Failed to delete share link' })\n    }\n  }\n\n  const formatDate = (dateString) => {\n    if (!dateString) return 'Never'\n    const date = new Date(dateString)\n    return date.toLocaleDateString()\n  }\n\n  const isExpired = (expiresAt) => {\n    if (!expiresAt) return false\n    return new Date(expiresAt) < new Date()\n  }\n\n  const getPermissionsList = (perms) => {\n    const enabled = []\n    if (perms.progress) enabled.push('Progress')\n    if (perms.photos) enabled.push('Photos')\n    if (perms.daily_reports) enabled.push('Reports')\n    if (perms.tm_tickets) enabled.push('Time & Material')\n    if (perms.crew_info) enabled.push('Crew')\n    return enabled.join(', ')\n  }\n\n  return (\n    <>\n      <div className=\"modal-overlay\" onClick={onClose} role=\"presentation\">\n        <div\n          className=\"modal-content share-modal\"\n          onClick={e => e.stopPropagation()}\n          role=\"dialog\"\n          aria-modal=\"true\"\n          aria-labelledby=\"share-modal-title\"\n        >\n          <div className=\"modal-header\">\n            <h2 id=\"share-modal-title\">Share Project: {project.name}</h2>\n            <button className=\"close-btn\" onClick={onClose} aria-label=\"Close share modal\">&times;</button>\n          </div>\n\n          <div className=\"modal-body\">\n            {/* Existing Shares */}\n            {existingShares.length > 0 && (\n              <div className=\"existing-shares\">\n                <h3>Active Share Links</h3>\n                <div className=\"shares-list\">\n                  {existingShares.map(share => (\n                    <div\n                      key={share.id}\n                      className={`share-item ${!share.is_active || isExpired(share.expires_at) ? 'inactive' : ''}`}\n                    >\n                      <div className=\"share-info\">\n                        <div className=\"share-token\">\n                          <code>{window.location.origin}/view/{share.share_token}</code>\n                          <button\n                            className=\"btn-small\"\n                            onClick={() => handleCopyLink(share.share_token)}\n                            disabled={!share.is_active || isExpired(share.expires_at)}\n                            aria-label=\"Copy share link to clipboard\"\n                          >\n                            Copy\n                          </button>\n                        </div>\n                        <div className=\"share-meta\">\n                          <span className=\"permissions\">{getPermissionsList(share.permissions)}</span>\n                          <span className=\"expiry\">\n                            Expires: {formatDate(share.expires_at)}\n                          </span>\n                          <span className=\"views\">\n                            Views: {share.view_count || 0}\n                            {share.last_viewed_at && ` (Last: ${formatDate(share.last_viewed_at)})`}\n                          </span>\n                        </div>\n                        {!share.is_active && (\n                          <div className=\"status-badge revoked\">Revoked</div>\n                        )}\n                        {isExpired(share.expires_at) && share.is_active && (\n                          <div className=\"status-badge expired\">Expired</div>\n                        )}\n                      </div>\n                      <div className=\"share-actions\">\n                        {share.is_active && !isExpired(share.expires_at) && (\n                          <button className=\"btn-secondary\" onClick={() => handleRevoke(share.id)}>\n                            Revoke\n                          </button>\n                        )}\n                        <button className=\"btn-danger\" onClick={() => handleDelete(share.id)}>\n                          Delete\n                        </button>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            )}\n\n            {/* New Share Form */}\n            {!showNewShare && (\n              <button className=\"btn-primary\" onClick={() => setShowNewShare(true)}>\n                + Create New Share Link\n              </button>\n            )}\n\n            {showNewShare && (\n              <div className=\"new-share-form\">\n                <h3>Create New Share Link</h3>\n\n                <div className=\"form-section\">\n                  <label>Permissions</label>\n                  <div className=\"checkbox-group\">\n                    <label>\n                      <input\n                        type=\"checkbox\"\n                        checked={permissions.progress}\n                        onChange={() => handlePermissionChange('progress')}\n                      />\n                      Progress/completion status\n                    </label>\n                    <label>\n                      <input\n                        type=\"checkbox\"\n                        checked={permissions.photos}\n                        onChange={() => handlePermissionChange('photos')}\n                      />\n                      Photos feed\n                    </label>\n                    <label>\n                      <input\n                        type=\"checkbox\"\n                        checked={permissions.daily_reports}\n                        onChange={() => handlePermissionChange('daily_reports')}\n                      />\n                      Daily reports\n                    </label>\n                    <label>\n                      <input\n                        type=\"checkbox\"\n                        checked={permissions.tm_tickets}\n                        onChange={() => handlePermissionChange('tm_tickets')}\n                      />\n                      Time & Material tickets\n                    </label>\n                    <label>\n                      <input\n                        type=\"checkbox\"\n                        checked={permissions.crew_info}\n                        onChange={() => handlePermissionChange('crew_info')}\n                      />\n                      Crew information\n                    </label>\n                  </div>\n                </div>\n\n                <div className=\"form-section\">\n                  <label>Link Expiration</label>\n                  <div className=\"radio-group\">\n                    <label>\n                      <input\n                        type=\"radio\"\n                        value=\"never\"\n                        checked={expirationType === 'never'}\n                        onChange={(e) => setExpirationType(e.target.value)}\n                      />\n                      Never expires\n                    </label>\n                    <label>\n                      <input\n                        type=\"radio\"\n                        value=\"30days\"\n                        checked={expirationType === '30days'}\n                        onChange={(e) => setExpirationType(e.target.value)}\n                      />\n                      30 days\n                    </label>\n                    <label>\n                      <input\n                        type=\"radio\"\n                        value=\"90days\"\n                        checked={expirationType === '90days'}\n                        onChange={(e) => setExpirationType(e.target.value)}\n                      />\n                      90 days\n                    </label>\n                    <label>\n                      <input\n                        type=\"radio\"\n                        value=\"custom\"\n                        checked={expirationType === 'custom'}\n                        onChange={(e) => setExpirationType(e.target.value)}\n                      />\n                      Custom date\n                    </label>\n                  </div>\n\n                  {expirationType === 'custom' && (\n                    <input\n                      type=\"date\"\n                      value={customExpiration}\n                      onChange={(e) => setCustomExpiration(e.target.value)}\n                      min={new Date().toISOString().split('T')[0]}\n                      className=\"date-input\"\n                    />\n                  )}\n                </div>\n\n                <div className=\"form-actions\">\n                  <button\n                    className=\"btn-secondary\"\n                    onClick={() => setShowNewShare(false)}\n                  >\n                    Cancel\n                  </button>\n                  <button\n                    className=\"btn-primary\"\n                    onClick={handleGenerateLink}\n                    disabled={loading}\n                  >\n                    {loading ? 'Generating...' : 'Generate Share Link'}\n                  </button>\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n\n      {toast && <Toast message={toast.message} type={toast.type} onClose={() => setToast(null)} />}\n\n      <style>{`\n        .share-modal {\n          max-width: 700px;\n          max-height: 80vh;\n          overflow-y: auto;\n        }\n\n        .modal-header {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          padding: 1.5rem;\n          border-bottom: 1px solid var(--border-color);\n        }\n\n        .modal-header h2 {\n          margin: 0;\n          font-size: 1.25rem;\n          color: var(--text-primary);\n        }\n\n        .close-btn {\n          background: none;\n          border: none;\n          font-size: 2rem;\n          cursor: pointer;\n          color: var(--text-secondary);\n          padding: 0;\n          width: 2rem;\n          height: 2rem;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n        }\n\n        .close-btn:hover {\n          color: var(--text-primary);\n        }\n\n        .modal-body {\n          padding: 1.5rem;\n        }\n\n        .existing-shares {\n          margin-bottom: 2rem;\n        }\n\n        .existing-shares h3 {\n          margin-top: 0;\n          margin-bottom: 1rem;\n          font-size: 1.1rem;\n          color: var(--text-primary);\n        }\n\n        .shares-list {\n          display: flex;\n          flex-direction: column;\n          gap: 1rem;\n        }\n\n        .share-item {\n          border: 1px solid var(--border-color);\n          border-radius: 8px;\n          padding: 1rem;\n          display: flex;\n          justify-content: space-between;\n          align-items: flex-start;\n          gap: 1rem;\n          background: var(--bg-card);\n        }\n\n        .share-item.inactive {\n          opacity: 0.6;\n          background-color: var(--bg-elevated);\n        }\n\n        .share-info {\n          flex: 1;\n        }\n\n        .share-token {\n          display: flex;\n          align-items: center;\n          gap: 0.5rem;\n          margin-bottom: 0.5rem;\n        }\n\n        .share-token code {\n          background-color: var(--bg-elevated);\n          padding: 0.25rem 0.5rem;\n          border-radius: 4px;\n          font-size: 0.875rem;\n          flex: 1;\n          overflow: hidden;\n          text-overflow: ellipsis;\n          white-space: nowrap;\n          color: var(--text-primary);\n        }\n\n        .share-meta {\n          display: flex;\n          flex-wrap: wrap;\n          gap: 1rem;\n          font-size: 0.875rem;\n          color: var(--text-secondary);\n        }\n\n        .status-badge {\n          display: inline-block;\n          padding: 0.25rem 0.5rem;\n          border-radius: 4px;\n          font-size: 0.75rem;\n          font-weight: 500;\n          margin-top: 0.5rem;\n        }\n\n        .status-badge.revoked {\n          background-color: #fee2e2;\n          color: #991b1b;\n        }\n\n        .status-badge.expired {\n          background-color: #fef3c7;\n          color: #92400e;\n        }\n\n        .share-actions {\n          display: flex;\n          gap: 0.5rem;\n          flex-shrink: 0;\n        }\n\n        .new-share-form {\n          border: 1px solid var(--border-color);\n          border-radius: 8px;\n          padding: 1.5rem;\n          background-color: var(--bg-elevated);\n        }\n\n        .new-share-form h3 {\n          margin-top: 0;\n          margin-bottom: 1.5rem;\n          font-size: 1.1rem;\n          color: var(--text-primary);\n        }\n\n        .form-section {\n          margin-bottom: 1.5rem;\n        }\n\n        .form-section label {\n          display: block;\n          font-weight: 500;\n          margin-bottom: 0.5rem;\n          color: var(--text-primary);\n        }\n\n        .checkbox-group,\n        .radio-group {\n          display: flex;\n          flex-direction: column;\n          gap: 0.5rem;\n        }\n\n        .checkbox-group label,\n        .radio-group label {\n          font-weight: normal;\n          display: flex;\n          align-items: center;\n          gap: 0.5rem;\n        }\n\n        .checkbox-group input[type=\"checkbox\"],\n        .radio-group input[type=\"radio\"] {\n          margin: 0;\n        }\n\n        .date-input {\n          margin-top: 0.5rem;\n          padding: 0.5rem;\n          border: 1px solid var(--border-color);\n          border-radius: 4px;\n          width: 100%;\n          background: var(--bg-card);\n          color: var(--text-primary);\n        }\n\n        .form-actions {\n          display: flex;\n          justify-content: flex-end;\n          gap: 0.5rem;\n          margin-top: 1.5rem;\n        }\n\n        .btn-small {\n          padding: 0.25rem 0.75rem;\n          font-size: 0.875rem;\n          border: 1px solid var(--border-color);\n          background-color: var(--bg-card);\n          color: var(--text-primary);\n          border-radius: 4px;\n          cursor: pointer;\n        }\n\n        .btn-small:hover:not(:disabled) {\n          background-color: var(--bg-elevated);\n        }\n\n        .btn-small:disabled {\n          opacity: 0.5;\n          cursor: not-allowed;\n        }\n\n        .btn-primary,\n        .btn-secondary,\n        .btn-danger {\n          padding: 0.5rem 1rem;\n          border-radius: 6px;\n          font-weight: 500;\n          cursor: pointer;\n          border: none;\n        }\n\n        .btn-primary {\n          background-color: var(--primary-color, #3b82f6);\n          color: white;\n        }\n\n        .btn-primary:hover:not(:disabled) {\n          opacity: 0.9;\n        }\n\n        .btn-primary:disabled {\n          opacity: 0.5;\n          cursor: not-allowed;\n        }\n\n        .btn-secondary {\n          background-color: var(--bg-elevated);\n          color: var(--text-primary);\n          border: 1px solid var(--border-color);\n        }\n\n        .btn-secondary:hover {\n          background-color: var(--bg-tertiary);\n        }\n\n        .btn-danger {\n          background-color: #ef4444;\n          color: white;\n        }\n\n        .btn-danger:hover {\n          background-color: #dc2626;\n        }\n      `}</style>\n    </>\n  )\n}\n\nexport default ShareModal\n"],"names":["ShareModal","project","user","onClose","onShareCreated","loading","setLoading","useState","toast","setToast","existingShares","setExistingShares","showNewShare","setShowNewShare","permissions","setPermissions","expirationType","setExpirationType","customExpiration","setCustomExpiration","loadShares","useCallback","shares","db","error","useEffect","handlePermissionChange","key","prev","calculateExpiresAt","now","handleGenerateLink","expiresAt","share","handleCopyLink","token","url","handleRevoke","shareId","handleDelete","formatDate","dateString","isExpired","getPermissionsList","perms","enabled","jsxs","Fragment","jsx","Toast"],"mappings":"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"}