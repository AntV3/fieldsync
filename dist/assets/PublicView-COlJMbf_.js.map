{"version":3,"file":"PublicView-COlJMbf_.js","sources":["../../src/components/PublicView.jsx"],"sourcesContent":["import { useState, useEffect } from 'react'\nimport { AlertTriangle } from 'lucide-react'\nimport { db } from '../lib/supabase'\nimport { useBranding } from '../lib/BrandingContext'\nimport Logo from './Logo'\n\nexport default function PublicView({ shareToken }) {\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState(null)\n  const [data, setData] = useState(null)\n  const [selectedPhotoIndex, setSelectedPhotoIndex] = useState(0)\n  const { branding } = useBranding()\n\n  useEffect(() => {\n    loadPublicData()\n  }, [shareToken])\n\n  const loadPublicData = async () => {\n    setLoading(true)\n    setError(null)\n\n    try {\n      const publicData = await db.getPublicProjectData(shareToken)\n\n      if (!publicData) {\n        setError('This share link is invalid or has expired.')\n        return\n      }\n\n      setData(publicData)\n    } catch (err) {\n      console.error('Error loading public data:', err)\n      setError('Failed to load project data.')\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const formatDate = (dateString) => {\n    if (!dateString) return ''\n    const date = new Date(dateString)\n    return date.toLocaleDateString('en-US', {\n      year: 'numeric',\n      month: 'short',\n      day: 'numeric'\n    })\n  }\n\n  const formatCurrency = (amount) => {\n    return new Intl.NumberFormat('en-US', {\n      style: 'currency',\n      currency: 'USD',\n      minimumFractionDigits: 0,\n      maximumFractionDigits: 0\n    }).format(amount)\n  }\n\n  if (loading) {\n    return (\n      <div className=\"public-view\">\n        <div className=\"loading-container\">\n          <div className=\"spinner\"></div>\n          <p>Loading project...</p>\n        </div>\n\n        <style>{publicViewStyles}</style>\n      </div>\n    )\n  }\n\n  if (error) {\n    return (\n      <div className=\"public-view\">\n        <div className=\"error-container\">\n          <div className=\"error-icon\"><AlertTriangle size={48} /></div>\n          <h2>{error}</h2>\n          <p>Please contact the project owner for a valid link.</p>\n        </div>\n\n        <style>{publicViewStyles}</style>\n      </div>\n    )\n  }\n\n  const { share, project, progress, areas, photos, dailyReports, tmTickets } = data\n\n  return (\n    <div className=\"public-view\">\n      {/* Header */}\n      <header className=\"public-header\">\n        <div className=\"container\">\n          <Logo size=\"large\" />\n          <div className=\"header-meta\">\n            <span className=\"last-updated\">\n              Last updated: {formatDate(project.updated_at || project.created_at)}\n            </span>\n          </div>\n        </div>\n      </header>\n\n      {/* Main Content */}\n      <main className=\"public-main\">\n        <div className=\"container\">\n          {/* Project Title */}\n          <div className=\"project-header\">\n            <h1>{project.name}</h1>\n            {project.address && <p className=\"project-address\">{project.address}</p>}\n          </div>\n\n          {/* Progress Section */}\n          {share.permissions.progress && (\n            <div className=\"public-card progress-card\">\n              <h2>Project Progress</h2>\n              <div className=\"progress-visual\">\n                <div className=\"progress-circle\">\n                  <svg viewBox=\"0 0 100 100\">\n                    <circle\n                      cx=\"50\"\n                      cy=\"50\"\n                      r=\"45\"\n                      fill=\"none\"\n                      stroke=\"#e5e7eb\"\n                      strokeWidth=\"8\"\n                    />\n                    <circle\n                      cx=\"50\"\n                      cy=\"50\"\n                      r=\"45\"\n                      fill=\"none\"\n                      stroke=\"var(--primary-color, #3b82f6)\"\n                      strokeWidth=\"8\"\n                      strokeDasharray={`${progress * 2.827} 282.7`}\n                      strokeLinecap=\"round\"\n                      transform=\"rotate(-90 50 50)\"\n                    />\n                  </svg>\n                  <div className=\"progress-percentage\">{progress}%</div>\n                </div>\n                <div className=\"progress-details\">\n                  <div className=\"progress-label\">Complete</div>\n                  {areas && areas.length > 0 && (\n                    <div className=\"areas-summary\">\n                      {areas.filter(a => a.status === 'done').length} of {areas.length} areas completed\n                    </div>\n                  )}\n                </div>\n              </div>\n\n              {/* Areas List */}\n              {areas && areas.length > 0 && (\n                <div className=\"areas-list\">\n                  <h3>Work Areas</h3>\n                  {areas.map(area => (\n                    <div key={area.id} className=\"area-item\">\n                      <div className=\"area-info\">\n                        <span className=\"area-name\">{area.name}</span>\n                        <span className=\"area-weight\">{area.weight}%</span>\n                      </div>\n                      <div className={`area-status status-${area.status}`}>\n                        {area.status === 'done' ? '✓ Complete' :\n                         area.status === 'working' ? '⚙ In Progress' :\n                         '○ Not Started'}\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              )}\n            </div>\n          )}\n\n          {/* Photos Section */}\n          {share.permissions.photos && photos && photos.length > 0 && (\n            <div className=\"public-card photos-card\">\n              <h2>Recent Photos</h2>\n              <div className=\"photos-carousel\">\n                <div className=\"carousel-main\">\n                  {photos[selectedPhotoIndex] && (\n                    <img\n                      src={photos[selectedPhotoIndex].url}\n                      alt={`Project photo from ${formatDate(photos[selectedPhotoIndex].date)}`}\n                      className=\"carousel-image\"\n                    />\n                  )}\n                  <div className=\"carousel-date\">\n                    {formatDate(photos[selectedPhotoIndex]?.date)}\n                  </div>\n                </div>\n                <div className=\"carousel-thumbnails\">\n                  {photos.slice(0, 10).map((photo, index) => (\n                    <div\n                      key={index}\n                      className={`thumbnail ${index === selectedPhotoIndex ? 'active' : ''}`}\n                      onClick={() => setSelectedPhotoIndex(index)}\n                    >\n                      <img src={photo.url} alt={`Thumbnail ${index + 1}`} />\n                    </div>\n                  ))}\n                </div>\n                {photos.length > 1 && (\n                  <div className=\"carousel-controls\">\n                    <button\n                      onClick={() => setSelectedPhotoIndex(prev =>\n                        prev > 0 ? prev - 1 : photos.length - 1\n                      )}\n                      className=\"carousel-btn\"\n                    >\n                      ←\n                    </button>\n                    <span className=\"carousel-counter\">\n                      {selectedPhotoIndex + 1} / {photos.length}\n                    </span>\n                    <button\n                      onClick={() => setSelectedPhotoIndex(prev =>\n                        prev < photos.length - 1 ? prev + 1 : 0\n                      )}\n                      className=\"carousel-btn\"\n                    >\n                      →\n                    </button>\n                  </div>\n                )}\n              </div>\n            </div>\n          )}\n\n          {/* Daily Reports Section */}\n          {share.permissions.daily_reports && dailyReports && dailyReports.length > 0 && (\n            <div className=\"public-card reports-card\">\n              <h2>Daily Reports</h2>\n              <div className=\"reports-list\">\n                {dailyReports.map((report, index) => (\n                  <div key={index} className=\"report-item\">\n                    <div className=\"report-date\">\n                      {formatDate(report.report_date)}\n                    </div>\n                    <div className=\"report-content\">\n                      {report.crew_count && (\n                        <div className=\"report-field\">\n                          <strong>Crew:</strong> {report.crew_count} workers\n                        </div>\n                      )}\n                      {report.tasks_completed && (\n                        <div className=\"report-field\">\n                          <strong>Tasks Completed:</strong> {report.tasks_completed}\n                        </div>\n                      )}\n                      {report.weather && (\n                        <div className=\"report-field\">\n                          <strong>Weather:</strong> {report.weather}\n                        </div>\n                      )}\n                      {report.notes && (\n                        <div className=\"report-field\">\n                          <strong>Notes:</strong> {report.notes}\n                        </div>\n                      )}\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </div>\n          )}\n\n          {/* T&M Tickets Section */}\n          {share.permissions.tm_tickets && tmTickets && tmTickets.length > 0 && (\n            <div className=\"public-card tm-card\">\n              <h2>Time & Materials Tickets</h2>\n              <div className=\"tm-list\">\n                {tmTickets.map((ticket, index) => (\n                  <div key={index} className=\"tm-item\">\n                    <div className=\"tm-header\">\n                      <span className=\"tm-date\">{formatDate(ticket.work_date)}</span>\n                      <span className={`tm-status status-${ticket.status}`}>\n                        {ticket.status}\n                      </span>\n                    </div>\n                    {ticket.description && (\n                      <div className=\"tm-description\">{ticket.description}</div>\n                    )}\n                    {ticket.total_amount && (\n                      <div className=\"tm-amount\">\n                        Total: {formatCurrency(ticket.total_amount)}\n                      </div>\n                    )}\n                  </div>\n                ))}\n              </div>\n            </div>\n          )}\n        </div>\n      </main>\n\n      {/* Footer */}\n      <footer className=\"public-footer\">\n        <div className=\"container\">\n          {!branding?.hide_fieldsync_branding && (\n            <p>Powered by FieldSync</p>\n          )}\n        </div>\n      </footer>\n\n      <style>{publicViewStyles}</style>\n    </div>\n  )\n}\n\nconst publicViewStyles = `\n  .public-view {\n    min-height: 100vh;\n    background-color: #f9fafb;\n    display: flex;\n    flex-direction: column;\n  }\n\n  .container {\n    max-width: 1000px;\n    margin: 0 auto;\n    padding: 0 1rem;\n    width: 100%;\n  }\n\n  /* Header */\n  .public-header {\n    background-color: white;\n    border-bottom: 1px solid #e5e7eb;\n    padding: 1.5rem 0;\n  }\n\n  .public-header .container {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n  }\n\n  .header-meta {\n    font-size: 0.875rem;\n    color: #6b7280;\n  }\n\n  /* Main Content */\n  .public-main {\n    flex: 1;\n    padding: 2rem 0;\n  }\n\n  .project-header {\n    margin-bottom: 2rem;\n  }\n\n  .project-header h1 {\n    font-size: 2rem;\n    margin: 0 0 0.5rem 0;\n    color: #111827;\n  }\n\n  .project-address {\n    font-size: 1rem;\n    color: #6b7280;\n    margin: 0;\n  }\n\n  /* Cards */\n  .public-card {\n    background-color: white;\n    border-radius: 12px;\n    padding: 2rem;\n    margin-bottom: 1.5rem;\n    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n  }\n\n  .public-card h2 {\n    font-size: 1.5rem;\n    margin: 0 0 1.5rem 0;\n    color: #111827;\n  }\n\n  .public-card h3 {\n    font-size: 1.125rem;\n    margin: 1.5rem 0 1rem 0;\n    color: #374151;\n  }\n\n  /* Progress Card */\n  .progress-visual {\n    display: flex;\n    align-items: center;\n    gap: 2rem;\n    margin-bottom: 2rem;\n  }\n\n  .progress-circle {\n    position: relative;\n    width: 150px;\n    height: 150px;\n    flex-shrink: 0;\n  }\n\n  .progress-circle svg {\n    width: 100%;\n    height: 100%;\n  }\n\n  .progress-percentage {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    font-size: 2rem;\n    font-weight: bold;\n    color: var(--primary-color, #3b82f6);\n  }\n\n  .progress-details {\n    flex: 1;\n  }\n\n  .progress-label {\n    font-size: 1.25rem;\n    font-weight: 600;\n    color: #111827;\n    margin-bottom: 0.5rem;\n  }\n\n  .areas-summary {\n    font-size: 1rem;\n    color: #6b7280;\n  }\n\n  /* Areas List */\n  .areas-list {\n    border-top: 1px solid #e5e7eb;\n    padding-top: 1rem;\n  }\n\n  .area-item {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: 0.75rem 0;\n    border-bottom: 1px solid #f3f4f6;\n  }\n\n  .area-item:last-child {\n    border-bottom: none;\n  }\n\n  .area-info {\n    flex: 1;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-right: 1rem;\n  }\n\n  .area-name {\n    font-weight: 500;\n    color: #374151;\n  }\n\n  .area-weight {\n    color: #6b7280;\n    font-size: 0.875rem;\n  }\n\n  .area-status {\n    padding: 0.25rem 0.75rem;\n    border-radius: 6px;\n    font-size: 0.875rem;\n    font-weight: 500;\n    white-space: nowrap;\n  }\n\n  .area-status.status-done {\n    background-color: #d1fae5;\n    color: #065f46;\n  }\n\n  .area-status.status-working {\n    background-color: #fef3c7;\n    color: #92400e;\n  }\n\n  .area-status.status-not_started {\n    background-color: #f3f4f6;\n    color: #6b7280;\n  }\n\n  /* Photos Carousel */\n  .photos-carousel {\n    position: relative;\n  }\n\n  .carousel-main {\n    position: relative;\n    width: 100%;\n    height: 400px;\n    background-color: #111827;\n    border-radius: 8px;\n    overflow: hidden;\n    margin-bottom: 1rem;\n  }\n\n  .carousel-image {\n    width: 100%;\n    height: 100%;\n    object-fit: contain;\n  }\n\n  .carousel-date {\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    background: linear-gradient(to top, rgba(0,0,0,0.7), transparent);\n    color: white;\n    padding: 1rem;\n    text-align: center;\n  }\n\n  .carousel-thumbnails {\n    display: flex;\n    gap: 0.5rem;\n    overflow-x: auto;\n    padding-bottom: 0.5rem;\n    margin-bottom: 1rem;\n  }\n\n  .thumbnail {\n    flex-shrink: 0;\n    width: 80px;\n    height: 80px;\n    border-radius: 4px;\n    overflow: hidden;\n    cursor: pointer;\n    border: 2px solid transparent;\n    transition: border-color 0.2s;\n  }\n\n  .thumbnail:hover {\n    border-color: #d1d5db;\n  }\n\n  .thumbnail.active {\n    border-color: var(--primary-color, #3b82f6);\n  }\n\n  .thumbnail img {\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n  }\n\n  .carousel-controls {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    gap: 1rem;\n  }\n\n  .carousel-btn {\n    background-color: white;\n    border: 1px solid #d1d5db;\n    border-radius: 50%;\n    width: 40px;\n    height: 40px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    cursor: pointer;\n    font-size: 1.25rem;\n    transition: background-color 0.2s;\n  }\n\n  .carousel-btn:hover {\n    background-color: #f3f4f6;\n  }\n\n  .carousel-counter {\n    font-size: 0.875rem;\n    color: #6b7280;\n  }\n\n  /* Daily Reports */\n  .reports-list {\n    display: flex;\n    flex-direction: column;\n    gap: 1rem;\n  }\n\n  .report-item {\n    border: 1px solid #e5e7eb;\n    border-radius: 8px;\n    padding: 1rem;\n  }\n\n  .report-date {\n    font-weight: 600;\n    color: #111827;\n    margin-bottom: 0.75rem;\n    font-size: 1.125rem;\n  }\n\n  .report-content {\n    display: flex;\n    flex-direction: column;\n    gap: 0.5rem;\n  }\n\n  .report-field {\n    color: #374151;\n    line-height: 1.5;\n  }\n\n  .report-field strong {\n    color: #111827;\n  }\n\n  /* T&M Tickets */\n  .tm-list {\n    display: flex;\n    flex-direction: column;\n    gap: 1rem;\n  }\n\n  .tm-item {\n    border: 1px solid #e5e7eb;\n    border-radius: 8px;\n    padding: 1rem;\n  }\n\n  .tm-header {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-bottom: 0.5rem;\n  }\n\n  .tm-date {\n    font-weight: 600;\n    color: #111827;\n  }\n\n  .tm-status {\n    padding: 0.25rem 0.75rem;\n    border-radius: 6px;\n    font-size: 0.875rem;\n    font-weight: 500;\n    text-transform: capitalize;\n  }\n\n  .tm-status.status-approved {\n    background-color: #d1fae5;\n    color: #065f46;\n  }\n\n  .tm-status.status-pending {\n    background-color: #fef3c7;\n    color: #92400e;\n  }\n\n  .tm-status.status-rejected {\n    background-color: #fee2e2;\n    color: #991b1b;\n  }\n\n  .tm-description {\n    color: #374151;\n    margin-bottom: 0.5rem;\n  }\n\n  .tm-amount {\n    font-size: 1.125rem;\n    font-weight: 600;\n    color: var(--primary-color, #3b82f6);\n  }\n\n  /* Footer */\n  .public-footer {\n    background-color: white;\n    border-top: 1px solid #e5e7eb;\n    padding: 2rem 0;\n    margin-top: auto;\n  }\n\n  .public-footer p {\n    text-align: center;\n    color: #6b7280;\n    margin: 0;\n    font-size: 0.875rem;\n  }\n\n  /* Loading & Error States */\n  .loading-container,\n  .error-container {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    min-height: 100vh;\n    padding: 2rem;\n  }\n\n  .spinner {\n    width: 50px;\n    height: 50px;\n    border: 4px solid #e5e7eb;\n    border-top-color: var(--primary-color, #3b82f6);\n    border-radius: 50%;\n    animation: spin 1s linear infinite;\n  }\n\n  @keyframes spin {\n    to { transform: rotate(360deg); }\n  }\n\n  .loading-container p {\n    margin-top: 1rem;\n    color: #6b7280;\n  }\n\n  .error-icon {\n    font-size: 4rem;\n    margin-bottom: 1rem;\n  }\n\n  .error-container h2 {\n    color: #111827;\n    margin: 0 0 0.5rem 0;\n  }\n\n  .error-container p {\n    color: #6b7280;\n    margin: 0;\n  }\n\n  /* Mobile Responsive */\n  @media (max-width: 768px) {\n    .project-header h1 {\n      font-size: 1.5rem;\n    }\n\n    .public-card {\n      padding: 1.5rem;\n    }\n\n    .progress-visual {\n      flex-direction: column;\n      align-items: center;\n      text-align: center;\n    }\n\n    .progress-circle {\n      width: 120px;\n      height: 120px;\n    }\n\n    .progress-percentage {\n      font-size: 1.5rem;\n    }\n\n    .carousel-main {\n      height: 300px;\n    }\n\n    .area-item {\n      flex-direction: column;\n      align-items: flex-start;\n      gap: 0.5rem;\n    }\n\n    .area-info {\n      width: 100%;\n      margin-right: 0;\n    }\n  }\n`\n"],"names":["PublicView","shareToken","loading","setLoading","useState","error","setError","data","setData","selectedPhotoIndex","setSelectedPhotoIndex","branding","useBranding","useEffect","loadPublicData","publicData","db","err","formatDate","dateString","formatCurrency","amount","jsxs","jsx","publicViewStyles","AlertTriangle","share","project","progress","areas","photos","dailyReports","tmTickets","Logo","a","area","photo","index","prev","report","ticket"],"mappings":"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AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;"}