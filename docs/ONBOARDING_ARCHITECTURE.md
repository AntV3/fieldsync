# FieldSync Company Onboarding & Subscription Architecture

**Document Type:** Principal Architecture Specification
**Version:** 1.0
**Date:** December 2024
**Status:** Design Phase

---

## Executive Summary

This document defines the architecture for FieldSync's company onboarding and subscription system. The design addresses scalability from 10 to 10,000+ companies while maintaining strict tenant isolation, supporting future billing integrations, and providing a frictionless user experience.

**Core Principle:** Company onboarding is infrastructure, not a feature. It must be explicit, recoverable, and observable.

---

## Table of Contents

0. [Onboarding Experience Design](#0-onboarding-experience-design) *(UX & Cross-Platform)*
1. [Current State Analysis](#1-current-state-analysis)
2. [Entry Point Architecture](#2-entry-point-architecture)
3. [Company Creation Flow](#3-company-creation-flow)
4. [Subscription & Tier Model](#4-subscription--tier-model)
5. [Admin & Access Bootstrapping](#5-admin--access-bootstrapping)
6. [Joining Existing Companies](#6-joining-existing-companies)
7. [Data Model Extensions](#7-data-model-extensions)
8. [Risk & Edge Case Analysis](#8-risk--edge-case-analysis)
9. [Admin Billing Portal](#9-admin-billing-portal)
10. [Payment Processing & Stripe Integration](#10-payment-processing--stripe-integration)
11. [Implementation Roadmap](#11-implementation-roadmap)

---

## 0. Onboarding Experience Design

### Design Philosophy

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   ONBOARDING PRINCIPLES                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  1. SHOW, DON'T TELL                                             â”‚
â”‚     â€¢ Interactive demo before signup                            â”‚
â”‚     â€¢ See real screens, not marketing fluff                     â”‚
â”‚     â€¢ "Try it now" beats "Learn more"                           â”‚
â”‚                                                                  â”‚
â”‚  2. PROGRESSIVE DISCLOSURE                                       â”‚
â”‚     â€¢ Start simple: "What do you want to do?"                   â”‚
â”‚     â€¢ Add complexity only when needed                           â”‚
â”‚     â€¢ Never show 10 options when 3 will do                      â”‚
â”‚                                                                  â”‚
â”‚  3. ZERO FRICTION START                                          â”‚
â”‚     â€¢ See value before creating account                         â”‚
â”‚     â€¢ No credit card required for trial                         â”‚
â”‚     â€¢ Under 60 seconds to first "aha" moment                    â”‚
â”‚                                                                  â”‚
â”‚  4. CONTEXT-AWARE                                                â”‚
â”‚     â€¢ Foreman on phone â†’ simplified flow                        â”‚
â”‚     â€¢ Office on desktop â†’ full dashboard                        â”‚
â”‚     â€¢ New company â†’ guided setup                                â”‚
â”‚     â€¢ Returning user â†’ straight to work                         â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Current vs Proposed Entry Screen

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   CURRENT ENTRY SCREEN                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                          â”‚
â”‚                        â”‚  FieldSync  â”‚                          â”‚
â”‚                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                          â”‚
â”‚                                                                  â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚
â”‚              â”‚  Field   â”‚      â”‚  Office  â”‚                     â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚
â”‚                                                                  â”‚
â”‚   Problem: No path for new companies                            â”‚
â”‚   Problem: No way to understand the product first               â”‚
â”‚   Problem: "Field" vs "Office" unclear to new users             â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   PROPOSED ENTRY SCREEN                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚                                                          â”‚   â”‚
â”‚   â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚   â”‚
â”‚   â”‚              â”‚     FieldSync       â”‚                     â”‚   â”‚
â”‚   â”‚              â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚                     â”‚   â”‚
â”‚   â”‚              â”‚  Construction       â”‚                     â”‚
â”‚   â”‚              â”‚  Documentation      â”‚                     â”‚   â”‚
â”‚   â”‚              â”‚  Made Simple        â”‚                     â”‚   â”‚
â”‚   â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚   â”‚
â”‚   â”‚                                                          â”‚   â”‚
â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚   â”‚
â”‚   â”‚   â”‚                                                 â”‚    â”‚   â”‚
â”‚   â”‚   â”‚    ğŸ‘· I'm a Field Worker                       â”‚    â”‚   â”‚
â”‚   â”‚   â”‚       Enter time, materials, photos            â”‚    â”‚   â”‚
â”‚   â”‚   â”‚                                                 â”‚    â”‚   â”‚
â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚   â”‚
â”‚   â”‚                                                          â”‚   â”‚
â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚   â”‚
â”‚   â”‚   â”‚                                                 â”‚    â”‚   â”‚
â”‚   â”‚   â”‚    ğŸ¢ I'm Office Staff                         â”‚    â”‚   â”‚
â”‚   â”‚   â”‚       Review tickets, manage projects          â”‚    â”‚   â”‚
â”‚   â”‚   â”‚                                                 â”‚    â”‚   â”‚
â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚   â”‚
â”‚   â”‚                                                          â”‚   â”‚
â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚   â”‚
â”‚   â”‚   â”‚                                                 â”‚    â”‚   â”‚
â”‚   â”‚   â”‚    ğŸš€ Start a Free Trial                       â”‚    â”‚   â”‚
â”‚   â”‚   â”‚       Set up your company in 2 minutes         â”‚    â”‚   â”‚
â”‚   â”‚   â”‚                                                 â”‚    â”‚   â”‚
â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚   â”‚
â”‚   â”‚                                                          â”‚   â”‚
â”‚   â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚   â”‚
â”‚   â”‚                                                          â”‚   â”‚
â”‚   â”‚         [â–¶ Watch Demo]     [See How It Works]           â”‚   â”‚
â”‚   â”‚                                                          â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Interactive Demo Experience

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   DEMO / PRODUCT TOUR                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  Option A: Interactive Sandbox (Recommended)                     â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚                                                                  â”‚
â”‚  User clicks "See How It Works" â†’                               â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                                                           â”‚   â”‚
â”‚  â”‚   Welcome to FieldSync                                    â”‚   â”‚
â”‚  â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                   â”‚   â”‚
â”‚  â”‚                                                           â”‚   â”‚
â”‚  â”‚   You're viewing a demo project with sample data.         â”‚   â”‚
â”‚  â”‚   Click around freely - nothing you do here is saved.     â”‚   â”‚
â”‚  â”‚                                                           â”‚   â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚   â”‚
â”‚  â”‚   â”‚ Demo: Sunrise Office Tower                       â”‚    â”‚   â”‚
â”‚  â”‚   â”‚ Sample T&M tickets, CORs, and photos            â”‚    â”‚   â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚   â”‚
â”‚  â”‚                                                           â”‚   â”‚
â”‚  â”‚   [Try the Office View]    [Try the Foreman View]        â”‚   â”‚
â”‚  â”‚                                                           â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                  â”‚
â”‚  Benefits:                                                       â”‚
â”‚  â€¢ No signup required                                           â”‚
â”‚  â€¢ Pre-populated with realistic data                            â”‚
â”‚  â€¢ User sees REAL interface, not screenshots                    â”‚
â”‚  â€¢ Guided tooltips highlight key features                       â”‚
â”‚  â€¢ "Ready to start? [Create Your Company]" always visible       â”‚
â”‚                                                                  â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                                                  â”‚
â”‚  Option B: Video Walkthrough                                     â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚                                                                  â”‚
â”‚  2-3 minute video showing:                                       â”‚
â”‚  â€¢ Foreman entering a T&M ticket on phone                       â”‚
â”‚  â€¢ Office reviewing and approving                               â”‚
â”‚  â€¢ Creating a COR with backup documentation                     â”‚
â”‚  â€¢ Exporting reports for clients                                â”‚
â”‚                                                                  â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                                                  â”‚
â”‚  Option C: Guided Tour (Tooltips)                                â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚                                                                  â”‚
â”‚  After signup, first-time users see:                            â”‚
â”‚                                                                  â”‚
â”‚  Step 1/5: "This is your Projects list..."     [Next] [Skip]   â”‚
â”‚  Step 2/5: "Click here to create a T&M..."     [Next] [Skip]   â”‚
â”‚  etc.                                                           â”‚
â”‚                                                                  â”‚
â”‚  Recommendation: Combine A + C                                   â”‚
â”‚  â€¢ Interactive demo BEFORE signup (no commitment)               â”‚
â”‚  â€¢ Guided tour AFTER signup (with their real data)              â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### "Start Free Trial" Flow (New Company)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   NEW COMPANY ONBOARDING                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  STEP 1 of 3                              â— â—‹ â—‹          â”‚   â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚   â”‚
â”‚  â”‚                                                           â”‚   â”‚
â”‚  â”‚  What's your company name?                                â”‚   â”‚
â”‚  â”‚                                                           â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
â”‚  â”‚  â”‚ Acme Construction                                    â”‚ â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
â”‚  â”‚                                                           â”‚   â”‚
â”‚  â”‚                                         [Continue â†’]     â”‚   â”‚
â”‚  â”‚                                                           â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  STEP 2 of 3                              â— â— â—‹          â”‚   â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚   â”‚
â”‚  â”‚                                                           â”‚   â”‚
â”‚  â”‚  Create your admin account                                â”‚   â”‚
â”‚  â”‚                                                           â”‚   â”‚
â”‚  â”‚  Your name                                                â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
â”‚  â”‚  â”‚ John Smith                                           â”‚ â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
â”‚  â”‚                                                           â”‚   â”‚
â”‚  â”‚  Email                                                    â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
â”‚  â”‚  â”‚ john@acmeconstruction.com                            â”‚ â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
â”‚  â”‚                                                           â”‚   â”‚
â”‚  â”‚  Password                                                 â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
â”‚  â”‚  â”‚ â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢                                         â”‚ â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
â”‚  â”‚                                                           â”‚   â”‚
â”‚  â”‚                           [â† Back]    [Create Account â†’] â”‚   â”‚
â”‚  â”‚                                                           â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  STEP 3 of 3 - You're In!                 â— â— â—          â”‚   â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚   â”‚
â”‚  â”‚                                                           â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚  â”‚  â”‚                                                    â”‚   â”‚   â”‚
â”‚  â”‚  â”‚   âœ“  Acme Construction is ready!                  â”‚   â”‚   â”‚
â”‚  â”‚  â”‚                                                    â”‚   â”‚   â”‚
â”‚  â”‚  â”‚   Your 14-day free trial has started.             â”‚   â”‚   â”‚
â”‚  â”‚  â”‚   No credit card required.                        â”‚   â”‚   â”‚
â”‚  â”‚  â”‚                                                    â”‚   â”‚   â”‚
â”‚  â”‚  â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚   â”‚   â”‚
â”‚  â”‚  â”‚                                                    â”‚   â”‚   â”‚
â”‚  â”‚  â”‚   Share these codes with your team:               â”‚   â”‚   â”‚
â”‚  â”‚  â”‚                                                    â”‚   â”‚   â”‚
â”‚  â”‚  â”‚   Company Code:  A1B2C3  (for joining)            â”‚   â”‚   â”‚
â”‚  â”‚  â”‚   Office Code:   X7Y8Z9  (keep secret)            â”‚   â”‚   â”‚
â”‚  â”‚  â”‚                                                    â”‚   â”‚   â”‚
â”‚  â”‚  â”‚   [Copy Codes]                                    â”‚   â”‚   â”‚
â”‚  â”‚  â”‚                                                    â”‚   â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚  â”‚                                                           â”‚   â”‚
â”‚  â”‚  What would you like to do first?                        â”‚   â”‚
â”‚  â”‚                                                           â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚   â”‚
â”‚  â”‚  â”‚ Create First    â”‚  â”‚ Invite Team     â”‚               â”‚   â”‚
â”‚  â”‚  â”‚ Project         â”‚  â”‚ Members         â”‚               â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚   â”‚
â”‚  â”‚                                                           â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚   â”‚
â”‚  â”‚  â”‚ Take a Quick    â”‚  â”‚ Go to           â”‚               â”‚   â”‚
â”‚  â”‚  â”‚ Tour            â”‚  â”‚ Dashboard       â”‚               â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚   â”‚
â”‚  â”‚                                                           â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                  â”‚
â”‚  Total time: ~60 seconds                                         â”‚
â”‚  Total fields: 4 (company name, name, email, password)          â”‚
â”‚  Credit card: Not required                                       â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Cross-Platform Experience

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   WEB â†’ DESKTOP â†’ MOBILE TRANSITION                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  CURRENT: Web App Only                                                       â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚                                                                              â”‚
â”‚  â€¢ Single entry point: app.fieldsync.com                                    â”‚
â”‚  â€¢ Responsive design (works on mobile browsers)                             â”‚
â”‚  â€¢ PWA capability (can "install" to home screen)                            â”‚
â”‚                                                                              â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• â”‚
â”‚                                                                              â”‚
â”‚  FUTURE: Desktop App (Electron or Tauri)                                     â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚                                                                              â”‚
â”‚  Download from: fieldsync.com/download                                       â”‚
â”‚                                                                              â”‚
â”‚  First Launch Experience:                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                                                                       â”‚   â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚   â”‚
â”‚  â”‚   â”‚                                                              â”‚    â”‚   â”‚
â”‚  â”‚   â”‚                      FieldSync                               â”‚    â”‚   â”‚
â”‚  â”‚   â”‚                                                              â”‚    â”‚   â”‚
â”‚  â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚    â”‚   â”‚
â”‚  â”‚   â”‚   â”‚                                                     â”‚    â”‚    â”‚   â”‚
â”‚  â”‚   â”‚   â”‚    [  Sign In  ]                                   â”‚    â”‚    â”‚   â”‚
â”‚  â”‚   â”‚   â”‚    Already have an account                          â”‚    â”‚    â”‚   â”‚
â”‚  â”‚   â”‚   â”‚                                                     â”‚    â”‚    â”‚   â”‚
â”‚  â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚    â”‚   â”‚
â”‚  â”‚   â”‚                                                              â”‚    â”‚   â”‚
â”‚  â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚    â”‚   â”‚
â”‚  â”‚   â”‚   â”‚                                                     â”‚    â”‚    â”‚   â”‚
â”‚  â”‚   â”‚   â”‚    [  Start Free Trial  ]                          â”‚    â”‚    â”‚   â”‚
â”‚  â”‚   â”‚   â”‚    Set up a new company                             â”‚    â”‚    â”‚   â”‚
â”‚  â”‚   â”‚   â”‚                                                     â”‚    â”‚    â”‚   â”‚
â”‚  â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚    â”‚   â”‚
â”‚  â”‚   â”‚                                                              â”‚    â”‚   â”‚
â”‚  â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚    â”‚   â”‚
â”‚  â”‚   â”‚   â”‚                                                     â”‚    â”‚    â”‚   â”‚
â”‚  â”‚   â”‚   â”‚    [  Join My Company  ]                           â”‚    â”‚    â”‚   â”‚
â”‚  â”‚   â”‚   â”‚    I have a company code                            â”‚    â”‚    â”‚   â”‚
â”‚  â”‚   â”‚   â”‚                                                     â”‚    â”‚    â”‚   â”‚
â”‚  â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚    â”‚   â”‚
â”‚  â”‚   â”‚                                                              â”‚    â”‚   â”‚
â”‚  â”‚   â”‚               â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                   â”‚    â”‚   â”‚
â”‚  â”‚   â”‚                                                              â”‚    â”‚   â”‚
â”‚  â”‚   â”‚                    [â–¶ See Demo]                             â”‚    â”‚   â”‚
â”‚  â”‚   â”‚                                                              â”‚    â”‚   â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚   â”‚
â”‚  â”‚                                                                       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                              â”‚
â”‚  After Sign In (returning user):                                             â”‚
â”‚  â€¢ Remember last company                                                    â”‚
â”‚  â€¢ Skip entry screen, go straight to dashboard                              â”‚
â”‚  â€¢ Company switcher in sidebar                                              â”‚
â”‚                                                                              â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• â”‚
â”‚                                                                              â”‚
â”‚  FUTURE: Mobile Apps (iOS / Android)                                         â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚                                                                              â”‚
â”‚  Download from: App Store / Play Store                                       â”‚
â”‚                                                                              â”‚
â”‚  Key Difference: Mobile has TWO distinct user types                         â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚  FOREMAN APP (Simplified)   â”‚    â”‚  OFFICE APP (Full)          â”‚         â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤         â”‚
â”‚  â”‚                             â”‚    â”‚                             â”‚         â”‚
â”‚  â”‚  â€¢ T&M ticket entry         â”‚    â”‚  â€¢ Full dashboard           â”‚         â”‚
â”‚  â”‚  â€¢ Photo capture            â”‚    â”‚  â€¢ Review/approve tickets   â”‚         â”‚
â”‚  â”‚  â€¢ Offline support          â”‚    â”‚  â€¢ Team management          â”‚         â”‚
â”‚  â”‚  â€¢ PIN-based login          â”‚    â”‚  â€¢ Reports                  â”‚         â”‚
â”‚  â”‚                             â”‚    â”‚  â€¢ Billing (admin)          â”‚         â”‚
â”‚  â”‚  First launch:              â”‚    â”‚                             â”‚         â”‚
â”‚  â”‚  "Enter company code"       â”‚    â”‚  First launch:              â”‚         â”‚
â”‚  â”‚                             â”‚    â”‚  Same as desktop app        â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                                                              â”‚
â”‚  Option A: Single app, mode selector at launch                              â”‚
â”‚  Option B: Two separate apps (FieldSync Field, FieldSync Office)            â”‚
â”‚                                                                              â”‚
â”‚  Recommendation: Single app with mode detection                             â”‚
â”‚  â€¢ If user logs in with email â†’ Office mode                                 â”‚
â”‚  â€¢ If user enters company code + PIN â†’ Foreman mode                         â”‚
â”‚  â€¢ Can switch modes in settings                                             â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Where Does "New Company" Live?

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   NEW COMPANY ENTRY POINTS                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  Entry Point 1: Initial App Launch (Primary)                    â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚                                                                  â”‚
â”‚  When user is NOT logged in:                                     â”‚
â”‚  â€¢ "Start Free Trial" is prominently displayed                  â”‚
â”‚  â€¢ Equal visual weight with "Sign In"                           â”‚
â”‚  â€¢ This is where most new companies will come from              â”‚
â”‚                                                                  â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                                                  â”‚
â”‚  Entry Point 2: Company Switcher (Secondary)                     â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚                                                                  â”‚
â”‚  When user IS logged in and belongs to 1+ companies:            â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Switch Company                                           â”‚   â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚   â”‚
â”‚  â”‚                                                           â”‚   â”‚
â”‚  â”‚  âœ“ Acme Construction     (current)                       â”‚   â”‚
â”‚  â”‚    Miller Builders                                        â”‚   â”‚
â”‚  â”‚    GGG Contractors                                        â”‚   â”‚
â”‚  â”‚                                                           â”‚   â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚   â”‚
â”‚  â”‚                                                           â”‚   â”‚
â”‚  â”‚  + Create New Company                                    â”‚   â”‚
â”‚  â”‚  + Join Another Company                                  â”‚   â”‚
â”‚  â”‚                                                           â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                  â”‚
â”‚  This allows existing users to:                                  â”‚
â”‚  â€¢ Start a new company (maybe their own side business)          â”‚
â”‚  â€¢ Join another company (consultant working for multiple)       â”‚
â”‚                                                                  â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                                                  â”‚
â”‚  Entry Point 3: Marketing Website (External)                     â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚                                                                  â”‚
â”‚  fieldsync.com (marketing site) has prominent CTA:              â”‚
â”‚  [Start Free Trial] â†’ opens app with company creation flow     â”‚
â”‚                                                                  â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                                                  â”‚
â”‚  Entry Point 4: Referral / Invite Link (Future)                  â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚                                                                  â”‚
â”‚  fieldsync.com/invite/abc123                                    â”‚
â”‚  â€¢ Pre-fills company to join                                    â”‚
â”‚  â€¢ "John from Acme invited you"                                 â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Guided First-Run Experience

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   FIRST-RUN GUIDED SETUP                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  After company creation, new admin sees:                         â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                                                           â”‚   â”‚
â”‚  â”‚   ğŸ‰ Welcome to FieldSync, John!                         â”‚   â”‚
â”‚  â”‚                                                           â”‚   â”‚
â”‚  â”‚   Let's get Acme Construction set up.                    â”‚   â”‚
â”‚  â”‚   This takes about 5 minutes.                            â”‚   â”‚
â”‚  â”‚                                                           â”‚   â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚   â”‚
â”‚  â”‚   â”‚  âœ“  Company created                             â”‚    â”‚   â”‚
â”‚  â”‚   â”‚  â—‹  Create your first project                   â”‚    â”‚   â”‚
â”‚  â”‚   â”‚  â—‹  Add team members (optional)                 â”‚    â”‚   â”‚
â”‚  â”‚   â”‚  â—‹  Customize materials list (optional)         â”‚    â”‚   â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚   â”‚
â”‚  â”‚                                                           â”‚   â”‚
â”‚  â”‚   [Let's Go]                    [Skip Setup]             â”‚   â”‚
â”‚  â”‚                                                           â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                  â”‚
â”‚  Step: Create First Project                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                                                           â”‚   â”‚
â”‚  â”‚   Create Your First Project                               â”‚   â”‚
â”‚  â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                          â”‚   â”‚
â”‚  â”‚                                                           â”‚   â”‚
â”‚  â”‚   Project Name                                            â”‚   â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚   â”‚
â”‚  â”‚   â”‚ Sunrise Office Tower                             â”‚    â”‚   â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚   â”‚
â”‚  â”‚                                                           â”‚   â”‚
â”‚  â”‚   Contract Value (optional)                               â”‚   â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚   â”‚
â”‚  â”‚   â”‚ $                                                â”‚    â”‚   â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚   â”‚
â”‚  â”‚                                                           â”‚   â”‚
â”‚  â”‚   A 4-digit PIN will be generated for field workers      â”‚   â”‚
â”‚  â”‚   to access this project.                                â”‚   â”‚
â”‚  â”‚                                                           â”‚   â”‚
â”‚  â”‚                              [Create Project]            â”‚   â”‚
â”‚  â”‚                                                           â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                  â”‚
â”‚  Step: Add Team (Optional)                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                                                           â”‚   â”‚
â”‚  â”‚   Invite Your Team                                        â”‚   â”‚
â”‚  â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                      â”‚   â”‚
â”‚  â”‚                                                           â”‚   â”‚
â”‚  â”‚   Share these codes with your team:                      â”‚   â”‚
â”‚  â”‚                                                           â”‚   â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚   â”‚
â”‚  â”‚   â”‚  Company Code: A1B2C3                            â”‚    â”‚   â”‚
â”‚  â”‚   â”‚  Office Code: X7Y8Z9 (keep private)              â”‚    â”‚   â”‚
â”‚  â”‚   â”‚                                                   â”‚    â”‚   â”‚
â”‚  â”‚   â”‚  [Copy]  [Share via Email]  [Print]              â”‚    â”‚   â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚   â”‚
â”‚  â”‚                                                           â”‚   â”‚
â”‚  â”‚   Or invite specific people:                             â”‚   â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚   â”‚
â”‚  â”‚   â”‚ mike@acme.com, sarah@acme.com                    â”‚    â”‚   â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚   â”‚
â”‚  â”‚   [Send Invites]                                         â”‚   â”‚
â”‚  â”‚                                                           â”‚   â”‚
â”‚  â”‚                    [Skip for Now]    [Continue]          â”‚   â”‚
â”‚  â”‚                                                           â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                  â”‚
â”‚  Completion:                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                                                           â”‚   â”‚
â”‚  â”‚   âœ“ You're All Set!                                      â”‚   â”‚
â”‚  â”‚                                                           â”‚   â”‚
â”‚  â”‚   Acme Construction is ready to use.                     â”‚   â”‚
â”‚  â”‚                                                           â”‚   â”‚
â”‚  â”‚   Quick tips:                                             â”‚   â”‚
â”‚  â”‚   â€¢ Share the Project PIN with your foreman              â”‚   â”‚
â”‚  â”‚   â€¢ T&M tickets will appear here for review              â”‚   â”‚
â”‚  â”‚   â€¢ Create CORs to bundle tickets for billing            â”‚   â”‚
â”‚  â”‚                                                           â”‚   â”‚
â”‚  â”‚   [Go to Dashboard]           [Watch Tutorial]           â”‚   â”‚
â”‚  â”‚                                                           â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Contextual Help & Documentation

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   IN-APP HELP SYSTEM                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  Help Access Points:                                             â”‚
â”‚                                                                  â”‚
â”‚  1. Persistent Help Button (bottom-right)                       â”‚
â”‚     â”Œâ”€â”€â”€â”                                                       â”‚
â”‚     â”‚ ? â”‚  â†’ Opens help panel                                   â”‚
â”‚     â””â”€â”€â”€â”˜                                                       â”‚
â”‚                                                                  â”‚
â”‚  2. Contextual Tooltips (on hover/tap)                          â”‚
â”‚     [Create COR] â“˜  â†’ "Bundle T&M tickets for client billing"  â”‚
â”‚                                                                  â”‚
â”‚  3. Empty State Guidance                                         â”‚
â”‚     When no tickets exist:                                       â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚     â”‚  No T&M tickets yet                                   â”‚    â”‚
â”‚     â”‚                                                        â”‚    â”‚
â”‚     â”‚  T&M tickets are created by field workers using      â”‚    â”‚
â”‚     â”‚  the project PIN. Share the PIN to get started.      â”‚    â”‚
â”‚     â”‚                                                        â”‚    â”‚
â”‚     â”‚  [View Project PIN]    [Learn More]                  â”‚    â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                  â”‚
â”‚  4. Help Panel Content                                           â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚     â”‚  Help                                          [X]    â”‚    â”‚
â”‚     â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚    â”‚
â”‚     â”‚                                                        â”‚    â”‚
â”‚     â”‚  ğŸ“š Getting Started Guide                             â”‚    â”‚
â”‚     â”‚  ğŸ“– How T&M Tickets Work                              â”‚    â”‚
â”‚     â”‚  ğŸ“– Creating Change Orders (CORs)                     â”‚    â”‚
â”‚     â”‚  ğŸ“– Managing Your Team                                â”‚    â”‚
â”‚     â”‚  ğŸ“– Billing & Subscription                            â”‚    â”‚
â”‚     â”‚                                                        â”‚    â”‚
â”‚     â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚    â”‚
â”‚     â”‚                                                        â”‚    â”‚
â”‚     â”‚  ğŸ¬ Video Tutorials                                   â”‚    â”‚
â”‚     â”‚  ğŸ’¬ Contact Support                                   â”‚    â”‚
â”‚     â”‚                                                        â”‚    â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                  â”‚
â”‚  5. Keyboard Shortcut (Desktop)                                  â”‚
â”‚     Press ? to open help                                        â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Summary: Entry Screen Across Platforms

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   UNIFIED ENTRY EXPERIENCE                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  The entry screen should be CONSISTENT across all platforms:    â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                                                            â”‚  â”‚
â”‚  â”‚                       FieldSync                            â”‚  â”‚
â”‚  â”‚              Construction Documentation                    â”‚  â”‚
â”‚  â”‚                     Made Simple                            â”‚  â”‚
â”‚  â”‚                                                            â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚  â”‚
â”‚  â”‚  â”‚  ğŸ‘·  I'm a Field Worker                            â”‚   â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  â”‚
â”‚  â”‚                                                            â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚  â”‚
â”‚  â”‚  â”‚  ğŸ¢  I'm Office Staff                              â”‚   â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  â”‚
â”‚  â”‚                                                            â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚  â”‚
â”‚  â”‚  â”‚  ğŸš€  Start Free Trial                              â”‚   â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  â”‚
â”‚  â”‚                                                            â”‚  â”‚
â”‚  â”‚           [â–¶ Demo]              [How It Works]            â”‚  â”‚
â”‚  â”‚                                                            â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                  â”‚
â”‚  Platform Variations:                                            â”‚
â”‚                                                                  â”‚
â”‚  Web:     Exactly as above                                      â”‚
â”‚  Desktop: Same, but app remembers last login                    â”‚
â”‚  Mobile:  Same, but touch-optimized (larger buttons)            â”‚
â”‚                                                                  â”‚
â”‚  Key Principles:                                                 â”‚
â”‚  âœ“ Same visual language everywhere                              â”‚
â”‚  âœ“ Demo available on all platforms                              â”‚
â”‚  âœ“ "Start Free Trial" always visible for new companies         â”‚
â”‚  âœ“ Returning users can sign in and skip                        â”‚
â”‚  âœ“ Field workers have their own simplified path                â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 1. Current State Analysis

### What Exists

| Component | Status | Quality |
|-----------|--------|---------|
| Multi-tenant isolation (RLS) | Complete | Strong |
| Membership states (pending/active/removed) | Complete | Strong |
| Admin approval workflow | Complete | Strong |
| Office code verification | Complete | Strong |
| Multi-company user support | Complete | Adequate |
| Company creation flow | Missing | - |
| Subscription management | Stub only | Weak |
| Self-service onboarding | Missing | - |

### Current User Paths

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     CURRENT: AppEntry.jsx                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚   â”‚ Foreman  â”‚    â”‚  Office  â”‚    â”‚  Join Company    â”‚          â”‚
â”‚   â”‚  (PIN)   â”‚    â”‚ (Login)  â”‚    â”‚ (Code + Signup)  â”‚          â”‚
â”‚   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚        â”‚               â”‚                    â”‚                    â”‚
â”‚        â–¼               â–¼                    â–¼                    â”‚
â”‚   Project View    Dashboard           Pending State              â”‚
â”‚                                       (await approval)           â”‚
â”‚                                                                  â”‚
â”‚   âš ï¸  NO PATH FOR: "Create New Company"                         â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Key Gap

There is no self-service path for company founders to:
1. Create a new company
2. Select a subscription tier
3. Bootstrap themselves as administrator
4. Begin using the platform

---

## 2. Entry Point Architecture

### Decision: Hybrid Approach (Recommended)

After evaluating dedicated vs embedded onboarding, I recommend a **hybrid approach** that uses a unified entry point with progressive branching.

#### Option Analysis

| Approach | Pros | Cons |
|----------|------|------|
| **Dedicated onboarding site** | Clean separation, can be marketing-focused | Fragmented experience, requires redirect, duplicate auth |
| **Embedded in main app** | Single codebase, consistent UX | More complex routing, harder to A/B test |
| **Hybrid (unified entry)** | Best of both: single entry, progressive branching | Slightly more initial routing logic |

#### Recommended Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    PROPOSED: Unified Entry                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                         â”‚
â”‚                    â”‚   AppEntry.jsx    â”‚                         â”‚
â”‚                    â”‚   (Enhanced)      â”‚                         â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                         â”‚
â”‚                              â”‚                                   â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚         â”‚                    â”‚                    â”‚              â”‚
â”‚         â–¼                    â–¼                    â–¼              â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚   â”‚ Foreman  â”‚        â”‚  Office  â”‚        â”‚ Get Started  â”‚      â”‚
â”‚   â”‚  Access  â”‚        â”‚  Login   â”‚        â”‚              â”‚      â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                  â”‚               â”‚
â”‚                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚                              â”‚                   â”‚           â”‚   â”‚
â”‚                              â–¼                   â–¼           â–¼   â”‚
â”‚                       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â” â”‚
â”‚                       â”‚  Create   â”‚      â”‚    Join    â”‚  â”‚Demo â”‚ â”‚
â”‚                       â”‚  Company  â”‚      â”‚  Company   â”‚  â”‚Tour â”‚ â”‚
â”‚                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Entry Point Decision Tree

```javascript
// Route determination logic
function determineUserPath(user, memberships) {
  if (!user) {
    return 'ENTRY_SCREEN' // Show Foreman | Office | Get Started
  }

  const active = memberships.filter(m => m.status === 'active')
  const pending = memberships.filter(m => m.status === 'pending')

  if (active.length > 0) {
    return 'DASHBOARD' // Has active companies â†’ main app
  }

  if (pending.length > 0) {
    return 'PENDING_SCREEN' // Awaiting approval
  }

  // Authenticated but no memberships
  return 'COMPANY_SELECTOR' // Create or Join
}
```

#### Mobile + Desktop Considerations

| Factor | Mobile | Desktop |
|--------|--------|---------|
| Touch targets | 48px minimum | 36px acceptable |
| Form length | Minimize steps, use modals | Can show more fields |
| Company creation | Wizard with progress | Single-page form viable |
| Typing burden | Minimize, use presets | Full forms acceptable |

**Recommendation:** Single responsive flow, not separate mobile/desktop paths.

---

## 3. Company Creation Flow

### Flow Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  COMPANY CREATION WORKFLOW                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  STEP 1: Identity                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ â€¢ Name                                                    â”‚   â”‚
â”‚  â”‚ â€¢ Email                                                   â”‚   â”‚
â”‚  â”‚ â€¢ Password                                                â”‚   â”‚
â”‚  â”‚                                                           â”‚   â”‚
â”‚  â”‚ [Continue] â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â–ºâ”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                  â”‚
â”‚  STEP 2: Company Details                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ â€¢ Company Name                                            â”‚   â”‚
â”‚  â”‚ â€¢ Industry (optional, for templates)                      â”‚   â”‚
â”‚  â”‚                                                           â”‚   â”‚
â”‚  â”‚ [Create Company] â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â–ºâ”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚       â”‚                                                          â”‚
â”‚       â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚       â””â–ºâ”‚ ATOMIC TRANSACTION:                        â”‚          â”‚
â”‚         â”‚ 1. Create auth user (if new)               â”‚          â”‚
â”‚         â”‚ 2. Create company (status: 'provisioning') â”‚          â”‚
â”‚         â”‚ 3. Create users record                     â”‚          â”‚
â”‚         â”‚ 4. Create subscription (tier: 'trial')     â”‚          â”‚
â”‚         â”‚ 5. Create membership (admin, active)       â”‚          â”‚
â”‚         â”‚ 6. Generate company_code + office_code     â”‚          â”‚
â”‚         â”‚ 7. Update company (status: 'active')       â”‚          â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                                  â”‚
â”‚  STEP 3: Plan Selection (Deferred)                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ "You're on the Free Trial - 14 days"                      â”‚   â”‚
â”‚  â”‚                                                           â”‚   â”‚
â”‚  â”‚ [View Plans] (optional)    [Start Using FieldSync]        â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                  â”‚
â”‚  STEP 4: First Project (Optional Quick-Start)                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ "Create your first project?"                              â”‚   â”‚
â”‚  â”‚                                                           â”‚   â”‚
â”‚  â”‚ [Create Project]         [Skip for Now]                   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Company Lifecycle States

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   COMPANY LIFECYCLE STATES                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                               â”‚
â”‚   â”‚ provisioning â”‚ â—„â”€â”€ Company created, setup in progress        â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                                               â”‚
â”‚          â”‚                                                       â”‚
â”‚          â”‚ (all setup steps complete)                            â”‚
â”‚          â–¼                                                       â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                               â”‚
â”‚   â”‚    active    â”‚ â—„â”€â”€ Normal operational state                  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                                               â”‚
â”‚          â”‚                                                       â”‚
â”‚          â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                 â”‚
â”‚          â”‚                     â”‚                                 â”‚
â”‚          â”‚ (billing failed)    â”‚ (admin archived)                â”‚
â”‚          â–¼                     â–¼                                 â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚
â”‚   â”‚  suspended   â”‚      â”‚   archived   â”‚                        â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚
â”‚          â”‚                     â–²                                 â”‚
â”‚          â”‚ (payment resolved)  â”‚ (90 days suspended)             â”‚
â”‚          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                 â”‚
â”‚                                                                  â”‚
â”‚   State Behaviors:                                               â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚   â”‚ State          â”‚ Read    â”‚ Write    â”‚ Billing   â”‚           â”‚
â”‚   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤           â”‚
â”‚   â”‚ provisioning   â”‚ Yes     â”‚ Yes      â”‚ Deferred  â”‚           â”‚
â”‚   â”‚ active         â”‚ Yes     â”‚ Yes      â”‚ Active    â”‚           â”‚
â”‚   â”‚ suspended      â”‚ Yes     â”‚ No       â”‚ Past Due  â”‚           â”‚
â”‚   â”‚ archived       â”‚ Export  â”‚ No       â”‚ Inactive  â”‚           â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Company Record Ownership

```javascript
// Company ownership rules
const COMPANY_OWNERSHIP = {
  // Who creates it
  creator: 'The authenticated user who initiated company creation',

  // When it's created
  timing: 'Immediately upon Step 2 completion (atomic transaction)',

  // Initial state
  initialState: 'provisioning',

  // Becomes active when
  activationCriteria: [
    'Creator email verified (or OAuth provider)',
    'Company name provided',
    'Subscription record attached',
    'Admin membership created'
  ],

  // If abandoned mid-flow
  abandonmentHandling: {
    detection: 'company.status = "provisioning" AND created_at < NOW() - 24h',
    action: 'Cleanup job deletes incomplete companies + orphaned records',
    userRecovery: 'User can restart, new company created'
  }
}
```

### Atomic Company Creation Transaction

```javascript
// Pseudocode for company creation - MUST be atomic
async function createCompany(founderEmail, founderName, companyName, password) {
  const supabase = getServiceRoleClient() // Bypass RLS for creation

  return await supabase.rpc('create_company_atomic', {
    p_founder_email: founderEmail,
    p_founder_name: founderName,
    p_founder_password: password,
    p_company_name: companyName
  })
}

// PostgreSQL function (simplified)
/*
CREATE OR REPLACE FUNCTION create_company_atomic(
  p_founder_email TEXT,
  p_founder_name TEXT,
  p_founder_password TEXT,
  p_company_name TEXT
) RETURNS JSON AS $$
DECLARE
  v_auth_user_id UUID;
  v_company_id UUID;
  v_user_id UUID;
BEGIN
  -- 1. Create auth user (or get existing)
  INSERT INTO auth.users (email, password_hash, ...)
  VALUES (p_founder_email, crypt(p_founder_password, gen_salt('bf')), ...)
  ON CONFLICT (email) DO UPDATE SET updated_at = NOW()
  RETURNING id INTO v_auth_user_id;

  -- 2. Create company in provisioning state
  INSERT INTO companies (name, status, code, office_code)
  VALUES (
    p_company_name,
    'provisioning',
    generate_company_code(),
    generate_office_code()
  )
  RETURNING id INTO v_company_id;

  -- 3. Create users record
  INSERT INTO users (id, email, name, company_id)
  VALUES (v_auth_user_id, p_founder_email, p_founder_name, v_company_id)
  RETURNING id INTO v_user_id;

  -- 4. Create subscription (14-day trial)
  INSERT INTO subscriptions (company_id, tier, status, trial_ends_at)
  VALUES (v_company_id, 'trial', 'active', NOW() + INTERVAL '14 days');

  -- 5. Create admin membership
  INSERT INTO user_companies (user_id, company_id, status, access_level)
  VALUES (v_user_id, v_company_id, 'active', 'administrator');

  -- 6. Activate company
  UPDATE companies SET status = 'active' WHERE id = v_company_id;

  RETURN json_build_object(
    'company_id', v_company_id,
    'company_code', (SELECT code FROM companies WHERE id = v_company_id),
    'user_id', v_user_id
  );
END;
$$ LANGUAGE plpgsql SECURITY DEFINER;
*/
```

---

## 4. Subscription & Tier Model

### Design Principles

1. **Decoupled from Core Data:** Subscription state stored separately from company data
2. **Progressive Commitment:** Allow exploration before payment
3. **Graceful Degradation:** Features disable, data remains accessible
4. **Future-Proof:** Support add-ons, enterprise features, custom pricing

### Subscription Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   SUBSCRIPTION DATA MODEL                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  companies (1) â—„â”€â”€â”€â”€â”€â”€â”€â”€â–º (1) subscriptions                     â”‚
â”‚      â”‚                          â”‚                                â”‚
â”‚      â”‚                          â”œâ”€â”€ tier: trial|free|pro|...    â”‚
â”‚      â”‚                          â”œâ”€â”€ status: active|past_due|... â”‚
â”‚      â”‚                          â”œâ”€â”€ trial_ends_at               â”‚
â”‚      â”‚                          â”œâ”€â”€ current_period_start        â”‚
â”‚      â”‚                          â”œâ”€â”€ current_period_end          â”‚
â”‚      â”‚                          â””â”€â”€ stripe_customer_id (future) â”‚
â”‚      â”‚                                                          â”‚
â”‚      â”‚                                                          â”‚
â”‚  subscription_tiers (reference table)                           â”‚
â”‚      â”‚                                                          â”‚
â”‚      â”œâ”€â”€ name: 'free'                                           â”‚
â”‚      â”‚   â”œâ”€â”€ max_projects: 2                                    â”‚
â”‚      â”‚   â”œâ”€â”€ max_users: 5                                       â”‚
â”‚      â”‚   â”œâ”€â”€ max_storage_mb: 500                                â”‚
â”‚      â”‚   â””â”€â”€ features: ['basic_tm', 'basic_cor']                â”‚
â”‚      â”‚                                                          â”‚
â”‚      â”œâ”€â”€ name: 'pro'                                            â”‚
â”‚      â”‚   â”œâ”€â”€ max_projects: 10                                   â”‚
â”‚      â”‚   â”œâ”€â”€ max_users: 25                                      â”‚
â”‚      â”‚   â”œâ”€â”€ max_storage_mb: 5000                               â”‚
â”‚      â”‚   â””â”€â”€ features: ['all_tm', 'all_cor', 'reports']         â”‚
â”‚      â”‚                                                          â”‚
â”‚      â””â”€â”€ name: 'enterprise'                                     â”‚
â”‚          â”œâ”€â”€ max_projects: null (unlimited)                     â”‚
â”‚          â”œâ”€â”€ max_users: null                                    â”‚
â”‚          â”œâ”€â”€ max_storage_mb: null                               â”‚
â”‚          â””â”€â”€ features: ['*', 'sso', 'api_access']               â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Billing Enforcement Strategy

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              BILLING ENFORCEMENT TIMELINE                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  TRIAL PERIOD (14 days)                                          â”‚
â”‚  â”œâ”€â”€ Full access to all Pro features                            â”‚
â”‚  â”œâ”€â”€ No payment required                                        â”‚
â”‚  â”œâ”€â”€ Reminder at day 7, day 12, day 14                          â”‚
â”‚  â””â”€â”€ Converts to Free tier if no payment                        â”‚
â”‚                                                                  â”‚
â”‚  ACTIVE SUBSCRIPTION                                             â”‚
â”‚  â”œâ”€â”€ Features enabled per tier                                  â”‚
â”‚  â”œâ”€â”€ Usage tracked but not hard-blocked                         â”‚
â”‚  â””â”€â”€ Overage warnings (soft limits)                             â”‚
â”‚                                                                  â”‚
â”‚  PAYMENT FAILURE                                                 â”‚
â”‚  â”œâ”€â”€ Day 0: Payment fails â†’ status: 'past_due'                  â”‚
â”‚  â”œâ”€â”€ Day 0-7: Full access, warning banners                      â”‚
â”‚  â”œâ”€â”€ Day 7-14: Read-only mode, no new data                      â”‚
â”‚  â”œâ”€â”€ Day 14-30: Access blocked, data preserved                  â”‚
â”‚  â””â”€â”€ Day 30+: Company suspended, export only                    â”‚
â”‚                                                                  â”‚
â”‚  VOLUNTARY DOWNGRADE                                             â”‚
â”‚  â”œâ”€â”€ Takes effect at period end                                 â”‚
â”‚  â”œâ”€â”€ Excess data preserved but read-only                        â”‚
â”‚  â””â”€â”€ Must reduce to limits before adding more                   â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Feature Gating Implementation

```javascript
// Feature access check (runs in app, backed by RLS)
function canAccess(feature, company) {
  const subscription = company.subscription
  const tier = subscription.tier
  const limits = TIER_LIMITS[tier]

  // Check feature availability
  if (!limits.features.includes(feature) && !limits.features.includes('*')) {
    return { allowed: false, reason: 'upgrade_required', tier: tier }
  }

  // Check usage limits
  if (feature === 'create_project') {
    const currentProjects = company.active_project_count
    if (limits.max_projects && currentProjects >= limits.max_projects) {
      return { allowed: false, reason: 'limit_reached', limit: limits.max_projects }
    }
  }

  // Check subscription status
  if (subscription.status === 'past_due') {
    if (['create_project', 'create_ticket', 'upload_photo'].includes(feature)) {
      return { allowed: false, reason: 'payment_required' }
    }
  }

  return { allowed: true }
}
```

### Subscription State Machine

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                SUBSCRIPTION STATE MACHINE                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                         â”‚
â”‚              â”‚  trial  â”‚                                         â”‚
â”‚              â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜                                         â”‚
â”‚                   â”‚                                              â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                â”‚
â”‚     â”‚ (paid)      â”‚ (expired)   â”‚                                â”‚
â”‚     â–¼             â–¼             â”‚                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”          â”‚                                â”‚
â”‚  â”‚activeâ”‚â—„â”€â”€â”€â”‚ free  â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                â”‚
â”‚  â””â”€â”€â”¬â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”˜                                           â”‚
â”‚     â”‚             â–²                                              â”‚
â”‚     â”‚             â”‚ (downgrade)                                  â”‚
â”‚     â”‚             â”‚                                              â”‚
â”‚     â”‚ (payment    â”‚                                              â”‚
â”‚     â”‚  failed)    â”‚                                              â”‚
â”‚     â–¼             â”‚                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚                                              â”‚
â”‚  â”‚past_due â”‚â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€ (payment resolved) â”€â”€â”€â–º active            â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜                                                     â”‚
â”‚       â”‚                                                          â”‚
â”‚       â”‚ (30 days)                                                â”‚
â”‚       â–¼                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                   â”‚
â”‚  â”‚ suspended â”‚ â”€â”€â”€â”€â”€ (payment + reactivation) â”€â”€â”€â–º active        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜                                                   â”‚
â”‚        â”‚                                                         â”‚
â”‚        â”‚ (90 days)                                               â”‚
â”‚        â–¼                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                   â”‚
â”‚  â”‚ cancelled â”‚ â—„â”€â”€ Data retained 1 year, then purged            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                   â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 5. Admin & Access Bootstrapping

### First Admin Assignment Rules

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 ADMIN BOOTSTRAP RULES                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  RULE 1: Company Creator is Automatic Administrator             â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚  â€¢ The user who creates a company is immediately granted        â”‚
â”‚    'administrator' access_level                                  â”‚
â”‚  â€¢ This is ATOMIC - part of company creation transaction        â”‚
â”‚  â€¢ No approval required (self-approved)                         â”‚
â”‚                                                                  â”‚
â”‚  RULE 2: No Admin-less Companies                                 â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚  â€¢ RLS prevents last admin from demoting themselves             â”‚
â”‚  â€¢ RLS prevents last admin from being removed                   â”‚
â”‚  â€¢ Trigger enforces: COUNT(administrators) >= 1 always          â”‚
â”‚                                                                  â”‚
â”‚  RULE 3: Admin Privileges                                        â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚  Administrators can:                                             â”‚
â”‚  âœ“ Approve/reject membership requests                           â”‚
â”‚  âœ“ Remove members (except themselves)                           â”‚
â”‚  âœ“ Grant/revoke administrator access                            â”‚
â”‚  âœ“ View subscription & billing                                  â”‚
â”‚  âœ“ Update company settings                                      â”‚
â”‚  âœ“ Manage projects (create, archive, delete)                    â”‚
â”‚  âœ“ View all company data                                        â”‚
â”‚                                                                  â”‚
â”‚  RULE 4: Privilege Escalation Prevention                        â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚  â€¢ Only administrators can grant administrator access           â”‚
â”‚  â€¢ Members cannot self-promote                                  â”‚
â”‚  â€¢ Database enforces via RLS policy:                            â”‚
â”‚                                                                  â”‚
â”‚    CREATE POLICY admin_grant_policy ON user_companies           â”‚
â”‚    FOR UPDATE USING (                                           â”‚
â”‚      -- Updater must be admin of same company                   â”‚
â”‚      EXISTS (                                                   â”‚
â”‚        SELECT 1 FROM user_companies uc                          â”‚
â”‚        WHERE uc.user_id = auth.uid()                            â”‚
â”‚        AND uc.company_id = user_companies.company_id            â”‚
â”‚        AND uc.access_level = 'administrator'                    â”‚
â”‚        AND uc.status = 'active'                                 â”‚
â”‚      )                                                          â”‚
â”‚    );                                                           â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Admin Management Capabilities

```javascript
// Admin capabilities matrix
const ADMIN_CAPABILITIES = {
  users: {
    approve_pending: true,
    reject_pending: true,
    remove_member: true,     // except self
    grant_admin: true,
    revoke_admin: true,      // except self if last admin
    change_role: true
  },

  subscription: {
    view_plan: true,
    upgrade: true,
    downgrade: true,
    update_payment: true,
    view_invoices: true
  },

  company: {
    update_name: true,
    regenerate_codes: true,
    view_codes: true,
    archive_company: true    // requires confirmation
  },

  projects: {
    create: true,
    archive: true,
    delete: true,           // soft delete only
    transfer_ownership: true
  }
}

// Member capabilities (non-admin)
const MEMBER_CAPABILITIES = {
  users: {
    view_team: true
  },

  subscription: {
    view_plan: true         // but not billing details
  },

  company: {},              // no company management

  projects: {
    create: true,           // if tier allows
    view_assigned: true,
    edit_assigned: true
  }
}
```

### Orphan Prevention

```sql
-- Trigger to prevent orphaned companies (no admins)
CREATE OR REPLACE FUNCTION prevent_orphan_company()
RETURNS TRIGGER AS $$
DECLARE
  v_admin_count INT;
BEGIN
  -- Only check on updates that change admin status or removals
  IF (TG_OP = 'UPDATE' AND
      (OLD.access_level = 'administrator' AND NEW.access_level != 'administrator')
      OR (OLD.status = 'active' AND NEW.status = 'removed')) THEN

    SELECT COUNT(*) INTO v_admin_count
    FROM user_companies
    WHERE company_id = NEW.company_id
      AND status = 'active'
      AND access_level = 'administrator'
      AND id != NEW.id;  -- Exclude the record being modified

    IF v_admin_count < 1 THEN
      RAISE EXCEPTION 'Cannot remove last administrator from company';
    END IF;
  END IF;

  RETURN NEW;
END;
$$ LANGUAGE plpgsql;

CREATE TRIGGER enforce_admin_presence
BEFORE UPDATE ON user_companies
FOR EACH ROW EXECUTE FUNCTION prevent_orphan_company();
```

---

## 6. Joining Existing Companies

### Join Flow Overview

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   JOIN COMPANY FLOW                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  METHOD 1: Company Code + Office Code (Current)                  â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                                                  â”‚
â”‚   User                    System                    Admin        â”‚
â”‚   â”€â”€â”€â”€                    â”€â”€â”€â”€â”€â”€                    â”€â”€â”€â”€â”€        â”‚
â”‚     â”‚                                                            â”‚
â”‚     â”‚â”€â”€â–º Enter company code                                      â”‚
â”‚     â”‚    (public, 6 chars)                                       â”‚
â”‚     â”‚                         â”‚                                  â”‚
â”‚     â”‚â”€â”€â–º Enter office code    â”‚                                  â”‚
â”‚     â”‚    (secret, 6 chars)    â”‚                                  â”‚
â”‚     â”‚                         â”‚                                  â”‚
â”‚     â”‚                    â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”                             â”‚
â”‚     â”‚                    â”‚ verify  â”‚                             â”‚
â”‚     â”‚                    â”‚ RPC     â”‚                             â”‚
â”‚     â”‚                    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜                             â”‚
â”‚     â”‚                         â”‚                                  â”‚
â”‚     â”‚â—„â”€â”€ "Verified, create account" â”€â”€â”˜                         â”‚
â”‚     â”‚                                                            â”‚
â”‚     â”‚â”€â”€â–º Create account                                          â”‚
â”‚     â”‚    (name, email, password)                                 â”‚
â”‚     â”‚                         â”‚                                  â”‚
â”‚     â”‚                    â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”                             â”‚
â”‚     â”‚                    â”‚ create  â”‚                             â”‚
â”‚     â”‚                    â”‚ pending â”‚                             â”‚
â”‚     â”‚                    â”‚ member  â”‚                             â”‚
â”‚     â”‚                    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜                             â”‚
â”‚     â”‚                         â”‚                                  â”‚
â”‚     â”‚â—„â”€â”€ "Awaiting approval" â”€â”˜                                  â”‚
â”‚     â”‚                                                            â”‚
â”‚     â”‚                                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚     â”‚                                        â”‚ Notification  â”‚   â”‚
â”‚     â”‚                                        â”‚ to admin      â”‚   â”‚
â”‚     â”‚                                        â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚     â”‚                                                â”‚           â”‚
â”‚     â”‚                                                â–¼           â”‚
â”‚     â”‚                                        Admin reviews       â”‚
â”‚     â”‚                                        pending request     â”‚
â”‚     â”‚                                                â”‚           â”‚
â”‚     â”‚                                                â–¼           â”‚
â”‚     â”‚                                        Approves with       â”‚
â”‚     â”‚                                        role + level        â”‚
â”‚     â”‚                                                â”‚           â”‚
â”‚     â”‚â—„â”€â”€ Email: "You've been approved" â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚     â”‚                                                            â”‚
â”‚     â”‚â”€â”€â–º Login â”€â”€â–º Dashboard                                     â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Method 2: Admin Invite (Recommended Addition)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   ADMIN INVITE FLOW                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚   Admin                   System                    User         â”‚
â”‚   â”€â”€â”€â”€â”€                   â”€â”€â”€â”€â”€â”€                    â”€â”€â”€â”€         â”‚
â”‚     â”‚                                                            â”‚
â”‚     â”‚â”€â”€â–º "Invite Team Member"                                    â”‚
â”‚     â”‚    Enter: email, role, access level                        â”‚
â”‚     â”‚                         â”‚                                  â”‚
â”‚     â”‚                    â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”                             â”‚
â”‚     â”‚                    â”‚ create  â”‚                             â”‚
â”‚     â”‚                    â”‚ invite  â”‚                             â”‚
â”‚     â”‚                    â”‚ token   â”‚                             â”‚
â”‚     â”‚                    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜                             â”‚
â”‚     â”‚                         â”‚                                  â”‚
â”‚     â”‚â—„â”€â”€ "Invite sent" â”€â”€â”€â”€â”€â”€â”€â”˜                                  â”‚
â”‚     â”‚                                                            â”‚
â”‚     â”‚                         â”‚â”€â”€â–º Email with invite link        â”‚
â”‚     â”‚                         â”‚                                  â”‚
â”‚     â”‚                                                â–¼           â”‚
â”‚     â”‚                                        User clicks link    â”‚
â”‚     â”‚                                                â”‚           â”‚
â”‚     â”‚                                                â–¼           â”‚
â”‚     â”‚                                        Creates account     â”‚
â”‚     â”‚                                        (name, password)    â”‚
â”‚     â”‚                                                â”‚           â”‚
â”‚     â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚     â”‚                    â”‚                                       â”‚
â”‚     â”‚                    â–¼                                       â”‚
â”‚     â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                               â”‚
â”‚     â”‚              â”‚ Auto-approveâ”‚                               â”‚
â”‚     â”‚              â”‚ with preset â”‚                               â”‚
â”‚     â”‚              â”‚ role/level  â”‚                               â”‚
â”‚     â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                               â”‚
â”‚     â”‚                    â”‚                                       â”‚
â”‚     â”‚â—„â”€â”€ Notified â”€â”€â”€â”€â”€â”€â”€â”˜â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º Dashboard      â”‚
â”‚                                                                  â”‚
â”‚   Benefits:                                                      â”‚
â”‚   â€¢ No pending state for invited users                          â”‚
â”‚   â€¢ Admin pre-approves role/level                               â”‚
â”‚   â€¢ More controlled onboarding                                  â”‚
â”‚   â€¢ Works for new + existing users                              â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Pending Membership Management

```javascript
// Pending membership states and transitions
const MEMBERSHIP_STATES = {
  // User requests to join
  pending: {
    userCan: ['view_status', 'cancel_request'],
    adminCan: ['approve', 'reject'],
    dataAccess: 'none',
    expiresAfter: '30 days'  // Auto-reject stale requests
  },

  // Invited by admin (new state)
  invited: {
    userCan: ['accept', 'decline'],
    adminCan: ['revoke_invite'],
    dataAccess: 'none',
    expiresAfter: '7 days'
  },

  // Approved and active
  active: {
    userCan: ['leave_company'],
    adminCan: ['change_role', 'change_level', 'remove'],
    dataAccess: 'full'
  },

  // Removed by admin
  removed: {
    userCan: ['request_rejoin'],  // Creates new pending
    adminCan: ['reinstate'],
    dataAccess: 'none',
    auditRetention: 'indefinite'
  }
}
```

### Security Considerations

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 JOIN SECURITY MEASURES                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  OFFICE CODE PROTECTION                                          â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚  â€¢ Never returned to client (verified via RPC only)             â”‚
â”‚  â€¢ Rate-limited: 5 attempts per IP per hour                     â”‚
â”‚  â€¢ Regeneratable by admin at any time                           â”‚
â”‚  â€¢ Logged: all verification attempts recorded                   â”‚
â”‚                                                                  â”‚
â”‚  INVITE TOKEN PROTECTION                                         â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚  â€¢ Single-use, expires in 7 days                                â”‚
â”‚  â€¢ Cryptographically random (32 bytes)                          â”‚
â”‚  â€¢ Tied to specific email address                               â”‚
â”‚  â€¢ Revocable by admin before use                                â”‚
â”‚                                                                  â”‚
â”‚  ABUSE PREVENTION                                                â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚  â€¢ Max 10 pending requests per user globally                    â”‚
â”‚  â€¢ Max 50 pending requests per company                          â”‚
â”‚  â€¢ Auto-cleanup of expired requests                             â”‚
â”‚  â€¢ Admin notifications for unusual join patterns                â”‚
â”‚                                                                  â”‚
â”‚  MULTI-COMPANY SAFETY                                            â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚  â€¢ Each company membership is independent                       â”‚
â”‚  â€¢ Removal from one doesn't affect others                       â”‚
â”‚  â€¢ Company-scoped roles, not global                             â”‚
â”‚  â€¢ Clear UI showing which company is active                     â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 7. Data Model Extensions

### New Tables Required

```sql
-- Company lifecycle states
ALTER TABLE companies ADD COLUMN status TEXT DEFAULT 'active'
  CHECK (status IN ('provisioning', 'active', 'suspended', 'archived'));

-- Subscriptions table (if not exists)
CREATE TABLE subscriptions (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  company_id UUID REFERENCES companies(id) ON DELETE CASCADE,
  tier TEXT NOT NULL DEFAULT 'trial',
  status TEXT NOT NULL DEFAULT 'active'
    CHECK (status IN ('active', 'past_due', 'suspended', 'cancelled')),

  -- Trial tracking
  trial_ends_at TIMESTAMPTZ,

  -- Billing period
  current_period_start TIMESTAMPTZ,
  current_period_end TIMESTAMPTZ,

  -- Future: Stripe integration
  stripe_customer_id TEXT,
  stripe_subscription_id TEXT,

  -- Metadata
  created_at TIMESTAMPTZ DEFAULT NOW(),
  updated_at TIMESTAMPTZ DEFAULT NOW(),

  UNIQUE(company_id)
);

-- Subscription tier definitions
CREATE TABLE subscription_tiers (
  name TEXT PRIMARY KEY,
  display_name TEXT NOT NULL,
  price_monthly_cents INT,
  max_projects INT,      -- NULL = unlimited
  max_users INT,
  max_storage_mb INT,
  features JSONB NOT NULL DEFAULT '[]',
  is_public BOOLEAN DEFAULT true,  -- false for enterprise/custom
  sort_order INT DEFAULT 0
);

-- Insert tier definitions
INSERT INTO subscription_tiers VALUES
  ('trial', 'Trial', 0, 10, 25, 5000, '["all"]', false, 0),
  ('free', 'Free', 0, 2, 5, 500, '["basic"]', true, 1),
  ('pro', 'Pro', 9900, 10, 25, 5000, '["all"]', true, 2),
  ('business', 'Business', 29900, 50, 100, 25000, '["all", "api"]', true, 3),
  ('enterprise', 'Enterprise', NULL, NULL, NULL, NULL, '["all", "api", "sso", "custom"]', false, 4);

-- Invite tokens
CREATE TABLE company_invites (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  company_id UUID REFERENCES companies(id) ON DELETE CASCADE,
  email TEXT NOT NULL,
  token TEXT NOT NULL UNIQUE,
  access_level TEXT NOT NULL DEFAULT 'member',
  company_role TEXT,

  invited_by UUID REFERENCES users(id),
  invited_at TIMESTAMPTZ DEFAULT NOW(),
  expires_at TIMESTAMPTZ DEFAULT NOW() + INTERVAL '7 days',

  accepted_at TIMESTAMPTZ,
  accepted_by UUID REFERENCES users(id),

  status TEXT DEFAULT 'pending' CHECK (status IN ('pending', 'accepted', 'expired', 'revoked'))
);

-- Membership status additions
ALTER TABLE user_companies ADD COLUMN IF NOT EXISTS invited_by UUID REFERENCES users(id);
ALTER TABLE user_companies ADD COLUMN IF NOT EXISTS invite_id UUID REFERENCES company_invites(id);
```

### Enhanced Company Table

```sql
-- Full company table with new fields
ALTER TABLE companies ADD COLUMN IF NOT EXISTS
  owner_user_id UUID REFERENCES users(id);

ALTER TABLE companies ADD COLUMN IF NOT EXISTS
  office_code_regenerated_at TIMESTAMPTZ;

ALTER TABLE companies ADD COLUMN IF NOT EXISTS
  settings JSONB DEFAULT '{}';

-- Settings structure:
-- {
--   "branding": { "logo_url": null, "primary_color": "#2563eb" },
--   "defaults": { "time_preset": "8hr", "overtime_threshold": 8 },
--   "notifications": { "pending_members": true, "weekly_digest": false }
-- }
```

---

## 8. Risk & Edge Case Analysis

### Edge Cases Matrix

| Scenario | Risk Level | Mitigation |
|----------|------------|------------|
| User abandons signup mid-flow | Low | Cleanup job removes stale `provisioning` companies after 24h |
| Payment fails during company creation | Medium | Subscription creation is deferred; company still activates |
| Admin removes themselves | High | RLS + trigger prevents if they're last admin |
| User joins same company twice | Low | Unique constraint on (user_id, company_id) |
| Invite link leaked | Medium | Single-use, email-bound, short expiry |
| Company code guessed | Medium | Office code verification required; rate limiting |
| Pending request sits forever | Low | Auto-expire after 30 days; admin notifications |
| Subscription expires mid-project | Medium | Graceful degradation: read-only, then suspended |
| Admin leaves, forgets to assign new admin | High | Prevented by trigger; cannot remove self if last admin |
| Email already exists (join vs create) | Medium | Check existence first; offer login or recovery |

### Failure Recovery Procedures

```javascript
// Recovery procedures for common failures

const RECOVERY_PROCEDURES = {
  // Company creation failed midway
  incomplete_company: {
    detection: "SELECT * FROM companies WHERE status = 'provisioning' AND created_at < NOW() - INTERVAL '24 hours'",
    action: 'Delete company and all related orphan records',
    userImpact: 'User can retry signup; no data loss (nothing was created yet)',
    frequency: 'Run cleanup job every hour'
  },

  // User in pending state, admin never approves
  stale_pending: {
    detection: "SELECT * FROM user_companies WHERE status = 'pending' AND created_at < NOW() - INTERVAL '30 days'",
    action: 'Auto-reject and notify user',
    userImpact: 'User can request again or contact company directly',
    frequency: 'Run daily'
  },

  // Invite never used
  expired_invite: {
    detection: "SELECT * FROM company_invites WHERE status = 'pending' AND expires_at < NOW()",
    action: "Update status to 'expired'",
    userImpact: 'Admin can resend invite',
    frequency: 'Run hourly'
  },

  // Admin-less company (should be impossible)
  orphan_company: {
    detection: `
      SELECT c.id FROM companies c
      WHERE NOT EXISTS (
        SELECT 1 FROM user_companies uc
        WHERE uc.company_id = c.id
        AND uc.status = 'active'
        AND uc.access_level = 'administrator'
      )
      AND c.status = 'active'
    `,
    action: 'Alert system admin; promote oldest active member or contact owner',
    userImpact: 'Temporary inability to manage company',
    frequency: 'Monitor continuously; should never trigger'
  }
}
```

### Security Threat Analysis

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   SECURITY THREATS                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  THREAT: Brute-force company/office codes                        â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚  Attack: Enumerate company codes, try common office codes        â”‚
â”‚  Mitigation:                                                     â”‚
â”‚    â€¢ 6-char alphanumeric = 2.1B combinations                    â”‚
â”‚    â€¢ Rate limit: 5 attempts/hour/IP                             â”‚
â”‚    â€¢ CAPTCHA after 3 failures                                   â”‚
â”‚    â€¢ Log all attempts for anomaly detection                     â”‚
â”‚                                                                  â”‚
â”‚  THREAT: Privilege escalation via membership manipulation        â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚  Attack: User modifies their own access_level                   â”‚
â”‚  Mitigation:                                                     â”‚
â”‚    â€¢ RLS enforces only admins can modify access_level           â”‚
â”‚    â€¢ API validates caller is admin before any role change       â”‚
â”‚    â€¢ Audit log tracks all membership changes                    â”‚
â”‚                                                                  â”‚
â”‚  THREAT: Cross-tenant data access                                â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚  Attack: Manipulate company_id in requests                      â”‚
â”‚  Mitigation:                                                     â”‚
â”‚    â€¢ RLS on ALL tables with company_id                          â”‚
â”‚    â€¢ Server validates company membership before any operation   â”‚
â”‚    â€¢ No client-side company_id trust                            â”‚
â”‚                                                                  â”‚
â”‚  THREAT: Subscription bypass                                     â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚  Attack: Access premium features without paying                 â”‚
â”‚  Mitigation:                                                     â”‚
â”‚    â€¢ Feature checks in both frontend and RLS                    â”‚
â”‚    â€¢ Database triggers enforce limits                           â”‚
â”‚    â€¢ Soft limits allow slight overage, hard limits block        â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 9. Admin Billing Portal

### Portal Overview

The Admin Billing Portal is where company owners/administrators manage their subscription, payment methods, team billing, and invoices. Only users with `access_level = 'administrator'` can access billing features.

### Portal Location & Access

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   BILLING PORTAL ACCESS                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚   Dashboard Navigation:                                          â”‚
â”‚                                                                  â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚  Projects  â”‚  Team  â”‚  CORs  â”‚  Reports  â”‚  âš™ Settings  â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                            â”‚                     â”‚
â”‚                                            â–¼                     â”‚
â”‚                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚                              â”‚     Settings Page       â”‚        â”‚
â”‚                              â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤        â”‚
â”‚                              â”‚  â€¢ Company Info         â”‚        â”‚
â”‚                              â”‚  â€¢ Team Codes           â”‚        â”‚
â”‚                              â”‚  â€¢ Billing & Plan  â—„â”€â”€â”€â”€â”¼â”€ NEW   â”‚
â”‚                              â”‚  â€¢ Notifications        â”‚        â”‚
â”‚                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                                                  â”‚
â”‚   Access Control:                                                â”‚
â”‚   â”œâ”€â”€ Administrator: Full access to all billing features       â”‚
â”‚   â””â”€â”€ Member: Can see current plan, but NOT billing details    â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Billing Dashboard Layout

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        BILLING & SUBSCRIPTION                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  CURRENT PLAN                                                        â”‚    â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚
â”‚  â”‚                                                                      â”‚    â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                       â”‚    â”‚
â”‚  â”‚   â”‚   PRO    â”‚   $99/month                                          â”‚    â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                       â”‚    â”‚
â”‚  â”‚                                                                      â”‚    â”‚
â”‚  â”‚   Status: âœ“ Active           Next billing: January 15, 2025         â”‚    â”‚
â”‚  â”‚                                                                      â”‚    â”‚
â”‚  â”‚   Usage this period:                                                 â”‚    â”‚
â”‚  â”‚   â”œâ”€â”€ Projects: 7 of 10                    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘ 70%           â”‚    â”‚
â”‚  â”‚   â”œâ”€â”€ Team members: 12 of 25               â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘ 48%           â”‚    â”‚
â”‚  â”‚   â””â”€â”€ Storage: 2.1 GB of 5 GB              â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘ 42%           â”‚    â”‚
â”‚  â”‚                                                                      â”‚    â”‚
â”‚  â”‚   [Change Plan]    [Cancel Subscription]                            â”‚    â”‚
â”‚  â”‚                                                                      â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  PAYMENT METHOD                                                      â”‚    â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚
â”‚  â”‚                                                                      â”‚    â”‚
â”‚  â”‚   ğŸ’³  Visa ending in 4242                    Expires 12/2026        â”‚    â”‚
â”‚  â”‚                                                                      â”‚    â”‚
â”‚  â”‚   [Update Payment Method]                                           â”‚    â”‚
â”‚  â”‚                                                                      â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  BILLING HISTORY                                                     â”‚    â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚
â”‚  â”‚                                                                      â”‚    â”‚
â”‚  â”‚   Date           Description              Amount      Status        â”‚    â”‚
â”‚  â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚    â”‚
â”‚  â”‚   Dec 15, 2024   Pro Plan - Monthly       $99.00      âœ“ Paid       â”‚    â”‚
â”‚  â”‚   Nov 15, 2024   Pro Plan - Monthly       $99.00      âœ“ Paid       â”‚    â”‚
â”‚  â”‚   Oct 15, 2024   Pro Plan - Monthly       $99.00      âœ“ Paid       â”‚    â”‚
â”‚  â”‚   Sep 15, 2024   Pro Plan - Monthly       $99.00      âœ“ Paid       â”‚    â”‚
â”‚  â”‚                                                                      â”‚    â”‚
â”‚  â”‚   [View All Invoices]    [Download All]                             â”‚    â”‚
â”‚  â”‚                                                                      â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Plan Selection Modal

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           CHANGE YOUR PLAN                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚   â”‚      FREE       â”‚  â”‚   PRO âœ“ Current â”‚  â”‚    BUSINESS     â”‚            â”‚
â”‚   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤            â”‚
â”‚   â”‚                 â”‚  â”‚                 â”‚  â”‚                 â”‚            â”‚
â”‚   â”‚   $0/month      â”‚  â”‚   $99/month     â”‚  â”‚   $299/month    â”‚            â”‚
â”‚   â”‚                 â”‚  â”‚                 â”‚  â”‚                 â”‚            â”‚
â”‚   â”‚   2 projects    â”‚  â”‚   10 projects   â”‚  â”‚   50 projects   â”‚            â”‚
â”‚   â”‚   5 users       â”‚  â”‚   25 users      â”‚  â”‚   100 users     â”‚            â”‚
â”‚   â”‚   500 MB        â”‚  â”‚   5 GB          â”‚  â”‚   25 GB         â”‚            â”‚
â”‚   â”‚                 â”‚  â”‚                 â”‚  â”‚                 â”‚            â”‚
â”‚   â”‚   Basic T&M     â”‚  â”‚   All features  â”‚  â”‚   All features  â”‚            â”‚
â”‚   â”‚                 â”‚  â”‚   Photo uploads â”‚  â”‚   API access    â”‚            â”‚
â”‚   â”‚                 â”‚  â”‚   Reports       â”‚  â”‚   Priority      â”‚            â”‚
â”‚   â”‚                 â”‚  â”‚                 â”‚  â”‚   support       â”‚            â”‚
â”‚   â”‚                 â”‚  â”‚                 â”‚  â”‚                 â”‚            â”‚
â”‚   â”‚   [Downgrade]   â”‚  â”‚   Current Plan  â”‚  â”‚   [Upgrade]     â”‚            â”‚
â”‚   â”‚                 â”‚  â”‚                 â”‚  â”‚                 â”‚            â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚                                                                              â”‚
â”‚   Need more? [Contact us for Enterprise pricing]                            â”‚
â”‚                                                                              â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚
â”‚                                                                              â”‚
â”‚   Upgrade: Takes effect immediately, prorated for current period            â”‚
â”‚   Downgrade: Takes effect at end of current billing period                  â”‚
â”‚                                                                              â”‚
â”‚                                                   [Cancel]                   â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Admin Billing Capabilities

```javascript
// What administrators can do in the billing portal
const BILLING_CAPABILITIES = {
  // View capabilities
  view: {
    current_plan: true,           // Plan name, price, features
    usage_metrics: true,          // Projects, users, storage used
    billing_period: true,         // Current period dates
    payment_method: true,         // Last 4 digits, expiry (NOT full card)
    invoice_history: true,        // All past invoices
    invoice_download: true        // Download PDF invoices
  },

  // Modify capabilities
  modify: {
    upgrade_plan: true,           // Immediately with proration
    downgrade_plan: true,         // Effective end of period
    cancel_subscription: true,    // With confirmation + grace period
    update_payment_method: true,  // Replace card via Stripe
    update_billing_email: true,   // Where invoices are sent
    enable_auto_renew: true       // Toggle auto-renewal
  },

  // Cannot do (requires FieldSync support)
  restricted: {
    custom_pricing: false,        // Contact sales
    enterprise_tier: false,       // Contact sales
    refund_request: false,        // Contact support
    transfer_ownership: false     // Contact support
  }
}
```

### Cancellation Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   CANCELLATION FLOW                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  STEP 1: Initiate                                                â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚  Admin clicks "Cancel Subscription"                             â”‚
â”‚                                                                  â”‚
â”‚  STEP 2: Retention Offer (Optional)                              â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Before you go...                                         â”‚   â”‚
â”‚  â”‚                                                           â”‚   â”‚
â”‚  â”‚  We'd hate to see you leave! Here are some options:      â”‚   â”‚
â”‚  â”‚                                                           â”‚   â”‚
â”‚  â”‚  â€¢ Downgrade to Free (keep your data, limited features)  â”‚   â”‚
â”‚  â”‚  â€¢ Pause for 1 month (keep plan, skip next payment)      â”‚   â”‚
â”‚  â”‚  â€¢ Talk to support (we can help with issues)             â”‚   â”‚
â”‚  â”‚                                                           â”‚   â”‚
â”‚  â”‚  [Continue Cancellation]    [I'll Stay]                  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                  â”‚
â”‚  STEP 3: Confirm Cancellation                                    â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Confirm Cancellation                                     â”‚   â”‚
â”‚  â”‚                                                           â”‚   â”‚
â”‚  â”‚  Your subscription will remain active until:              â”‚   â”‚
â”‚  â”‚  January 15, 2025 (end of billing period)                â”‚   â”‚
â”‚  â”‚                                                           â”‚   â”‚
â”‚  â”‚  After that date:                                         â”‚   â”‚
â”‚  â”‚  â€¢ Your account will convert to Free tier                â”‚   â”‚
â”‚  â”‚  â€¢ Data over Free limits becomes read-only               â”‚   â”‚
â”‚  â”‚  â€¢ You can reactivate anytime                            â”‚   â”‚
â”‚  â”‚                                                           â”‚   â”‚
â”‚  â”‚  Type "CANCEL" to confirm: [____________]                â”‚   â”‚
â”‚  â”‚                                                           â”‚   â”‚
â”‚  â”‚  [Cancel Subscription]                                   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                  â”‚
â”‚  STEP 4: Post-Cancellation                                       â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚  â€¢ Email confirmation sent                                      â”‚
â”‚  â€¢ Access continues until period end                            â”‚
â”‚  â€¢ Subscription status: "cancelling"                            â”‚
â”‚  â€¢ At period end: auto-convert to Free tier                     â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Member View (Non-Admin)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   MEMBER VIEW (LIMITED)                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚   Members can see:                                               â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚  YOUR COMPANY'S PLAN                                      â”‚  â”‚
â”‚   â”‚                                                           â”‚  â”‚
â”‚   â”‚  Plan: Pro                                                â”‚  â”‚
â”‚   â”‚  Status: Active                                           â”‚  â”‚
â”‚   â”‚                                                           â”‚  â”‚
â”‚   â”‚  Usage:                                                   â”‚  â”‚
â”‚   â”‚  â”œâ”€â”€ Projects: 7 of 10                                   â”‚  â”‚
â”‚   â”‚  â”œâ”€â”€ Team members: 12 of 25                              â”‚  â”‚
â”‚   â”‚  â””â”€â”€ Storage: 2.1 GB of 5 GB                             â”‚  â”‚
â”‚   â”‚                                                           â”‚  â”‚
â”‚   â”‚  â„¹ Contact an administrator to manage billing            â”‚  â”‚
â”‚   â”‚                                                           â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                  â”‚
â”‚   Members CANNOT see:                                            â”‚
â”‚   âœ— Payment method details                                      â”‚
â”‚   âœ— Invoice history                                             â”‚
â”‚   âœ— Billing amounts                                             â”‚
â”‚   âœ— Change/cancel subscription                                  â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 10. Payment Processing & Stripe Integration

### Why Stripe?

| Factor | Stripe | Alternatives |
|--------|--------|--------------|
| PCI Compliance | Handled by Stripe | Must manage ourselves |
| Supabase Integration | Native Edge Functions support | Varies |
| Subscription Management | Built-in | Must build |
| Global Payments | 135+ currencies | Limited |
| Developer Experience | Excellent docs, webhooks | Varies |
| Pricing | 2.9% + $0.30 per transaction | Comparable |

**Decision:** Use Stripe for all payment processing.

### Architecture Overview

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    PAYMENT PROCESSING ARCHITECTURE                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚   â”‚  FieldSync  â”‚         â”‚   Supabase  â”‚         â”‚   Stripe    â”‚          â”‚
â”‚   â”‚   Client    â”‚         â”‚   Backend   â”‚         â”‚   (Vault)   â”‚          â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚          â”‚                       â”‚                       â”‚                  â”‚
â”‚          â”‚  1. User clicks       â”‚                       â”‚                  â”‚
â”‚          â”‚     "Add Payment"     â”‚                       â”‚                  â”‚
â”‚          â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                       â”‚                  â”‚
â”‚          â”‚                       â”‚  2. Create Checkout   â”‚                  â”‚
â”‚          â”‚                       â”‚     Session           â”‚                  â”‚
â”‚          â”‚                       â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                  â”‚
â”‚          â”‚                       â”‚                       â”‚                  â”‚
â”‚          â”‚                       â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                  â”‚
â”‚          â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚  3. Return Session URLâ”‚                  â”‚
â”‚          â”‚  Redirect to Stripe   â”‚                       â”‚                  â”‚
â”‚          â”‚                       â”‚                       â”‚                  â”‚
â”‚          â”‚ â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â–ºâ”‚                  â”‚
â”‚          â”‚  4. User enters card on Stripe-hosted page    â”‚                  â”‚
â”‚          â”‚                       â”‚                       â”‚                  â”‚
â”‚          â”‚â—„â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• â”‚                  â”‚
â”‚          â”‚  5. Redirect back to FieldSync               â”‚                  â”‚
â”‚          â”‚                       â”‚                       â”‚                  â”‚
â”‚          â”‚                       â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                  â”‚
â”‚          â”‚                       â”‚  6. Webhook: payment  â”‚                  â”‚
â”‚          â”‚                       â”‚     successful        â”‚                  â”‚
â”‚          â”‚                       â”‚                       â”‚                  â”‚
â”‚          â”‚                       â”‚  7. Update subscription                  â”‚
â”‚          â”‚                       â”‚     in database       â”‚                  â”‚
â”‚          â”‚                       â”‚                       â”‚                  â”‚
â”‚                                                                              â”‚
â”‚   KEY POINT: Card details NEVER touch FieldSync servers                     â”‚
â”‚   Stripe handles all PCI compliance                                         â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Data Model for Payments

```sql
-- Extended subscriptions table with Stripe fields
ALTER TABLE subscriptions ADD COLUMN IF NOT EXISTS
  stripe_customer_id TEXT UNIQUE;

ALTER TABLE subscriptions ADD COLUMN IF NOT EXISTS
  stripe_subscription_id TEXT UNIQUE;

ALTER TABLE subscriptions ADD COLUMN IF NOT EXISTS
  stripe_price_id TEXT;

ALTER TABLE subscriptions ADD COLUMN IF NOT EXISTS
  cancel_at_period_end BOOLEAN DEFAULT FALSE;

ALTER TABLE subscriptions ADD COLUMN IF NOT EXISTS
  cancelled_at TIMESTAMPTZ;

-- Payment methods (reference only - Stripe is source of truth)
CREATE TABLE payment_methods (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  company_id UUID REFERENCES companies(id) ON DELETE CASCADE,
  stripe_payment_method_id TEXT NOT NULL,

  -- Display info only (never store full card)
  card_brand TEXT,           -- 'visa', 'mastercard', etc.
  card_last_four TEXT,       -- '4242'
  card_exp_month INT,
  card_exp_year INT,

  is_default BOOLEAN DEFAULT FALSE,
  created_at TIMESTAMPTZ DEFAULT NOW(),

  UNIQUE(company_id, stripe_payment_method_id)
);

-- Invoice records (synced from Stripe webhooks)
CREATE TABLE invoices (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  company_id UUID REFERENCES companies(id) ON DELETE CASCADE,
  stripe_invoice_id TEXT UNIQUE NOT NULL,

  amount_cents INT NOT NULL,
  currency TEXT DEFAULT 'usd',
  status TEXT NOT NULL,        -- 'paid', 'open', 'void', 'uncollectible'

  period_start TIMESTAMPTZ,
  period_end TIMESTAMPTZ,
  paid_at TIMESTAMPTZ,

  invoice_pdf_url TEXT,
  hosted_invoice_url TEXT,

  created_at TIMESTAMPTZ DEFAULT NOW()
);

-- Subscription events log (audit trail)
CREATE TABLE subscription_events (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  company_id UUID REFERENCES companies(id) ON DELETE CASCADE,

  event_type TEXT NOT NULL,    -- 'created', 'upgraded', 'downgraded', 'cancelled', 'renewed', 'payment_failed'
  from_tier TEXT,
  to_tier TEXT,

  stripe_event_id TEXT,        -- Stripe webhook event ID
  metadata JSONB,

  created_at TIMESTAMPTZ DEFAULT NOW()
);
```

### Stripe Products & Prices Setup

```javascript
// Stripe product/price structure (set up in Stripe Dashboard or via API)
const STRIPE_PRODUCTS = {
  // Each tier is a Stripe Product
  pro: {
    product_id: 'prod_Pro123',
    name: 'FieldSync Pro',
    prices: {
      monthly: {
        price_id: 'price_ProMonthly123',
        amount: 9900,  // $99.00
        interval: 'month'
      },
      yearly: {
        price_id: 'price_ProYearly123',
        amount: 99000,  // $990.00 (2 months free)
        interval: 'year'
      }
    }
  },
  business: {
    product_id: 'prod_Business123',
    name: 'FieldSync Business',
    prices: {
      monthly: {
        price_id: 'price_BusinessMonthly123',
        amount: 29900,  // $299.00
        interval: 'month'
      },
      yearly: {
        price_id: 'price_BusinessYearly123',
        amount: 299000,  // $2,990.00 (2 months free)
        interval: 'year'
      }
    }
  }
}
```

### Monthly Billing Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   MONTHLY BILLING CYCLE                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  DAY 0: Subscription Created                                     â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚  1. User completes checkout on Stripe                           â”‚
â”‚  2. Stripe creates subscription + first invoice                 â”‚
â”‚  3. Stripe charges payment method                               â”‚
â”‚  4. Webhook: customer.subscription.created                      â”‚
â”‚  5. FieldSync updates subscription record                       â”‚
â”‚                                                                  â”‚
â”‚  DAY 30: Renewal (Automated by Stripe)                           â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚  1. Stripe generates invoice for next period                    â”‚
â”‚  2. Stripe attempts to charge payment method                    â”‚
â”‚  3. If SUCCESS:                                                 â”‚
â”‚     â€¢ Webhook: invoice.paid                                     â”‚
â”‚     â€¢ FieldSync logs successful payment                         â”‚
â”‚     â€¢ Update current_period_end                                 â”‚
â”‚  4. If FAILED:                                                  â”‚
â”‚     â€¢ Webhook: invoice.payment_failed                           â”‚
â”‚     â€¢ FieldSync marks subscription "past_due"                   â”‚
â”‚     â€¢ Email sent to admin                                       â”‚
â”‚     â€¢ Stripe retries (Smart Retries)                            â”‚
â”‚                                                                  â”‚
â”‚  RETRY SCHEDULE (Stripe Smart Retries):                          â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚  â€¢ Day 0: First attempt fails                                   â”‚
â”‚  â€¢ Day 3: Retry #1                                              â”‚
â”‚  â€¢ Day 5: Retry #2                                              â”‚
â”‚  â€¢ Day 7: Retry #3                                              â”‚
â”‚  â€¢ Day 7+: Final failure â†’ subscription suspended               â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Webhook Handlers

```javascript
// Supabase Edge Function: stripe-webhooks
// File: supabase/functions/stripe-webhooks/index.ts

const WEBHOOK_HANDLERS = {
  // New subscription created
  'customer.subscription.created': async (event) => {
    const subscription = event.data.object
    const companyId = subscription.metadata.company_id

    await supabase.from('subscriptions').upsert({
      company_id: companyId,
      stripe_subscription_id: subscription.id,
      stripe_customer_id: subscription.customer,
      tier: mapPriceToTier(subscription.items.data[0].price.id),
      status: 'active',
      current_period_start: new Date(subscription.current_period_start * 1000),
      current_period_end: new Date(subscription.current_period_end * 1000)
    })

    await logSubscriptionEvent(companyId, 'created', null, subscription.metadata.tier)
  },

  // Subscription updated (upgrade/downgrade)
  'customer.subscription.updated': async (event) => {
    const subscription = event.data.object
    const previous = event.data.previous_attributes
    const companyId = await getCompanyByStripeCustomer(subscription.customer)

    await supabase.from('subscriptions').update({
      tier: mapPriceToTier(subscription.items.data[0].price.id),
      status: mapStripeStatus(subscription.status),
      current_period_end: new Date(subscription.current_period_end * 1000),
      cancel_at_period_end: subscription.cancel_at_period_end
    }).eq('company_id', companyId)

    // Log tier change if applicable
    if (previous.items) {
      const oldTier = mapPriceToTier(previous.items.data[0].price.id)
      const newTier = mapPriceToTier(subscription.items.data[0].price.id)
      if (oldTier !== newTier) {
        const eventType = tierRank(newTier) > tierRank(oldTier) ? 'upgraded' : 'downgraded'
        await logSubscriptionEvent(companyId, eventType, oldTier, newTier)
      }
    }
  },

  // Payment succeeded
  'invoice.paid': async (event) => {
    const invoice = event.data.object
    const companyId = await getCompanyByStripeCustomer(invoice.customer)

    // Store invoice record
    await supabase.from('invoices').upsert({
      company_id: companyId,
      stripe_invoice_id: invoice.id,
      amount_cents: invoice.amount_paid,
      status: 'paid',
      period_start: new Date(invoice.period_start * 1000),
      period_end: new Date(invoice.period_end * 1000),
      paid_at: new Date(),
      invoice_pdf_url: invoice.invoice_pdf,
      hosted_invoice_url: invoice.hosted_invoice_url
    })

    // Ensure subscription is active
    await supabase.from('subscriptions').update({
      status: 'active'
    }).eq('company_id', companyId)

    await logSubscriptionEvent(companyId, 'renewed')
  },

  // Payment failed
  'invoice.payment_failed': async (event) => {
    const invoice = event.data.object
    const companyId = await getCompanyByStripeCustomer(invoice.customer)

    // Mark as past due
    await supabase.from('subscriptions').update({
      status: 'past_due'
    }).eq('company_id', companyId)

    await logSubscriptionEvent(companyId, 'payment_failed', null, null, {
      attempt_count: invoice.attempt_count,
      next_attempt: invoice.next_payment_attempt
    })

    // Send email to company admins
    await sendPaymentFailedEmail(companyId, invoice)
  },

  // Subscription cancelled
  'customer.subscription.deleted': async (event) => {
    const subscription = event.data.object
    const companyId = await getCompanyByStripeCustomer(subscription.customer)

    // Downgrade to free tier
    await supabase.from('subscriptions').update({
      tier: 'free',
      status: 'active',  // Back to active, just on free
      stripe_subscription_id: null,
      cancelled_at: new Date()
    }).eq('company_id', companyId)

    await logSubscriptionEvent(companyId, 'cancelled')
    await sendCancellationConfirmationEmail(companyId)
  }
}
```

### Checkout Flow Implementation

```javascript
// Client-side: Initiate checkout
async function initiateCheckout(companyId, priceId) {
  // Call Supabase Edge Function
  const { data, error } = await supabase.functions.invoke('create-checkout', {
    body: { companyId, priceId }
  })

  if (error) throw error

  // Redirect to Stripe Checkout
  window.location.href = data.checkout_url
}

// Edge Function: create-checkout
// supabase/functions/create-checkout/index.ts
async function createCheckout(req) {
  const { companyId, priceId } = await req.json()

  // Verify user is admin of company
  const user = await getAuthUser(req)
  const isAdmin = await verifyCompanyAdmin(user.id, companyId)
  if (!isAdmin) throw new Error('Unauthorized')

  // Get or create Stripe customer
  const company = await getCompany(companyId)
  let customerId = company.subscription?.stripe_customer_id

  if (!customerId) {
    const customer = await stripe.customers.create({
      email: user.email,
      name: company.name,
      metadata: { company_id: companyId }
    })
    customerId = customer.id
  }

  // Create checkout session
  const session = await stripe.checkout.sessions.create({
    customer: customerId,
    mode: 'subscription',
    line_items: [{ price: priceId, quantity: 1 }],
    success_url: `${SITE_URL}/settings/billing?success=true`,
    cancel_url: `${SITE_URL}/settings/billing?cancelled=true`,
    subscription_data: {
      metadata: { company_id: companyId }
    }
  })

  return { checkout_url: session.url }
}
```

### Update Payment Method Flow

```javascript
// Client-side: Update payment method
async function updatePaymentMethod(companyId) {
  const { data, error } = await supabase.functions.invoke('create-portal-session', {
    body: { companyId }
  })

  if (error) throw error

  // Redirect to Stripe Customer Portal
  window.location.href = data.portal_url
}

// Edge Function: create-portal-session
async function createPortalSession(req) {
  const { companyId } = await req.json()

  // Verify admin
  const user = await getAuthUser(req)
  const isAdmin = await verifyCompanyAdmin(user.id, companyId)
  if (!isAdmin) throw new Error('Unauthorized')

  const subscription = await getSubscription(companyId)

  const session = await stripe.billingPortal.sessions.create({
    customer: subscription.stripe_customer_id,
    return_url: `${SITE_URL}/settings/billing`
  })

  return { portal_url: session.url }
}
```

### Proration for Upgrades/Downgrades

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   PRORATION STRATEGY                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  UPGRADE (Pro â†’ Business mid-cycle)                              â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚                                                                  â”‚
â”‚  Day 15 of 30-day billing period                                â”‚
â”‚  Pro: $99/month = $3.30/day                                     â”‚
â”‚  Business: $299/month = $9.97/day                               â”‚
â”‚                                                                  â”‚
â”‚  Calculation:                                                    â”‚
â”‚  - Credit for unused Pro: 15 days Ã— $3.30 = $49.50             â”‚
â”‚  - Charge for Business: 15 days Ã— $9.97 = $149.55              â”‚
â”‚  - Net charge today: $149.55 - $49.50 = $100.05                â”‚
â”‚  - Next month: Full $299                                        â”‚
â”‚                                                                  â”‚
â”‚  Stripe handles this automatically with proration_behavior:     â”‚
â”‚  'create_prorations'                                            â”‚
â”‚                                                                  â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                                                  â”‚
â”‚  DOWNGRADE (Business â†’ Pro mid-cycle)                            â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚                                                                  â”‚
â”‚  Strategy: Schedule change for end of period                    â”‚
â”‚  - User keeps Business features until period ends               â”‚
â”‚  - No refund issued                                             â”‚
â”‚  - New rate applies at renewal                                  â”‚
â”‚                                                                  â”‚
â”‚  Stripe: schedule subscription update                           â”‚
â”‚  stripe.subscriptions.update(subId, {                           â”‚
â”‚    proration_behavior: 'none',                                  â”‚
â”‚    items: [{ price: newPriceId }],                              â”‚
â”‚    billing_cycle_anchor: 'unchanged'                            â”‚
â”‚  })                                                              â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Free Tier Handling

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               FREE TIER - NO PAYMENT REQUIRED                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  Companies on Free tier:                                         â”‚
â”‚  â€¢ No Stripe customer created until they upgrade                â”‚
â”‚  â€¢ No payment method required                                   â”‚
â”‚  â€¢ subscription.status = 'active', tier = 'free'                â”‚
â”‚  â€¢ stripe_customer_id = NULL                                    â”‚
â”‚  â€¢ stripe_subscription_id = NULL                                â”‚
â”‚                                                                  â”‚
â”‚  Upgrade from Free:                                              â”‚
â”‚  1. User selects paid plan                                      â”‚
â”‚  2. Stripe customer created                                     â”‚
â”‚  3. Checkout session initiated                                  â”‚
â”‚  4. On success: tier updated, subscription created              â”‚
â”‚                                                                  â”‚
â”‚  Trial Expiration â†’ Free:                                        â”‚
â”‚  â€¢ Automatic at trial_ends_at                                   â”‚
â”‚  â€¢ No payment attempted                                         â”‚
â”‚  â€¢ Tier changes from 'trial' to 'free'                          â”‚
â”‚  â€¢ Email notification sent                                      â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Enterprise / Custom Pricing

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               ENTERPRISE TIER HANDLING                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  Enterprise subscriptions are NOT self-service:                  â”‚
â”‚                                                                  â”‚
â”‚  1. Company contacts sales (via form or email)                  â”‚
â”‚  2. Sales discusses needs, negotiates pricing                   â”‚
â”‚  3. Sales creates custom Stripe Price (one-time or recurring)   â”‚
â”‚  4. Sales manually:                                              â”‚
â”‚     - Creates Stripe customer                                   â”‚
â”‚     - Creates subscription with custom price                    â”‚
â”‚     - Updates FieldSync subscription record                     â”‚
â”‚       â€¢ tier = 'enterprise'                                     â”‚
â”‚       â€¢ Sets custom limits in metadata                          â”‚
â”‚                                                                  â”‚
â”‚  Enterprise features:                                            â”‚
â”‚  â€¢ Custom user/project/storage limits                           â”‚
â”‚  â€¢ SSO/SAML integration                                         â”‚
â”‚  â€¢ Dedicated support                                            â”‚
â”‚  â€¢ Custom contract terms                                        â”‚
â”‚  â€¢ Annual billing (typically)                                   â”‚
â”‚                                                                  â”‚
â”‚  In Billing Portal, Enterprise users see:                       â”‚
â”‚  "Enterprise Plan - Contact support for changes"                â”‚
â”‚  (No self-service downgrade)                                    â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 11. Implementation Roadmap

### Phase 1: Foundation (Required First)

**Scope:** Core infrastructure for company creation and subscription tracking

| Task | Priority | Complexity |
|------|----------|------------|
| Add `subscriptions` table | P0 | Low |
| Add `subscription_tiers` table | P0 | Low |
| Add `status` column to companies | P0 | Low |
| Create `create_company_atomic` RPC | P0 | Medium |
| Add orphan prevention trigger | P0 | Low |
| Add "Create Company" to AppEntry | P0 | Medium |
| Build company creation wizard UI | P0 | Medium |

### Phase 2: Admin Settings & Subscription View

**Scope:** Admin can view subscription status and company settings

| Task | Priority | Complexity |
|------|----------|------------|
| Add Settings page to dashboard navigation | P1 | Low |
| Build Company Info settings section | P1 | Low |
| Build Team Codes section (view/regenerate) | P1 | Medium |
| Build Billing & Plan section (view only) | P1 | Medium |
| Show current tier, usage metrics, period dates | P1 | Low |
| Feature gating hooks (check tier on actions) | P1 | Medium |
| Tier limit enforcement (soft warnings) | P1 | Medium |

### Phase 3: Admin Billing Portal (Pre-Stripe)

**Scope:** Full billing portal UI ready for Stripe integration

| Task | Priority | Complexity |
|------|----------|------------|
| Plan comparison modal (Free/Pro/Business) | P2 | Medium |
| Upgrade request flow (form, not payment yet) | P2 | Low |
| Cancellation flow UI (confirmation, retention) | P2 | Medium |
| Invoice history UI (empty state for now) | P2 | Low |
| Payment method display area (placeholder) | P2 | Low |
| Add `payment_methods` table | P2 | Low |
| Add `invoices` table | P2 | Low |
| Add `subscription_events` table (audit log) | P2 | Low |

### Phase 4: Stripe Integration (Monetization)

**Scope:** Full payment processing with Stripe

| Task | Priority | Complexity |
|------|----------|------------|
| Create Stripe account and configure products | P3 | Low |
| Set up Stripe products/prices for each tier | P3 | Low |
| Deploy `create-checkout` Edge Function | P3 | Medium |
| Deploy `create-portal-session` Edge Function | P3 | Medium |
| Deploy `stripe-webhooks` Edge Function | P3 | High |
| Handle `customer.subscription.created` webhook | P3 | Medium |
| Handle `customer.subscription.updated` webhook | P3 | Medium |
| Handle `invoice.paid` webhook | P3 | Medium |
| Handle `invoice.payment_failed` webhook | P3 | Medium |
| Handle `customer.subscription.deleted` webhook | P3 | Medium |
| Connect checkout button to Stripe | P3 | Medium |
| Connect "Update Payment Method" to Stripe Portal | P3 | Low |
| Sync invoices from Stripe to database | P3 | Medium |
| Test upgrade/downgrade proration | P3 | Medium |
| Test payment failure â†’ past_due â†’ suspended flow | P3 | Medium |
| Email notifications for billing events | P3 | Medium |

### Phase 5: Invites & Team Management

**Scope:** Streamlined team onboarding

| Task | Priority | Complexity |
|------|----------|------------|
| Add `company_invites` table | P4 | Low |
| Admin invite UI (send invite by email) | P4 | Medium |
| Invite email templates (Supabase Auth emails) | P4 | Low |
| Invite acceptance flow (token validation) | P4 | Medium |
| Pending request notifications (in-app) | P4 | Medium |
| Email notifications for pending requests | P4 | Low |

### Phase 6: Enterprise Features (Scale)

**Scope:** Features for larger customers

| Task | Priority | Complexity |
|------|----------|------------|
| SSO integration (SAML/OIDC) | P5 | High |
| API key management | P5 | Medium |
| Custom tier pricing (manual setup) | P5 | Medium |
| Audit log export | P5 | Medium |
| Multi-region support | P5 | Very High |

### Implementation Notes

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   IMPLEMENTATION ORDER                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  Phase 1-2: Can ship without payment processing                 â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚  â€¢ Companies on "free" or "trial" tier                          â”‚
â”‚  â€¢ Admin can see plan but not change it                         â”‚
â”‚  â€¢ Manual upgrades (you set tier in database)                   â”‚
â”‚                                                                  â”‚
â”‚  Phase 3: UI ready, no real payments                             â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚  â€¢ Billing portal looks complete                                â”‚
â”‚  â€¢ "Upgrade" sends email to you instead of charging            â”‚
â”‚  â€¢ Good for beta testing with real companies                   â”‚
â”‚                                                                  â”‚
â”‚  Phase 4: Real payments enabled                                  â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚  â€¢ Stripe connected                                             â”‚
â”‚  â€¢ Automated monthly billing                                    â”‚
â”‚  â€¢ Self-service upgrades/downgrades                             â”‚
â”‚  â€¢ Invoice history populated                                    â”‚
â”‚                                                                  â”‚
â”‚  Recommendation: Complete Phase 1-3 first, then decide on      â”‚
â”‚  Phase 4 timing based on customer demand                        â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Cost Estimate (Stripe)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   STRIPE COSTS                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  Per Transaction:                                                â”‚
â”‚  â€¢ 2.9% + $0.30 per successful charge                           â”‚
â”‚                                                                  â”‚
â”‚  Example at 10 paying companies ($99/mo Pro):                   â”‚
â”‚  â€¢ Monthly revenue: $990                                        â”‚
â”‚  â€¢ Stripe fees: $990 Ã— 2.9% + ($0.30 Ã— 10) = $31.71            â”‚
â”‚  â€¢ Net: $958.29                                                 â”‚
â”‚                                                                  â”‚
â”‚  Example at 100 paying companies:                                â”‚
â”‚  â€¢ Monthly revenue: $9,900                                      â”‚
â”‚  â€¢ Stripe fees: ~$320                                           â”‚
â”‚  â€¢ Net: ~$9,580                                                 â”‚
â”‚                                                                  â”‚
â”‚  No monthly Stripe fees (pay-as-you-go)                         â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Appendix A: Full Flow Diagrams

### Complete User Journey Map

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        COMPLETE USER JOURNEY MAP                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚                           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                    â”‚
â”‚                           â”‚   Landing   â”‚                                    â”‚
â”‚                           â”‚   Screen    â”‚                                    â”‚
â”‚                           â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                                    â”‚
â”‚                                  â”‚                                           â”‚
â”‚           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚           â”‚                      â”‚                      â”‚                    â”‚
â”‚           â–¼                      â–¼                      â–¼                    â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚    â”‚  Foreman   â”‚         â”‚   Office   â”‚         â”‚Get Started â”‚             â”‚
â”‚    â”‚  Access    â”‚         â”‚   Login    â”‚         â”‚            â”‚             â”‚
â”‚    â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚          â”‚                      â”‚                      â”‚                     â”‚
â”‚          â–¼                      â”‚            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚    Company Code                 â”‚            â”‚                   â”‚          â”‚
â”‚    + Project PIN                â”‚            â–¼                   â–¼          â”‚
â”‚          â”‚                      â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚          â–¼                      â”‚     â”‚  Create    â”‚      â”‚   Join     â”‚    â”‚
â”‚    Field App                    â”‚     â”‚  Company   â”‚      â”‚  Company   â”‚    â”‚
â”‚    (T&M Entry)                  â”‚     â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                 â”‚           â”‚                   â”‚           â”‚
â”‚                                 â”‚           â–¼                   â–¼           â”‚
â”‚                                 â”‚     Your Info           Company Code      â”‚
â”‚                                 â”‚     + Company Name      + Office Code     â”‚
â”‚                                 â”‚           â”‚                   â”‚           â”‚
â”‚                                 â”‚           â–¼                   â–¼           â”‚
â”‚                                 â”‚     Select Plan         Your Info         â”‚
â”‚                                 â”‚     (or Trial)               â”‚           â”‚
â”‚                                 â”‚           â”‚                   â–¼           â”‚
â”‚                                 â”‚           â”‚            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚                                 â”‚           â”‚            â”‚   Pending    â”‚   â”‚
â”‚                                 â”‚           â”‚            â”‚   Approval   â”‚   â”‚
â”‚                                 â”‚           â”‚            â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                 â”‚           â”‚                   â”‚           â”‚
â”‚                                 â”‚           â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚                                 â”‚           â”‚         â”‚                â”‚    â”‚
â”‚                                 â”‚           â”‚    (approved)       (rejected)â”‚
â”‚                                 â”‚           â”‚         â”‚                â”‚    â”‚
â”‚                                 â”‚           â–¼         â–¼                â–¼    â”‚
â”‚                                 â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     Try Again   â”‚
â”‚                                 â””â”€â”€â”€â”€â–ºâ”‚                   â”‚                 â”‚
â”‚                                       â”‚    Dashboard      â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚                                       â”‚                   â”‚                  â”‚
â”‚                                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â”‚                                                 â”‚                            â”‚
â”‚                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚                      â”‚                          â”‚                      â”‚     â”‚
â”‚                      â–¼                          â–¼                      â–¼     â”‚
â”‚               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚               â”‚ Projects â”‚              â”‚     Team     â”‚        â”‚ Settings â”‚ â”‚
â”‚               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚  Management  â”‚        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Appendix B: Decision Summary

### Recommendation: Entry Point Architecture

**Decision:** Hybrid approach with unified entry screen

**Rationale:**
1. Single codebase, consistent experience
2. Clear progressive disclosure
3. Works for all user types
4. Mobile-friendly
5. No authentication fragmentation

### Recommendation: Company Creation

**Decision:** 2-step wizard with deferred plan selection

**Rationale:**
1. Minimal friction to start
2. Trial allows full exploration
3. Atomic transaction prevents orphans
4. Progressive commitment model

### Recommendation: Subscription Model

**Decision:** Trial-first with soft limits

**Rationale:**
1. Let users experience value before paying
2. Soft limits encourage upgrade without frustration
3. Decoupled billing doesn't block core functionality
4. Easy to integrate Stripe later

### Recommendation: Join Flow

**Decision:** Keep code-based + add admin invites

**Rationale:**
1. Current flow is secure and working
2. Invites provide better UX for known hires
3. Both methods serve different use cases
4. Invites auto-approve, reducing admin burden

---

**Document End**

*This architecture is designed to support FieldSync from 10 to 10,000+ companies without redesign. Implementation should proceed in phases, with Phase 1 being the minimum viable infrastructure.*
